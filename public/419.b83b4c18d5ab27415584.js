"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[419],{419:(nn,w,l)=>{l.r(w),l.d(w,{CompaniesModule:()=>tn});var d=l(8583),e=l(7716),u=l(1256),f=l(3423);let Y=(()=>{class n{constructor(t){this.companiesService=t,this.openModal=!1,this.headersTable=["Ruc","Descripci\xf3n","Representante","Estado","Acciones"],this.companiesService.findAll()}get companies(){return this.companiesService.companies}ngOnInit(){}handlerOpenModal(t){this.openModal=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-companies"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[f.lC],encapsulation:2}),n})();var T=l(5108),Q=l(9529),E=l(7489),C=l(2453),k=l(1740),y=l(5593),F=l(1795),g=l(1512),r=l(3679),P=l(7913),H=l(3520),p=l(1095),_=l(4885),q=l(6627),c=l(805),M=l(6234);let R=(()=>{class n{constructor(t,o){this.branchesService=t,this.messageService=o,this.setOpen=new e.vpe}ngOnInit(){}handlerModal(t){this.setOpen.emit(t)}handlerDelete(){this.branchesService.delete(this.address.id).subscribe(t=>{this.messageService.add({severity:"success",detail:"Transacci\xf3n exitosa",summary:"Sucursal elminada correctamente"}),this.setOpen.emit(!1)},()=>{this.messageService.add({severity:"error",detail:"Transacci\xf3n fallida",summary:"la transacci\xf3n no se pudo completar"}),this.setOpen.emit(!1)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M.p),e.Y36(c.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-address"]],inputs:{open:"open",address:"address"},outputs:{setOpen:"setOpen"},decls:10,vars:1,consts:[["header","Eliminar sede",3,"visible","visibleChange","onHide"],[1,"font-medium","text-lg"],[1,"mt-5","flex","justify-end"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","",1,"ml-3","bg-gray-400",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return o.open=s})("onHide",function(){return o.handlerModal(!1)}),e.TgZ(1,"div"),e.TgZ(2,"p",1),e._uU(3,"Estas seguro de eliminar sede?"),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"button",3),e.NdJ("click",function(){return o.handlerDelete()}),e._uU(6,"S\xed. Estoy seguro"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return o.handlerModal(!1)}),e._uU(8,"No"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"p-toast")),2&t&&e.Q6J("visible",o.open)},directives:[g.V,p.lW,C.FN],styles:[""]}),n})();var m=l(8295),Z=l(9983),D=l(8239),G=l(7074),v=l(3631),b=l(6457);function B(n,a){if(1&n&&e._UZ(0,"agm-marker",6),2&n){const t=e.oxw();e.Q6J("latitude",t.marketPosition?t.marketPosition.lat:t.location.lat)("longitude",t.marketPosition?t.marketPosition.lng:t.location.lng)}}let z=(()=>{class n{constructor(t){this.mapService=t,this.closeMapModal=new e.vpe,this.saveAddress=new e.vpe,this.placeValue=""}set position(t){this.marketPosition=void 0!==t?{lat:parseFloat(t[0]),lng:parseFloat(t[1])}:void 0}ngOnInit(){this.mapService.setCurrentLocation()}get location(){return this.mapService.cords}get optionsPlaces(){return this.mapService.optionsAutocomplete}closeModal(){this.closeMapModal.emit(!1)}setNewLocation(t){var o=this;return(0,D.Z)(function*(){o.valueToAddress=yield o.mapService.getNewLocation(t.coords),o.marketPosition=t.coords,o.handlerAddPosition()})()}setValuePlace(t){this.mapService.getOptionPlaces(t.query)}selectNewPlace(t){var o=this;return(0,D.Z)(function*(){yield o.mapService.fromPlaceIdToCoords(t.place_id)})()}handlerAddPosition(){this.saveAddress.emit(this.valueToAddress)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G.S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-map-address"]],inputs:{position:"position"},outputs:{closeMapModal:"closeMapModal",saveAddress:"saveAddress"},decls:7,vars:9,consts:[[1,"w-full"],[1,"font-medium"],[1,"p-fluid","mt-2","mb-4"],["field","description",3,"ngModel","suggestions","showEmptyMessage","minLength","showClear","ngModelChange","completeMethod","onSelect"],[1,"w-full","h-100",3,"latitude","longitude","zoom","mapClick"],[3,"latitude","longitude",4,"ngIf"],[3,"latitude","longitude"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h5",1),e._uU(2,"Buscar direcci\xf3n"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"p-autoComplete",3),e.NdJ("ngModelChange",function(s){return o.placeValue=s})("completeMethod",function(s){return o.setValuePlace(s)})("onSelect",function(s){return o.selectNewPlace(s)}),e.qZA(),e.qZA(),e.TgZ(5,"agm-map",4),e.NdJ("mapClick",function(s){return o.setNewLocation(s)}),e.YNc(6,B,1,2,"agm-marker",5),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngModel",o.placeValue)("suggestions",o.optionsPlaces)("showEmptyMessage",!0)("minLength",3)("showClear",!0),e.xp6(1),e.Q6J("latitude",o.marketPosition?o.marketPosition.lat:o.location.lat)("longitude",o.marketPosition?o.marketPosition.lng:o.location.lng)("zoom",15),e.xp6(1),e.Q6J("ngIf",o.location||o.marketPosition))},directives:[v.Qc,r.JJ,r.On,b.SA,d.O5,b.pt],styles:[""]}),n})();var O=l(5396);const j=["formAddress"];function L(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function V(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function $(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function X(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function W(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"ingrese un correo v\xe1lido*"),e.qZA())}function K(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function ee(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function te(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function ne(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function oe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function re(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function ae(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function ie(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"ingrese un correo v\xe1lido*"),e.qZA())}function se(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function le(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function me(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function de(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"section",12),e.TgZ(1,"mat-slide-toggle",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeExist()}),e._uU(2," Principal "),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("color",t.color)("formControlName","isMain")}}function ce(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio* "),e.qZA())}function pe(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(""===t.idSucursal?"Guardar":"Editar")}}function ue(n,a){1&n&&e._UZ(0,"mat-progress-spinner",14),2&n&&e.Q6J("diameter",25)}let ge=(()=>{class n{constructor(t,o,i){this.fromBuilder=t,this.branchService=o,this.messageService=i,this.open=!1,this.setOpen=new e.vpe,this.idSucursal="",this.isMainExist=!1,this.color="primary"}set segmentos(t){void 0!==t&&(this.segments=t)}set address(t){void 0!==t&&(this.newAddress=this.fromBuilder.group({name:[t.name,r.kI.required],ruc:[t.ruc,r.kI.required],province:[t.province,r.kI.required],city:[t.city,r.kI.required],canton:[t.canton,r.kI.required],coords:[t.coords,r.kI.required],instructions:[t.instructions,r.kI.required],customer:[t.customer,r.kI.required],email:[t.email,[r.kI.required,r.kI.email]],representative:[t.representative,r.kI.required],phone:[t.phone,r.kI.required],licence:[t.licence,r.kI.required],wastedRegister:[t.wastedRegister,r.kI.required],isMain:[t.isMain],status:[t.status],phoneOffice:[t.phoneOffice,[r.kI.required]],technicalName:[t.technicalName,[r.kI.required]],technicalPhone:[t.technicalPhone,[r.kI.required]],technicalEmail:[t.technicalEmail,[r.kI.required,r.kI.email]]}),this.idSucursal=t.id,this.coordenation=t.coords.split(","))}set customer(t){void 0!==t&&(t.addresses.map(o=>{o.isMain&&(this.isMainExist=!0)}),this.custom=t)}ngOnInit(){this.newAddress=this.fromBuilder.group({name:["",[r.kI.required]],ruc:["",[r.kI.required]],province:["",[r.kI.required]],city:["",[r.kI.required]],canton:["",r.kI.required],coords:["",[r.kI.required]],instructions:["",[r.kI.required]],customer:["",[r.kI.required]],email:["",[r.kI.required,r.kI.email]],representative:["",r.kI.required],phone:["",[r.kI.required]],licence:["",[r.kI.required]],wastedRegister:["",[r.kI.required]],isMain:[!1],status:[!0],phoneOffice:["",[r.kI.required]],technicalName:["",[r.kI.required]],technicalPhone:["",[r.kI.required]],technicalEmail:["",[r.kI.required,r.kI.email]]})}handlerModal(t){this.setOpen.emit(t),this.newAddress=this.fromBuilder.group({name:["",r.kI.required],ruc:["",r.kI.required],province:["",r.kI.required],city:["",r.kI.required],canton:["",r.kI.required],coords:["",r.kI.required],instructions:["",r.kI.required],customer:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],representative:["",r.kI.required],phone:["",r.kI.required],licence:["",r.kI.required],wastedRegister:["",r.kI.required],isMain:[!1],status:[!0],phoneOffice:["",[r.kI.required]],technicalName:["",[r.kI.required]],technicalPhone:["",[r.kI.required]],technicalEmail:["",[r.kI.required,r.kI.email]]}),this.idSucursal="",this.isMainExist=!1,this.coordenation=void 0}handlerSetAddress(t){this.newAddress.patchValue({province:t.country,city:t.city,coords:`${t.coords.lat},${t.coords.lng}`})}handlerCreate(){this.newAddress.patchValue({customer:this.custom.id}),this.newAddress.valid?(this.newAddress.disable(),""===this.idSucursal?this.branchService.create(this.newAddress.value).subscribe(t=>{this.messageService.add({severity:"success",detail:"Tranccio\xf3n exitosa",summary:"Sede agregada con \xe9xito"}),this.newAddress.enable(),this.newAddress.reset(),this.isMainExist=!1,this.setOpen.emit(!1),window.location.reload()},t=>{this.messageService.add({severity:"error",detail:"Error en la transacci\xf3n",summary:t}),this.newAddress.enable()}):this.branchService.update(this.idSucursal,this.newAddress.value).subscribe(t=>{this.messageService.add({severity:"success",detail:"Tranccio\xf3n exitosa",summary:"Sucursal editada con \xe9xito"}),this.newAddress.enable(),this.newAddress.reset(),this.isMainExist=!1,this.setOpen.emit(!1),window.location.reload()})):this.messageService.add({severity:"error",detail:"",summary:"Ingrese toda la informaci\xf3n requerida"})}changeExist(){this.isMainExist=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(M.p),e.Y36(c.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-address"]],viewQuery:function(t,o){if(1&t&&e.Gf(j,5),2&t){let i;e.iGM(i=e.CRH())&&(o.fromAddress=i.first)}},inputs:{open:"open",segmentos:"segmentos",address:"address",customer:"customer"},outputs:{setOpen:"setOpen"},features:[e._Bn([c.ez])],decls:88,vars:39,consts:[["header","Nueva sede","styleClass","w-1/2",3,"visible","visibleChange","onHide"],["autocomplete","off",1,"grid","grid-cols-2","gap-2",3,"formGroup"],["fromAddress","ngForm"],[1,"w-full","col-span-1"],["matInput","",3,"formControlName"],[4,"ngIf"],[1,"w-full"],["class","toggle",4,"ngIf"],[1,"w-full","col-span-2"],[1,"col-span-2",3,"position","saveAddress"],["mat-flat-button","",1,"bg-companySecondary","text-white","mt-3",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],[1,"toggle"],[1,"example-margin",3,"color","formControlName","click"],["mode","indeterminate",3,"diameter"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return o.open=s})("onHide",function(){return o.handlerModal(!1)}),e.TgZ(1,"div"),e.TgZ(2,"form",1,2),e.TgZ(4,"mat-form-field",3),e.TgZ(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,L,2,0,"mat-error",5),e.qZA(),e.TgZ(9,"mat-form-field",3),e.TgZ(10,"mat-label"),e._uU(11,"Ruc"),e.qZA(),e._UZ(12,"input",4),e.YNc(13,V,2,0,"mat-error",5),e.qZA(),e.TgZ(14,"mat-form-field",3),e.TgZ(15,"mat-label"),e._uU(16,"Contacto de retiro"),e.qZA(),e._UZ(17,"input",4),e.YNc(18,$,2,0,"mat-error",5),e.qZA(),e.TgZ(19,"mat-form-field",3),e.TgZ(20,"mat-label"),e._uU(21,"Correo contacto de retiro"),e.qZA(),e._UZ(22,"input",4),e.YNc(23,X,2,0,"mat-error",5),e.YNc(24,W,2,0,"mat-error",5),e.qZA(),e.TgZ(25,"mat-form-field",3),e.TgZ(26,"mat-label"),e._uU(27,"Celular de contacto"),e.qZA(),e._UZ(28,"input",4),e.YNc(29,K,2,0,"mat-error",5),e.qZA(),e.TgZ(30,"mat-form-field",3),e.TgZ(31,"mat-label"),e._uU(32,"Tel\xe9fono de oficina"),e.qZA(),e._UZ(33,"input",4),e.YNc(34,ee,2,0,"mat-error",5),e.qZA(),e.TgZ(35,"mat-form-field",3),e.TgZ(36,"mat-label"),e._uU(37,"N\xfamero de licencia"),e.qZA(),e._UZ(38,"input",4),e.YNc(39,te,2,0,"mat-error",5),e.qZA(),e.TgZ(40,"mat-form-field",3),e.TgZ(41,"mat-label"),e._uU(42,"N\xfamero generador de desechos"),e.qZA(),e._UZ(43,"input",4),e.YNc(44,ne,2,0,"mat-error",5),e.qZA(),e.TgZ(45,"mat-form-field",3),e.TgZ(46,"mat-label"),e._uU(47,"T\xe9cnico responsable"),e.qZA(),e._UZ(48,"input",4),e.YNc(49,oe,2,0,"mat-error",5),e.qZA(),e.TgZ(50,"mat-form-field",3),e.TgZ(51,"mat-label"),e._uU(52,"Tel\xe9fono t\xe9cnico responsable"),e.qZA(),e._UZ(53,"input",4),e.YNc(54,re,2,0,"mat-error",5),e.qZA(),e.TgZ(55,"mat-form-field",3),e.TgZ(56,"mat-label"),e._uU(57,"Correo t\xe9cnico responsable"),e.qZA(),e._UZ(58,"input",4),e.YNc(59,ae,2,0,"mat-error",5),e.YNc(60,ie,2,0,"mat-error",5),e.qZA(),e.TgZ(61,"mat-form-field",6),e.TgZ(62,"mat-label"),e._uU(63,"Provincia"),e.qZA(),e._UZ(64,"input",4),e.YNc(65,se,2,0,"mat-error",5),e.qZA(),e.TgZ(66,"mat-form-field",6),e.TgZ(67,"mat-label"),e._uU(68,"Ciudad"),e.qZA(),e._UZ(69,"input",4),e.YNc(70,le,2,0,"mat-error",5),e.qZA(),e.TgZ(71,"mat-form-field",6),e.TgZ(72,"mat-label"),e._uU(73,"Cant\xf3n"),e.qZA(),e._UZ(74,"input",4),e.YNc(75,me,2,0,"mat-error",5),e.qZA(),e.YNc(76,de,3,2,"section",7),e.TgZ(77,"mat-form-field",8),e.TgZ(78,"mat-label"),e._uU(79,"Direcci\xf3n exacta"),e.qZA(),e._UZ(80,"input",4),e.YNc(81,ce,2,0,"mat-error",5),e.qZA(),e.TgZ(82,"app-map-address",9),e.NdJ("saveAddress",function(s){return o.handlerSetAddress(s)}),e.qZA(),e._UZ(83,"div"),e.TgZ(84,"button",10),e.NdJ("click",function(){return o.handlerCreate()}),e.YNc(85,pe,2,1,"span",5),e.YNc(86,ue,1,1,"mat-progress-spinner",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(87,"p-toast")),2&t&&(e.Q6J("visible",o.open),e.xp6(2),e.Q6J("formGroup",o.newAddress),e.xp6(5),e.Q6J("formControlName","name"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("name").hasError("required")),e.xp6(4),e.Q6J("formControlName","ruc"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("ruc").hasError("required")),e.xp6(4),e.Q6J("formControlName","representative"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("representative").hasError("required")),e.xp6(4),e.Q6J("formControlName","email"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("email").hasError("email")),e.xp6(4),e.Q6J("formControlName","phone"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("phone").hasError("required")),e.xp6(4),e.Q6J("formControlName","phoneOffice"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("phoneOffice").hasError("required")),e.xp6(4),e.Q6J("formControlName","licence"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("licence").hasError("required")),e.xp6(4),e.Q6J("formControlName","wastedRegister"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("wastedRegister").hasError("required")),e.xp6(4),e.Q6J("formControlName","technicalName"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("technicalName").hasError("required")),e.xp6(4),e.Q6J("formControlName","technicalPhone"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("technicalPhone").hasError("required")),e.xp6(4),e.Q6J("formControlName","technicalEmail"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("technicalEmail").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("technicalEmail").hasError("email")),e.xp6(4),e.Q6J("formControlName","province"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("province").hasError("required")),e.xp6(4),e.Q6J("formControlName","city"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("city").hasError("required")),e.xp6(4),e.Q6J("formControlName","canton"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("canton").hasError("required")),e.xp6(1),e.Q6J("ngIf",!o.isMainExist||o.newAddress.get("isMain").value),e.xp6(4),e.Q6J("formControlName","instructions"),e.xp6(1),e.Q6J("ngIf",o.newAddress.get("instructions").hasError("required")),e.xp6(1),e.Q6J("position",o.coordenation),e.xp6(2),e.Q6J("disabled",o.newAddress.disabled),e.xp6(1),e.Q6J("ngIf",!o.newAddress.disabled),e.xp6(1),e.Q6J("ngIf",o.newAddress.disabled))},directives:[g.V,r._Y,r.JL,r.sg,m.KE,m.hX,Z.Nt,r.Fj,r.JJ,r.u,d.O5,z,p.lW,C.FN,m.TO,O.Rr,_.Ou],styles:[".toggle[_ngcontent-%COMP%]{display:flex;padding-top:2px;align-items:center}"]}),n})();var S=l(2210);function _e(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function fe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function Ze(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function he(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El correo debe ser v\xe1lido*"),e.qZA())}function Ce(n,a){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"label"),e._uU(2,"Dias de cr\xe9dito"),e.qZA(),e._UZ(3,"p-dropdown",9),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.diasCredit)("showClear",!1)("formControlName","creditDays")}}function Ae(n,a){1&n&&e._UZ(0,"div")}function Te(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(""===t.idContact?"Guardar":"Editar")}}function qe(n,a){1&n&&e._UZ(0,"mat-progress-spinner",10),2&n&&e.Q6J("diameter",25)}let ye=(()=>{class n{constructor(t,o,i){this.companyService=t,this.fromBuilder=o,this.messageService=i,this.open=!1,this.setOpen=new e.vpe,this.diasCredit=[{dias:15},{dias:30},{dias:45},{dias:60},{dias:90},{dias:120}],this.idContact=""}set contact(t){void 0!==t&&(this.newContacts=this.fromBuilder.group({fullName:[t.fullName,[r.kI.required]],phone:[t.phone,[r.kI.required]],creditDays:[t.creditDays],email:[t.email,[r.kI.required,r.kI.email]],payment:[t.payment,[r.kI.required]],status:[t.status]}),this.idContact=t.id)}get payments(){return this.companyService.paymentTipe}ngOnInit(){this.companyService.getPayment("PAYMENTTYPE"),this.newContacts=this.fromBuilder.group({fullName:["",[r.kI.required]],phone:["",[r.kI.required]],creditDays:[0],customer:[""],email:["",[r.kI.required,r.kI.email]],payment:[,[r.kI.required]],status:[!0]})}handlerModal(t){this.newContacts=this.fromBuilder.group({fullName:["",[r.kI.required]],phone:["",[r.kI.required]],creditDays:[0],customer:[""],email:["",[r.kI.required,r.kI.email]],payment:[,[r.kI.required]]}),this.setOpen.emit(t)}handlerCreate(){!this.newContacts.valid||(this.newContacts.disable(),this.newContacts.patchValue({customer:this.customer.id}),"edce4884-0ce2-43c0-b15b-a2b5a22203c6"!==this.newContacts.get("payment").value&&this.newContacts.controls.creditDays.setValue(0),""===this.idContact?this.companyService.createContacts(this.newContacts.value).then(t=>{this.messageService.add({severity:"success",detail:"Transacci\xf3n \xe9xitosa",summary:"Se agrego de manera correcta al contacto"}),this.newContacts.reset(),this.newContacts.enable(),this.setOpen.emit(!1)}).catch(t=>{this.messageService.add({severity:"error",detail:"Transacci\xf3n erronea",summary:"No se pudo agregar al contacto"})}):this.companyService.updateContact(this.newContacts.value,this.idContact).then(t=>{this.messageService.add({severity:"success",detail:"Transacci\xf3n \xe9xitosa",summary:"Se edito de manera correcta al contacto"}),this.newContacts.reset(),this.newContacts.enable(),this.setOpen.emit(!1)}).catch(t=>{this.messageService.add({severity:"error",detail:"Transacci\xf3n erronea",summary:"No se pudo editar al contacto"})}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Q),e.Y36(r.qu),e.Y36(c.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-contacts"]],inputs:{open:"open",customer:"customer",contact:"contact"},outputs:{setOpen:"setOpen"},decls:29,vars:17,consts:[["header","Nuevo certificado","styleClass","w-1/2",3,"visible","visibleChange","onHide"],["autocomplete","off",1,"grid","grid-cols-2","gap-2",3,"formGroup"],["fromAddress","ngForm"],[1,"w-full","col-span-1"],["matInput","",3,"formControlName"],[4,"ngIf"],["id","payment","aria-describedby","rol-help","styleClass","w-full","optionLabel","name",3,"options","showClear","formControlName"],["mat-flat-button","",1,"bg-companySecondary","text-white","mt-3",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],["id","days","aria-describedby","rol-help","styleClass","w-full","optionLabel","dias",3,"options","showClear","formControlName"],["mode","indeterminate",3,"diameter"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return o.open=s})("onHide",function(){return o.handlerModal(!1)}),e.TgZ(1,"div"),e.TgZ(2,"form",1,2),e.TgZ(4,"mat-form-field",3),e.TgZ(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,_e,2,0,"mat-error",5),e.qZA(),e.TgZ(9,"div"),e.TgZ(10,"label"),e._uU(11,"Requisito certificado"),e.qZA(),e._UZ(12,"p-dropdown",6),e.qZA(),e.TgZ(13,"mat-form-field",3),e.TgZ(14,"mat-label"),e._uU(15,"Tel\xe9fono de contacto"),e.qZA(),e._UZ(16,"input",4),e.YNc(17,fe,2,0,"mat-error",5),e.qZA(),e.TgZ(18,"mat-form-field",3),e.TgZ(19,"mat-label"),e._uU(20,"Correo"),e.qZA(),e._UZ(21,"input",4),e.YNc(22,Ze,2,0,"mat-error",5),e.YNc(23,he,2,0,"mat-error",5),e.qZA(),e.YNc(24,Ce,4,3,"div",5),e.YNc(25,Ae,1,0,"div",5),e.TgZ(26,"button",7),e.NdJ("click",function(){return o.handlerCreate()}),e.YNc(27,Te,2,1,"span",5),e.YNc(28,qe,1,1,"mat-progress-spinner",8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("visible",o.open),e.xp6(2),e.Q6J("formGroup",o.newContacts),e.xp6(5),e.Q6J("formControlName","fullName"),e.xp6(1),e.Q6J("ngIf",o.newContacts.get("fullName").hasError("required")),e.xp6(4),e.Q6J("options",o.payments)("showClear",!1)("formControlName","payment"),e.xp6(4),e.Q6J("formControlName","phone"),e.xp6(1),e.Q6J("ngIf",o.newContacts.get("phone").hasError("required")),e.xp6(4),e.Q6J("formControlName","email"),e.xp6(1),e.Q6J("ngIf",o.newContacts.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.newContacts.get("email").hasError("email")),e.xp6(1),e.Q6J("ngIf","CR\xc9DITO"===(null==o.newContacts.get("payment").value?null:o.newContacts.get("payment").value.name)),e.xp6(1),e.Q6J("ngIf","edce4884-0ce2-43c0-b15b-a2b5a22203c6"===(null==o.newContacts.get("payment").value?null:o.newContacts.get("payment").value.id)),e.xp6(1),e.Q6J("disabled",o.newContacts.disabled),e.xp6(1),e.Q6J("ngIf",!o.newContacts.disabled),e.xp6(1),e.Q6J("ngIf",o.newContacts.disabled))},directives:[g.V,r._Y,r.JL,r.sg,m.KE,m.hX,Z.Nt,r.Fj,r.JJ,r.u,d.O5,S.Lt,p.lW,m.TO,_.Ou],encapsulation:2}),n})(),ve=(()=>{class n{constructor(t,o){this.messageService=t,this.companyService=o,this.setOpen=new e.vpe}ngOnInit(){}handlerModal(t){this.setOpen.emit(t)}handlerDelete(){console.log(this.idContact),this.companyService.deleteContact(this.idContact).then(t=>{200===t.status?(this.messageService.add({severity:"success",detail:"Transacci\xf3n exitosa",summary:"Contacto elminado correctamente"}),this.setOpen.emit(!1)):this.messageService.add({severity:"error",detail:"Transacci\xf3n fallida",summary:"Intentelo mas tarde"})}).catch(t=>{this.messageService.add({severity:"error",detail:"Transacci\xf3n fallida",summary:t})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.ez),e.Y36(u.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-contacts"]],inputs:{open:"open",idContact:"idContact"},outputs:{setOpen:"setOpen"},decls:10,vars:1,consts:[["header","Eliminar contacto",3,"visible","visibleChange","onHide"],[1,"font-medium","text-lg"],[1,"mt-5","flex","justify-end"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","",1,"ml-3","bg-gray-400",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return o.open=s})("onHide",function(){return o.handlerModal(!1)}),e.TgZ(1,"div"),e.TgZ(2,"p",1),e._uU(3,"Estas seguro de eliminar el contacto?"),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"button",3),e.NdJ("click",function(){return o.handlerDelete()}),e._uU(6,"S\xed. Estoy seguro"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return o.handlerModal(!1)}),e._uU(8,"No"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"p-toast")),2&t&&e.Q6J("visible",o.open)},directives:[g.V,p.lW,C.FN],encapsulation:2}),n})();var N=l(3738);const be=["customId"];function Ne(n,a){1&n&&e._uU(0),2&n&&e.hij(" ",a.$implicit.name," ")}function Ie(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function Ue(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function xe(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function Je(n,a){1&n&&e._UZ(0,"mat-progress-spinner",13),2&n&&e.Q6J("diameter",25)}let we=(()=>{class n{constructor(t,o){this.fromBuilder=t,this.companyService=o,this.open=!1,this.setOpen=new e.vpe,this.dataDetail=new e.vpe,this.maes=[]}ngOnInit(){this.newDetail=this.fromBuilder.group({mae:[,r.kI.required],price:[,r.kI.required],weight:[,r.kI.required]})}handlerClose(t){this.setOpen.emit(t)}filterOptionMae(t){this.companyService.getMae(t.query).subscribe(o=>{this.maes=o.mae},o=>console.log(o))}select(t){this.auto.inputFieldValue=(t.name+"-"+t.description).trim()}handlerCreate(){!this.newDetail.valid||(this.dataDetail.emit(this.newDetail.value),this.newDetail.disable(),this.newDetail.reset(),this.newDetail.enable())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(u.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-detail"]],viewQuery:function(t,o){if(1&t&&e.Gf(be,5),2&t){let i;e.iGM(i=e.CRH())&&(o.auto=i.first)}},inputs:{open:"open"},outputs:{setOpen:"setOpen",dataDetail:"dataDetail"},decls:26,vars:10,consts:[["header","Nuevo Detalle","styleClass","w-1/2 ",3,"visible","visibleChange","onHide"],["autocomplete","off",1,"grid","grid-cols-2","gap-2",3,"formGroup"],[1,"w-full","col-span-2","flex","flex-col","p-fluid"],["styleClass","w-full","formControlName","mae",3,"suggestions","completeMethod","onSelect"],["customId",""],["pTemplate","item"],[1,"w-full","col-span-2"],["matPrefix",""],["matInput","","type","number",3,"formControlName"],[4,"ngIf"],["matSuffix",""],["mat-flat-button","",1,"bg-companySecondary","text-white","mt-3",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],["mode","indeterminate",3,"diameter"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return o.open=s})("onHide",function(){return o.handlerClose(!1)}),e.TgZ(1,"div"),e.TgZ(2,"form",1),e.TgZ(3,"div",2),e.TgZ(4,"label"),e._uU(5,"Mae"),e.qZA(),e.TgZ(6,"p-autoComplete",3,4),e.NdJ("completeMethod",function(s){return o.filterOptionMae(s)})("onSelect",function(s){return o.select(s)}),e.YNc(8,Ne,1,1,"ng-template",5),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field",6),e.TgZ(10,"mat-label"),e._uU(11,"Precio"),e.qZA(),e.TgZ(12,"span",7),e._uU(13,"$ \xa0"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,Ie,2,0,"mat-error",9),e.qZA(),e.TgZ(16,"mat-form-field",6),e.TgZ(17,"mat-label"),e._uU(18,"Peso"),e.qZA(),e._UZ(19,"input",8),e.TgZ(20,"span",10),e._uU(21,"Kg \xa0"),e.qZA(),e.YNc(22,Ue,2,0,"mat-error",9),e.qZA(),e.TgZ(23,"button",11),e.NdJ("click",function(){return o.handlerCreate()}),e.YNc(24,xe,2,0,"span",9),e.YNc(25,Je,1,1,"mat-progress-spinner",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("visible",o.open),e.xp6(2),e.Q6J("formGroup",o.newDetail),e.xp6(4),e.Q6J("suggestions",o.maes),e.xp6(8),e.Q6J("formControlName","price"),e.xp6(1),e.Q6J("ngIf",o.newDetail.get("price").hasError("required")),e.xp6(4),e.Q6J("formControlName","weight"),e.xp6(3),e.Q6J("ngIf",o.newDetail.get("weight").hasError("required")),e.xp6(1),e.Q6J("disabled",o.newDetail.disabled),e.xp6(1),e.Q6J("ngIf",!o.newDetail.disabled),e.xp6(1),e.Q6J("ngIf",o.newDetail.disabled))},directives:[g.V,r._Y,r.JL,r.sg,v.Qc,r.JJ,r.u,c.jx,m.KE,m.hX,m.qo,Z.Nt,r.wV,r.Fj,d.O5,m.R9,p.lW,m.TO,_.Ou],styles:[""]}),n})();var A=l(7648);function Qe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function Ee(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es obligatorio*"),e.qZA())}function ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleModalDetail(!0)}),e._uU(1,"Agregar Mae"),e.qZA()}}function Me(n,a){1&n&&(e.TgZ(0,"mat-list",13),e.TgZ(1,"mat-list-item"),e.TgZ(2,"div",14),e.TgZ(3,"h1",15),e._uU(4,"Mae"),e.qZA(),e.TgZ(5,"h1",16),e._uU(6,"Descripci\xf3n"),e.qZA(),e.TgZ(7,"h1",15),e._uU(8,"Precio"),e.qZA(),e.TgZ(9,"h1",15),e._uU(10,"Peso"),e.qZA(),e.TgZ(11,"h1",15),e._uU(12,"Acci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.qZA())}function De(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().handlerRemove(i)}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA(),e.qZA(),e.qZA()}}function Oe(n,a){if(1&n&&(e.TgZ(0,"mat-list",13),e.TgZ(1,"mat-list-item",17),e.TgZ(2,"div",18),e.TgZ(3,"h1"),e._uU(4),e.qZA(),e.TgZ(5,"h1",19),e._uU(6),e.qZA(),e.TgZ(7,"h1"),e._uU(8),e.qZA(),e.TgZ(9,"h1"),e._uU(10),e.qZA(),e.YNc(11,De,4,0,"div",5),e.qZA(),e.qZA(),e._UZ(12,"p-divider"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(4),e.Oqu(t.mae.name),e.xp6(2),e.Oqu(t.mae.description),e.xp6(2),e.Oqu(t.price),e.xp6(2),e.Oqu(t.weight),e.xp6(1),e.Q6J("ngIf",o.isNew)}}function Se(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function Ye(n,a){1&n&&e._UZ(0,"mat-progress-spinner",22),2&n&&e.Q6J("diameter",25)}function Fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().handlerCreate()}),e.YNc(1,Se,2,0,"span",5),e.YNc(2,Ye,1,1,"mat-progress-spinner",21),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.newContracts.disabled),e.xp6(1),e.Q6J("ngIf",!t.newContracts.disabled),e.xp6(1),e.Q6J("ngIf",t.newContracts.disabled)}}const Pe=function(){return{width:"65vw"}};let He=(()=>{class n{constructor(t,o){this.companyService=t,this.fromBuilder=o,this.open=!1,this.setOpen=new e.vpe,this.openModalDetail=!1,this.isNew=!0,this.detail=[]}set contract(t){void 0!==t&&(this.detail=null==t?void 0:t.detail,this.newContracts=this.fromBuilder.group({customer:[t.customer,r.kI.required],duration:[t.duration,r.kI.required],processNumber:[t.processNumber,r.kI.required]}),this.isNew=!1)}ngOnInit(){this.newContracts=this.fromBuilder.group({customer:["",r.kI.required],duration:[,r.kI.required],processNumber:["",r.kI.required]})}handlerModal(t){this.isNew=!0,this.newContracts.reset(),this.detail=[],this.setOpen.emit(t)}handlerCreate(){this.newContracts.patchValue({customer:this.customer.id}),this.newContracts.patchValue({duration:parseInt(this.newContracts.value.duration)}),this.newContracts.valid&&(this.newContracts.disable(),this.companyService.createContract(this.newContracts.value).then(t=>{this.detail.map((o,i)=>{const s={price:parseFloat(o.price),weight:parseFloat(o.weight),mae:o.mae.id,contract:t.data.data.createContract.id.toString()};this.companyService.createContractDetail(s).then(h=>{i===this.detail.length-1&&(this.newContracts.reset(),this.newContracts.enable(),this.setOpen.emit(!1))})})}))}handleModalDetail(t){this.openModalDetail=t}handleData(t){this.detail=[...this.detail,t],this.openModalDetail=!1}handlerRemove(t){let o=this.detail.filter(i=>i!==t);this.detail=o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Q),e.Y36(r.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-contracts"]],inputs:{open:"open",customer:"customer",contract:"contract"},outputs:{setOpen:"setOpen"},decls:22,vars:14,consts:[["header","Nuevo contrato",3,"visible","visibleChange","onHide"],["autocomplete","off",1,"grid","grid-cols-2","gap-2",3,"formGroup"],["fromAddress","ngForm"],[1,"w-full","col-span-1"],["matInput","",3,"formControlName"],[4,"ngIf"],[1,"col-span-4","sm:w-full"],["mat-flat-button","","id","mae","color","primary",3,"click",4,"ngIf"],["class","w-full",4,"ngIf"],["class","w-full",4,"ngFor","ngForOf"],["mat-flat-button","","class","bg-companySecondary text-white mt-3",3,"disabled","click",4,"ngIf"],[3,"open","setOpen","dataDetail"],["mat-flat-button","","id","mae","color","primary",3,"click"],[1,"w-full"],[1,"grid","grid-cols-8","gap-2","w-full"],[1,"font-bold"],[1,"font-bold","col-span-4"],[1,"mb-2"],[1,"grid","grid-cols-8","gap-2","w-full","items-center","mb-5","pb-10"],[1,"col-span-4","pr-10","pt-10","h-auto"],["mat-flat-button","",1,"bg-companySecondary","text-white","mt-3",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],["mode","indeterminate",3,"diameter"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return o.open=s})("onHide",function(){return o.handlerModal(!1)}),e.TgZ(1,"div"),e.TgZ(2,"form",1,2),e.TgZ(4,"mat-form-field",3),e.TgZ(5,"mat-label"),e._uU(6,"Proceso Nro"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,Qe,2,0,"mat-error",5),e.qZA(),e.TgZ(9,"mat-form-field",3),e.TgZ(10,"mat-label"),e._uU(11,"Duraci\xf3n"),e.qZA(),e._UZ(12,"input",4),e.YNc(13,Ee,2,0,"mat-error",5),e.qZA(),e.TgZ(14,"mat-card",6),e.TgZ(15,"mat-card-actions"),e.YNc(16,ke,2,0,"a",7),e.qZA(),e.YNc(17,Me,13,0,"mat-list",8),e._UZ(18,"br"),e.YNc(19,Oe,13,5,"mat-list",9),e.qZA(),e.YNc(20,Fe,3,3,"button",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"app-add-detail",11),e.NdJ("setOpen",function(s){return o.handleModalDetail(s)})("dataDetail",function(s){return o.handleData(s)}),e.qZA()),2&t&&(e.Akn(e.DdM(13,Pe)),e.Q6J("visible",o.open),e.xp6(2),e.Q6J("formGroup",o.newContracts),e.xp6(5),e.Q6J("formControlName","processNumber"),e.xp6(1),e.Q6J("ngIf",o.newContracts.get("processNumber").hasError("required")),e.xp6(4),e.Q6J("formControlName","duration"),e.xp6(1),e.Q6J("ngIf",o.newContracts.get("duration").hasError("required")),e.xp6(3),e.Q6J("ngIf",o.isNew),e.xp6(1),e.Q6J("ngIf",0!==o.detail.length),e.xp6(2),e.Q6J("ngForOf",o.detail),e.xp6(1),e.Q6J("ngIf",o.isNew),e.xp6(1),e.Q6J("open",o.openModalDetail))},directives:[g.V,r._Y,r.JL,r.sg,m.KE,m.hX,Z.Nt,r.Fj,r.JJ,r.u,d.O5,N.a8,N.hq,d.sg,we,m.TO,p.zs,A.i$,A.Tg,T.i,q.Hw,p.lW,_.Ou],encapsulation:2}),n})();var I=l(7441),U=l(5722),x=l(2458),J=l(1436);function Re(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Por favor ingrese una razon social "),e.qZA())}function Ge(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Por favor ingrese un nombre comercial "),e.qZA())}function Be(n,a){if(1&n&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function ze(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function je(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function Le(n,a){if(1&n&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ve(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function $e(n,a){if(1&n&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Xe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function We(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function Ke(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1," Editar "),e.qZA())}function et(n,a){1&n&&e._UZ(0,"mat-progress-spinner",32),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}function tt(n,a){1&n&&(e.TgZ(0,"div",33),e.TgZ(1,"h1",34),e._uU(2,"El cliente no cuenta con certificados"),e.qZA(),e.qZA())}function nt(n,a){1&n&&(e.TgZ(0,"mat-list",35),e.TgZ(1,"mat-list-item"),e.TgZ(2,"div",36),e.TgZ(3,"h1",37),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"h1",37),e._uU(6,"Tel\xe9fono"),e.qZA(),e.TgZ(7,"h1",38),e._uU(8,"Correo"),e.qZA(),e.TgZ(9,"h1",37),e._uU(10,"Requisito ceritificado"),e.qZA(),e.TgZ(11,"h1",37),e._uU(12,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e._UZ(13,"p-divider"),e.qZA())}function ot(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-list",35),e.TgZ(1,"mat-list-item"),e.TgZ(2,"div",39),e.TgZ(3,"h1"),e._uU(4),e.qZA(),e.TgZ(5,"h1"),e._uU(6),e.qZA(),e.TgZ(7,"h1",21),e._uU(8),e.qZA(),e.TgZ(9,"h1"),e._uU(10),e.qZA(),e.TgZ(11,"div"),e.TgZ(12,"button",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).hanldeEditContact(!0,s)}),e.TgZ(13,"mat-icon"),e._uU(14,"visibility"),e.qZA(),e.qZA(),e.TgZ(15,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).handlerDeleteContact(!0,s.id)}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(18,"p-divider"),e.qZA()}if(2&n){const t=a.$implicit;e.xp6(4),e.Oqu(t.fullName),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.payment.name)}}function rt(n,a){1&n&&(e.TgZ(0,"div",33),e.TgZ(1,"h1",34),e._uU(2,"El cliente no cuenta con sucursales"),e.qZA(),e.qZA())}function at(n,a){1&n&&(e.TgZ(0,"mat-list",35),e.TgZ(1,"mat-list-item"),e.TgZ(2,"div",42),e.TgZ(3,"h1",37),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"h1",37),e._uU(6,"Provincia"),e.qZA(),e.TgZ(7,"h1",37),e._uU(8,"Ciudad"),e.qZA(),e.TgZ(9,"h1",38),e._uU(10,"Instrucciones"),e.qZA(),e.TgZ(11,"h1",37),e._uU(12,"Contacto de retiro"),e.qZA(),e.TgZ(13,"h1",37),e._uU(14,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e._UZ(15,"p-divider"),e.qZA())}function it(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-list",35),e.TgZ(1,"mat-list-item"),e.TgZ(2,"div",43),e.TgZ(3,"h1"),e._uU(4),e.qZA(),e.TgZ(5,"h1"),e._uU(6),e.qZA(),e.TgZ(7,"h1"),e._uU(8),e.qZA(),e.TgZ(9,"h1",44),e._uU(10),e.qZA(),e.TgZ(11,"h1"),e._uU(12),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"button",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).hanldeEdit(!0,s)}),e.TgZ(15,"mat-icon"),e._uU(16,"visibility"),e.qZA(),e.qZA(),e.TgZ(17,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).handlerModal(!0,s)}),e.TgZ(18,"mat-icon"),e._uU(19,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(20,"p-divider"),e.qZA()}if(2&n){const t=a.$implicit;e.xp6(4),e.AsE("",t.isMain?"*":""," ",t.name,""),e.xp6(2),e.Oqu(t.province),e.xp6(2),e.Oqu(t.city),e.xp6(2),e.Oqu(t.instructions),e.xp6(2),e.Oqu(t.representative)}}const st=function(){return{width:"100%"}},lt=function(){return{color:"red"}};function mt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"div",8),e.TgZ(2,"button",9),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_back"),e.qZA(),e.qZA(),e.TgZ(5,"h1",10),e._uU(6),e.qZA(),e.qZA(),e._UZ(7,"p-divider"),e.TgZ(8,"div",11),e.TgZ(9,"form",12,13),e.TgZ(11,"div",14),e.TgZ(12,"mat-form-field"),e.TgZ(13,"mat-label"),e._uU(14,"Razon social"),e.qZA(),e._UZ(15,"input",15),e.YNc(16,Re,2,0,"mat-error",16),e.qZA(),e.TgZ(17,"mat-form-field"),e.TgZ(18,"mat-label"),e._uU(19,"Nombre comercial"),e.qZA(),e._UZ(20,"input",15),e.YNc(21,Ge,2,0,"mat-error",16),e.qZA(),e.TgZ(22,"mat-form-field"),e.TgZ(23,"mat-label"),e._uU(24,"Tipo identificaci\xf3n"),e.qZA(),e.TgZ(25,"mat-select",17),e.YNc(26,Be,2,2,"mat-option",18),e.qZA(),e.YNc(27,ze,2,0,"mat-error",16),e.qZA(),e.TgZ(28,"mat-form-field"),e.TgZ(29,"mat-label"),e._uU(30,"Identificaci\xf3n"),e.qZA(),e._UZ(31,"input",15),e.YNc(32,je,2,0,"mat-error",16),e.qZA(),e.TgZ(33,"mat-form-field"),e.TgZ(34,"mat-label"),e._uU(35,"Grupo de empresas"),e.qZA(),e.TgZ(36,"mat-select",19),e.YNc(37,Le,2,2,"mat-option",18),e.qZA(),e.YNc(38,Ve,2,0,"mat-error",16),e.qZA(),e.TgZ(39,"mat-form-field"),e.TgZ(40,"mat-label"),e._uU(41,"Estado"),e.qZA(),e.TgZ(42,"mat-select",20),e.YNc(43,$e,2,2,"mat-option",18),e.qZA(),e.YNc(44,Xe,2,0,"mat-error",16),e.qZA(),e.TgZ(45,"div",21),e.TgZ(46,"mat-label"),e._uU(47,"Requisitos de ingreso"),e.qZA(),e._UZ(48,"br"),e._UZ(49,"p-multiSelect",22),e.YNc(50,We,2,0,"mat-error",16),e.qZA(),e._UZ(51,"br"),e.TgZ(52,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().handlerNewClient()}),e.YNc(53,Ke,2,0,"span",16),e.YNc(54,et,1,2,"mat-progress-spinner",24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",25),e.TgZ(56,"div",26),e.TgZ(57,"h1",10),e._uU(58,"Certificados"),e.qZA(),e.TgZ(59,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().handlerModalCrateContact(!0)}),e.TgZ(60,"mat-icon"),e._uU(61,"add"),e.qZA(),e.qZA(),e.qZA(),e._UZ(62,"p-divider"),e.YNc(63,tt,3,0,"div",28),e.YNc(64,nt,14,0,"mat-list",29),e.YNc(65,ot,19,4,"mat-list",30),e.qZA(),e.TgZ(66,"div",25),e.TgZ(67,"div",26),e.TgZ(68,"h1",10),e._uU(69,"Sedes"),e.qZA(),e.TgZ(70,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().handlerModalCrate(!0)}),e.TgZ(71,"mat-icon"),e._uU(72,"add"),e.qZA(),e.qZA(),e.qZA(),e._UZ(73,"p-divider"),e.YNc(74,rt,3,0,"div",28),e.YNc(75,at,16,0,"mat-list",29),e.YNc(76,it,21,6,"mat-list",30),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.customer.businessName),e.xp6(3),e.Q6J("formGroup",t.clientForm),e.xp6(6),e.Q6J("formControlName","businessName"),e.xp6(1),e.Q6J("ngIf",t.clientForm.get("businessName").hasError("required")),e.xp6(4),e.Q6J("formControlName","commercialName"),e.xp6(1),e.Q6J("ngIf",t.clientForm.get("commercialName").hasError("required")),e.xp6(4),e.Q6J("formControlName","documentId"),e.xp6(1),e.Q6J("ngForOf",t.document),e.xp6(1),e.Q6J("ngIf",t.clientForm.get("documentId").hasError("required")),e.xp6(4),e.Q6J("formControlName","numberDocument"),e.xp6(1),e.Q6J("ngIf",t.clientForm.get("numberDocument").hasError("required")),e.xp6(4),e.Q6J("formControlName","groupId"),e.xp6(1),e.Q6J("ngForOf",t.group),e.xp6(1),e.Q6J("ngIf",t.clientForm.get("groupId").hasError("required")),e.xp6(4),e.Q6J("formControlName","status"),e.xp6(1),e.Q6J("ngForOf",t.selectBool),e.xp6(1),e.Q6J("ngIf",t.clientForm.get("status").hasError("required")),e.xp6(5),e.Akn(e.DdM(33,st)),e.Q6J("panelStyle",e.DdM(34,lt))("options",t.getRequIng)("formControlName","requirements"),e.xp6(1),e.Q6J("ngIf",t.clientForm.get("requirements").hasError("required")),e.xp6(2),e.Q6J("color","primary")("disabled",t.clientForm.disabled),e.xp6(1),e.Q6J("ngIf",!t.clientForm.disabled),e.xp6(1),e.Q6J("ngIf",t.clientForm.disabled),e.xp6(9),e.Q6J("ngIf",0===t.customer.contacts.length),e.xp6(1),e.Q6J("ngIf",0!==t.customer.contacts.length),e.xp6(1),e.Q6J("ngForOf",t.customer.contacts),e.xp6(9),e.Q6J("ngIf",0===t.customer.addresses.length),e.xp6(1),e.Q6J("ngIf",0!==t.customer.addresses.length),e.xp6(1),e.Q6J("ngForOf",t.customer.addresses)}}function dt(n,a){1&n&&(e.TgZ(0,"div",46),e._UZ(1,"mat-progress-spinner",32),e.TgZ(2,"h1",47),e._uU(3,"Cargando, porfavor espere."),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.Q6J("diameter",50)("mode","indeterminate"))}let ct=(()=>{class n{constructor(t,o,i,s,h){this.companyService=t,this.route=o,this._formBuilder=i,this.messageService=s,this.router=h,this.loading=!1,this.openModal=!1,this.openModalCreate=!1,this.openModalCompany=!1,this.openModalContact=!1,this.openModalContract=!1,this.idContact="",this.color="primary",this.diasCredit=[15,30,45,60,90,120],this.contractsAll=[],this.selectBool=[{name:"Activo",value:!0},{name:"Inactivo",value:!1}]}get document(){return this.companyService.documentType}get payments(){return this.companyService.paymentTipe}get group(){return this.companyService.groupType}get segments(){return this.companyService.segmentos}get getRequIng(){return this.companyService.reqIng}ngOnInit(){this.loading=!0,this.companyService.getDocumentType("DOCUMENTTYPE"),this.companyService.getPayment("PAYMENTTYPE"),this.companyService.getGroup("GROUPTYPE"),this.companyService.getSegments("SEGMENT"),this.companyService.getRequIng("REQING"),this.getCompanie()}getCompanie(){this.route.params.subscribe(t=>{this.companyService.findById(t.id).subscribe(o=>{var i;this.customer=o.customer,this.clientForm=this._formBuilder.group({businessName:[o.customer.businessName,[r.kI.required]],commercialName:[o.customer.commercialName,[r.kI.required]],documentId:[o.customer.documentId.id,[r.kI.required]],numberDocument:[o.customer.numberDocument,[r.kI.required]],groupId:[o.customer.groupId.id,[r.kI.required]],status:[o.customer.status,[r.kI.required]],requirements:[null===(i=o.customer)||void 0===i?void 0:i.requirements,[r.kI.required]]}),this.loading=!1}),this.companyService.getContract(t.id).then(o=>{this.contractsAll=o.data.data.contracts})})}handlerNewClient(){this.clientForm.valid?(this.clientForm.disable(),this.companyService.update(this.customer.id,this.clientForm.value).subscribe(t=>{this.messageService.add({severity:"success",detail:"Transacci\xf3n \xe9xitosa",summary:"Se edito de manera correcta el cliente"}),this.clientForm.reset(),this.clientForm.enable(),location.reload()},t=>{const o=t.error.error.toString().includes("QueryFailedError")?"El ruc ya existe":"No se pudo editar el cliente";this.clientForm.enable(),this.messageService.add({severity:"error",detail:"Transacci\xf3n fallida",summary:o})})):this.messageService.add({severity:"error",detail:"",summary:"Ingrese toda la informaci\xf3n requerida"})}handlerModal(t,o){this.openModal=t,this.address=o,this.getCompanie()}handlerModalCrate(t){this.openModalCreate=t,this.getCompanie()}handleModalContract(t){this.openModalContract=t,this.getCompanie()}handlerModalCrateContact(t){this.openModalCompany=t,this.getCompanie()}hanldeEdit(t,o){this.openModalCreate=t,this.address=o}hanldeEditContact(t,o){this.openModalCompany=t,this.contact=o}hanldeEditContract(t,o){this.openModalContract=t,this.contract=o}handlerDeleteContact(t,o){this.openModalContact=t,this.idContact=o,this.getCompanie()}handleDownload(t){this.companyService.dowloadContract(t).then(o=>{var i=`${o.data.data.document}`,s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",`Contrato-${t}.pdf`),s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}).catch(o=>this.messageService.add({severity:"error",detail:"Transacci\xf3n erronea",summary:"No se pudo generar el documento"}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Q),e.Y36(f.gz),e.Y36(r.qu),e.Y36(c.ez),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-company-detail"]],features:[e._Bn([c.ez])],decls:7,vars:16,consts:[["class","w-full p-3",4,"ngIf"],["class","w-full flex flex-col justify-center items-center",4,"ngIf"],[3,"open","address","setOpen"],[3,"open","customer","address","segmentos","setOpen"],[3,"open","customer","contact","setOpen"],[3,"open","idContact","setOpen"],[3,"open","customer","contract","setOpen"],[1,"w-full","p-3"],[1,"w-full","flex","items-center"],["mat-mini-fab","","color","primary","routerLink","../..",1,"mr-3"],[1,"text-2xl","font-bold"],[1,"w-full","bg-white","p-3","rounded"],[1,"grid","mt-2","gap-2",3,"formGroup"],["vehicleInNgForm","ngForm"],[1,"grid","md:grid-cols-3","sm:grid-cols-2","gap-4","bg-white","p-3"],["type","text","matInput","",3,"formControlName"],[4,"ngIf"],["name","document",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["name","group",3,"formControlName"],["name","status",3,"formControlName"],[1,"col-span-2"],["label","Requerimientos","optionLabel","name",3,"panelStyle","options","formControlName"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6","bg-companySecondary",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"mt-5","bg-white","w-full","p-3","rounded"],[1,"flex","justify-between","items-center"],["mat-mini-fab","","color","primary",1,"mr-3",3,"click"],["class","m-5 w-full flex justify-center h-50 items-center",4,"ngIf"],["class","w-full",4,"ngIf"],["class","w-full",4,"ngFor","ngForOf"],[3,"value"],[3,"diameter","mode"],[1,"m-5","w-full","flex","justify-center","h-50","items-center"],[1,"font-medium"],[1,"w-full"],[1,"grid","grid-cols-6","gap-3","w-full"],[1,"font-bold"],[1,"font-bold","col-span-2"],[1,"grid","grid-cols-6","gap-3","w-full","items-center","mb-5"],["mat-mini-fab","","color","primary","matTooltip","Editar contacto",1,"mr-2",3,"click"],["mat-mini-fab","","color","primary","matTooltip","Eliminar sucursal",3,"click"],[1,"grid","grid-cols-7","gap-3","w-full"],[1,"grid","grid-cols-7","gap-3","w-full","items-center","mb-5"],[1,"col-span-2","pr-10"],["mat-mini-fab","","color","primary","matTooltip","EDITAR sucursal",1,"mr-2",3,"click"],[1,"w-full","flex","flex-col","justify-center","items-center"],[1,"mt-1","font-bold"]],template:function(t,o){1&t&&(e.YNc(0,mt,77,35,"div",0),e.YNc(1,dt,4,2,"div",1),e.TgZ(2,"app-delete-address",2),e.NdJ("setOpen",function(s){return o.handlerModal(s)}),e.qZA(),e.TgZ(3,"app-add-address",3),e.NdJ("setOpen",function(s){return o.handlerModalCrate(s)}),e.qZA(),e.TgZ(4,"app-add-contacts",4),e.NdJ("setOpen",function(s){return o.handlerModalCrateContact(s)}),e.qZA(),e.TgZ(5,"app-delete-contacts",5),e.NdJ("setOpen",function(s){return o.handlerDeleteContact(s)}),e.qZA(),e.TgZ(6,"app-add-contracts",6),e.NdJ("setOpen",function(s){return o.handleModalContract(s)}),e.qZA()),2&t&&(e.Q6J("ngIf",!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("open",o.openModal)("address",o.address),e.xp6(1),e.Q6J("open",o.openModalCreate)("customer",o.customer)("address",o.address)("segmentos",o.segments),e.xp6(1),e.Q6J("open",o.openModalCompany)("customer",o.customer)("contact",o.contact),e.xp6(1),e.Q6J("open",o.openModalContact)("idContact",o.idContact),e.xp6(1),e.Q6J("open",o.openModalContract)("customer",o.customer)("contract",o.contract))},directives:[d.O5,R,ge,ye,ve,He,p.lW,f.rH,q.Hw,T.i,r._Y,r.JL,r.sg,m.KE,m.hX,Z.Nt,r.Fj,r.JJ,r.u,I.gD,d.sg,U.NU,m.TO,x.ey,_.Ou,A.i$,A.Tg,J.gM],styles:[".toggle[_ngcontent-%COMP%]{display:flex;padding-top:2px;align-items:center}"]}),n})();const pt=["newCompanyFrom"];function ut(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo es obligatorio* "),e.qZA())}function gt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo es obligatorio* "),e.qZA())}function _t(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo es obligatorio* "),e.qZA())}function ft(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo es obligatorio* "),e.qZA())}function Zt(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1," Agregar "),e.qZA())}function ht(n,a){1&n&&e._UZ(0,"mat-progress-spinner",10),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}let Ct=(()=>{class n{constructor(t,o,i){this.fromBuilder=t,this.companyService=o,this.messageService=i,this.open=!1,this.setOpen=new e.vpe}ngOnInit(){this.newCompany=this.fromBuilder.group({ruc:["",[r.kI.required]],name:["",[r.kI.required]],representative:["",[r.kI.required]],phone:["",[r.kI.required]]})}handlerNewCompany(){!this.newCompany.valid||(this.newCompany.disable(),this.companyService.create(this.newCompany.value).subscribe(t=>{this.newCompany.reset(),this.newCompany.enable(),this.setOpen.emit(!1),this.messageService.add({severity:"success",detail:"Transacci\xf3n \xe9xitosa",summary:"Se agrego de manera correcta la raz\xf3n social"}),this.companyService.findAll()},t=>{const o=t.error.error.toString().includes("QueryFailedError")?"El ruc ya existe":"No se pudo agregar el cliente";console.log(o),this.newCompany.enable(),this.messageService.add({severity:"error",detail:"Transacci\xf3n fallida",summary:o})}))}handleCloseModal(){this.setOpen.emit(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(u.Q),e.Y36(c.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-company"]],viewQuery:function(t,o){if(1&t&&e.Gf(pt,5),2&t){let i;e.iGM(i=e.CRH())&&(o.newCompanyFrom=i.first)}},inputs:{open:"open"},outputs:{setOpen:"setOpen"},features:[e._Bn([c.ez])],decls:28,vars:10,consts:[["header","Nuevo cliente","styleClass","w-1/2",3,"visible","visibleChange","onHide"],["autocomplete","off",1,"grid","grid-cols-2","gap-4",3,"formGroup"],["newCompanyFrom","ngForm"],["formControlName","ruc","matInput",""],[4,"ngIf"],["formControlName","name","matInput",""],["formControlName","representative","matInput",""],["formControlName","phone","matInput",""],["mat-flat-button","",1,"fuse-mat-button-large","mt-6","bg-companySecondary",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return o.open=s})("onHide",function(){return o.handleCloseModal()}),e.TgZ(1,"form",1,2),e.TgZ(3,"mat-form-field"),e.TgZ(4,"mat-label"),e._uU(5,"Ruc"),e.qZA(),e._UZ(6,"input",3),e.YNc(7,ut,2,0,"mat-error",4),e.qZA(),e.TgZ(8,"mat-form-field"),e.TgZ(9,"mat-label"),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",5),e.YNc(12,gt,2,0,"mat-error",4),e.qZA(),e.TgZ(13,"mat-form-field"),e.TgZ(14,"mat-label"),e._uU(15,"Representante"),e.qZA(),e._UZ(16,"input",6),e.YNc(17,_t,2,0,"mat-error",4),e.qZA(),e.TgZ(18,"mat-form-field"),e.TgZ(19,"mat-label"),e._uU(20,"Tel\xe9fono"),e.qZA(),e._UZ(21,"input",7),e.YNc(22,ft,2,0,"mat-error",4),e.qZA(),e._UZ(23,"div"),e.TgZ(24,"button",8),e.NdJ("click",function(){return o.handlerNewCompany()}),e.YNc(25,Zt,2,0,"span",4),e.YNc(26,ht,1,2,"mat-progress-spinner",9),e.qZA(),e.qZA(),e.qZA(),e._UZ(27,"p-toast")),2&t&&(e.Q6J("visible",o.open),e.xp6(1),e.Q6J("formGroup",o.newCompany),e.xp6(6),e.Q6J("ngIf",o.newCompany.get("ruc").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.newCompany.get("name").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.newCompany.get("representative").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.newCompany.get("phone").hasError("required")),e.xp6(2),e.Q6J("color","primary")("disabled",o.newCompany.disabled),e.xp6(1),e.Q6J("ngIf",!o.newCompany.disabled),e.xp6(1),e.Q6J("ngIf",o.newCompany.disabled))},directives:[g.V,r._Y,r.JL,r.sg,m.KE,m.hX,r.Fj,Z.Nt,r.JJ,r.u,d.O5,p.lW,C.FN,m.TO,_.Ou],encapsulation:2}),n})();function At(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1," S\xed. Estoy seguro "),e.qZA())}function Tt(n,a){1&n&&e._UZ(0,"mat-progress-spinner",8),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}let qt=(()=>{class n{constructor(t,o){this.companyService=t,this.messageService=o,this.open=!1,this.stateModal=new e.vpe,this.loading=!1}ngOnInit(){}handleModal(t){this.open=t,this.stateModal.emit(t)}handlerDelete(){this.loading=!0,this.companyService.delete(this.customer.id).subscribe(()=>{this.stateModal.emit(!1),this.messageService.add({severity:"success",detail:"Transacci\xf3n exitosa",summary:"Cliente elminado correctamete"}),this.companyService.findAll(),this.loading=!1},()=>{this.messageService.add({severity:"error",detail:"Transacci\xf3n fallida",summary:"No se pudo eliminar el cliente"}),this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Q),e.Y36(c.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-company"]],inputs:{open:"open",customer:"customer"},outputs:{stateModal:"stateModal"},features:[e._Bn([c.ez])],decls:13,vars:4,consts:[["header","Confirmaci\xf3n",3,"visible","visibleChange","onHide"],[1,"p-3","grid","grid-cols-1","gap-4"],[1,"text-lg","font-medium"],[1,"flex","justify-end"],["mat-flat-button","",1,"bg-companySecondary","text-white","mr-2",3,"click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],["mat-flat-button","",1,"bg-gray-400","text-white",3,"disabled","click"],[3,"diameter","mode"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return o.open=s})("onHide",function(){return o.handleModal(!1)}),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"Estas seguro de eliminar el cliente y todas sus sucursales?"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.handlerDelete()}),e.YNc(6,At,2,0,"span",5),e.YNc(7,Tt,1,2,"mat-progress-spinner",6),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return o.handleModal(!1)}),e.TgZ(9,"span"),e._uU(10,"No"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"p-toast"),e._uU(12,"\xac"),e.qZA()),2&t&&(e.Q6J("visible",o.open),e.xp6(6),e.Q6J("ngIf",!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("disabled",o.loading))},directives:[g.V,p.lW,d.O5,C.FN,_.Ou],styles:[""]}),n})();function yt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"span",13),e._UZ(2,"i",14),e.TgZ(3,"input",15),e.NdJ("input",function(i){return e.CHM(t),e.oxw(),e.MAs(9).filterGlobal(i.target.value,"contains")}),e.qZA(),e.qZA(),e.qZA()}}function vt(n,a){if(1&n&&(e.TgZ(0,"th",17),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.Q6J("id",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function bt(n,a){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,vt,3,4,"th",16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.headersTable)}}function Nt(n,a){1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"p-skeleton"),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"p-skeleton"),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"p-skeleton"),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"p-skeleton"),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"p-skeleton"),e.qZA(),e.qZA())}const It=function(n){return["detalle",n]};function Ut(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"button",19),e.TgZ(11,"mat-icon"),e._uU(12,"visibility"),e.qZA(),e.qZA(),e.TgZ(13,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().handlerOpenModalDelete(!0,i)}),e.TgZ(14,"mat-icon"),e._uU(15,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.numberDocument),e.xp6(2),e.Oqu(t.businessName),e.xp6(2),e.Oqu(t.representative),e.xp6(2),e.Oqu(t.status?"Activo":"Inactivo"),e.xp6(2),e.Q6J("routerLink",e.VKq(5,It,t.id))}}function xt(n,a){if(1&n&&(e.YNc(0,Nt,11,0,"tr",18),e.YNc(1,Ut,16,7,"tr",18)),2&n){const t=e.oxw();e.Q6J("ngIf",null===t.companies),e.xp6(1),e.Q6J("ngIf",t.companies)}}const Jt=function(){return["add"]},wt=function(){return["numberDocument","businessName"]},Qt=function(){return[10,20,40]};let Et=(()=>{class n{constructor(t){this.companiesService=t,this.openModal=!1,this.openModalDelete=!1,this.headersTable=["Ruc","Raz\xf3n social","Representante","Estado","Acciones"],this.companiesService.findAll()}get companies(){return this.companiesService.companies}ngOnInit(){console.log(this.companies)}handlerOpenModal(t){this.openModal=t}handlerOpenModalDelete(t,o){this.openModalDelete=t,this.customer=o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-company"]],decls:15,vars:14,consts:[[1,"p-5","w-screen"],[1,"flex","justify-between","mb-2"],[1,"text-3xl","font-bold"],["label","Agregar","icon","pi pi-plus","styleClass","p-button-sm p-button-rounded bg-companySecondary border-white w-50",3,"routerLink"],[1,"w-full","pt-3"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} al {last} de {totalRecords} registros","scrollHeight","450px",3,"scrollable","value","paginator","globalFilterFields","rows","showCurrentPageReport","rowsPerPageOptions"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"open","setOpen"],[3,"open","customer","stateModal"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[4,"ngIf"],["mat-mini-fab","","color","primary","matTooltip","Ver detalles y sucursales",3,"routerLink"],["mat-mini-fab","","color","primary","matTooltip","Eliminar cliente",1,"ml-3",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"div",1),e.TgZ(3,"h1",2),e._uU(4,"Clientes"),e.qZA(),e._UZ(5,"p-button",3),e.qZA(),e._UZ(6,"p-divider"),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"p-table",5,6),e.YNc(10,yt,4,0,"ng-template",7),e.YNc(11,bt,2,1,"ng-template",8),e.YNc(12,xt,2,2,"ng-template",9),e.qZA(),e.qZA(),e.TgZ(13,"app-add-company",10),e.NdJ("setOpen",function(s){return o.handlerOpenModal(s)}),e.qZA(),e.TgZ(14,"app-delete-company",11),e.NdJ("stateModal",function(s){return o.handlerOpenModalDelete(s)}),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("routerLink",e.DdM(11,Jt)),e.xp6(3),e.Q6J("scrollable",null!==o.companies)("value",null===o.companies?o.headersTable.concat(o.headersTable):o.companies)("paginator",!0)("globalFilterFields",e.DdM(12,wt))("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(13,Qt)),e.xp6(5),e.Q6J("open",o.openModal),e.xp6(1),e.Q6J("open",o.openModalDelete)("customer",o.customer))},directives:[y.zx,f.rH,T.i,Q.iA,c.jx,Ct,qt,k.o,d.sg,d.O5,E.O,p.lW,J.gM,q.Hw],pipes:[d.rS],styles:[""]}),n})();var kt=l(8951),Mt=l(1769);function Dt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Por favor ingrese una razon social "),e.qZA())}function Ot(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Por favor ingrese un nombre comercial "),e.qZA())}function St(n,a){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Yt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function Ft(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function Pt(n,a){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ht(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function Rt(n,a){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function Gt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El campo el obligatorio "),e.qZA())}function Bt(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function zt(n,a){1&n&&e._UZ(0,"mat-progress-spinner",18),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}const jt=function(){return["/clientes"]},Lt=function(){return{width:"100%"}},Vt=function(){return{color:"red"}};let $t=(()=>{class n{constructor(t,o,i,s,h){this._formBuilder=t,this.companyService=o,this.router=i,this.messageService=s,this.user=h,this.selectBool=[{name:"Activo",value:!0},{name:"Inactivo",value:!1}],this.diasCredit=[15,30,45,60,90,120],this.color="primary"}get document(){return this.companyService.documentType}get payments(){return this.companyService.paymentTipe}get group(){return this.companyService.groupType}get userData(){return console.log(this.user.dataUser),this.user.dataUser}get getRequIng(){return this.companyService.reqIng}ngOnInit(){this.usuario=JSON.parse(localStorage.getItem("user")),console.log(JSON.parse(localStorage.getItem("user"))),this.companyService.getDocumentType("DOCUMENTTYPE"),this.companyService.getPayment("PAYMENTTYPE"),this.companyService.getGroup("GROUPTYPE"),this.companyService.getRequIng("REQING"),this.clientForm=this._formBuilder.group({businessName:["",[r.kI.required]],commercialName:["",[r.kI.required]],documentId:["",[r.kI.required]],numberDocument:["",[r.kI.required]],groupId:["",[r.kI.required]],status:[""],requirements:[,[r.kI.required]],userId:[]})}handlerNewClient(){console.log(this.clientForm.value),this.clientForm.valid?(this.clientForm.disable(),this.clientForm.controls.userId.setValue(this.usuario.id),this.companyService.create(this.clientForm.value).subscribe(t=>{this.clientForm.reset(),this.clientForm.enable(),this.messageService.add({severity:"success",detail:"Transacci\xf3n \xe9xitosa",summary:"Se agrego de manera correcta el cliente"}),this.router.navigate(["/clientes"])},t=>{const o=t.error.error.toString().includes("QueryFailedError")?"El ruc ya existe":"No se pudo agregar el cliente";console.log(o),this.clientForm.enable(),this.messageService.add({severity:"error",detail:"Transacci\xf3n fallida",summary:o})})):this.messageService.add({severity:"error",detail:"",summary:"Ingrese toda la informaci\xf3n requerida"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(u.Q),e.Y36(f.F0),e.Y36(c.ez),e.Y36(kt.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-company-add"]],features:[e._Bn([c.ez])],decls:52,vars:29,consts:[[1,"p-5","w-screen"],[1,"flex","justify-between","mb-2"],[1,"text-3xl","font-bold"],["label","Regresar","icon","pi pi-angle-left","styleClass","p-button-sm p-button-rounded bg-companySecondary border-white w-50",3,"routerLink"],[1,"grid","mt-2","gap-2",3,"formGroup"],["vehicleInNgForm","ngForm"],[1,"grid","md:grid-cols-3","sm:grid-cols-2","gap-4","bg-white","p-3"],["type","text","matInput","",3,"formControlName"],[4,"ngIf"],["name","document",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["name","group",3,"formControlName"],["name","status",3,"formControlName"],[1,"col-span-2"],["label","Requerimientos","optionLabel","name",3,"panelStyle","options","formControlName"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6","bg-companySecondary",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"value"],[3,"diameter","mode"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h1",2),e._uU(3,"Agregar cliente"),e.qZA(),e._UZ(4,"p-button",3),e.qZA(),e._UZ(5,"mat-divider"),e.TgZ(6,"form",4,5),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Razon social"),e.qZA(),e._UZ(12,"input",7),e.YNc(13,Dt,2,0,"mat-error",8),e.qZA(),e.TgZ(14,"mat-form-field"),e.TgZ(15,"mat-label"),e._uU(16,"Nombre comercial"),e.qZA(),e._UZ(17,"input",7),e.YNc(18,Ot,2,0,"mat-error",8),e.qZA(),e.TgZ(19,"mat-form-field"),e.TgZ(20,"mat-label"),e._uU(21,"Tipo identificaci\xf3n"),e.qZA(),e.TgZ(22,"mat-select",9),e.YNc(23,St,2,2,"mat-option",10),e.qZA(),e.YNc(24,Yt,2,0,"mat-error",8),e.qZA(),e.TgZ(25,"mat-form-field"),e.TgZ(26,"mat-label"),e._uU(27,"Identificaci\xf3n"),e.qZA(),e._UZ(28,"input",7),e.YNc(29,Ft,2,0,"mat-error",8),e.qZA(),e.TgZ(30,"mat-form-field"),e.TgZ(31,"mat-label"),e._uU(32,"Grupo de empresas"),e.qZA(),e.TgZ(33,"mat-select",11),e.YNc(34,Pt,2,2,"mat-option",10),e.qZA(),e.YNc(35,Ht,2,0,"mat-error",8),e.qZA(),e.TgZ(36,"mat-form-field"),e.TgZ(37,"mat-label"),e._uU(38,"Estado"),e.qZA(),e.TgZ(39,"mat-select",12),e.YNc(40,Rt,2,2,"mat-option",10),e.qZA(),e.YNc(41,Gt,2,0,"mat-error",8),e.qZA(),e.TgZ(42,"div",13),e.TgZ(43,"mat-label"),e._uU(44,"Requisitos de ingreso"),e.qZA(),e._UZ(45,"br"),e._UZ(46,"p-multiSelect",14),e.qZA(),e._UZ(47,"br"),e.TgZ(48,"button",15),e.NdJ("click",function(){return o.handlerNewClient()}),e.YNc(49,Bt,2,0,"span",8),e.YNc(50,zt,1,2,"mat-progress-spinner",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(51,"p-toast")),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(26,jt)),e.xp6(2),e.Q6J("formGroup",o.clientForm),e.xp6(6),e.Q6J("formControlName","businessName"),e.xp6(1),e.Q6J("ngIf",o.clientForm.get("businessName").hasError("required")),e.xp6(4),e.Q6J("formControlName","commercialName"),e.xp6(1),e.Q6J("ngIf",o.clientForm.get("commercialName").hasError("required")),e.xp6(4),e.Q6J("formControlName","documentId"),e.xp6(1),e.Q6J("ngForOf",o.document),e.xp6(1),e.Q6J("ngIf",o.clientForm.get("documentId").hasError("required")),e.xp6(4),e.Q6J("formControlName","numberDocument"),e.xp6(1),e.Q6J("ngIf",o.clientForm.get("numberDocument").hasError("required")),e.xp6(4),e.Q6J("formControlName","groupId"),e.xp6(1),e.Q6J("ngForOf",o.group),e.xp6(1),e.Q6J("ngIf",o.clientForm.get("groupId").hasError("required")),e.xp6(4),e.Q6J("formControlName","status"),e.xp6(1),e.Q6J("ngForOf",o.selectBool),e.xp6(1),e.Q6J("ngIf",o.clientForm.get("status").hasError("required")),e.xp6(5),e.Akn(e.DdM(27,Lt)),e.Q6J("panelStyle",e.DdM(28,Vt))("options",o.getRequIng)("formControlName","requirements"),e.xp6(2),e.Q6J("color","primary")("disabled",o.clientForm.disabled),e.xp6(1),e.Q6J("ngIf",!o.clientForm.disabled),e.xp6(1),e.Q6J("ngIf",o.clientForm.disabled))},directives:[y.zx,f.rH,Mt.d,r._Y,r.JL,r.sg,m.KE,m.hX,Z.Nt,r.Fj,r.JJ,r.u,d.O5,I.gD,d.sg,U.NU,p.lW,C.FN,m.TO,x.ey,_.Ou],styles:[".toggle[_ngcontent-%COMP%]{display:flex;padding-top:2px;align-items:center}"]}),n})();var Xt=l(2613),Wt=l(3220),Kt=l(1554);const en=[{path:"",component:Y,children:[{path:"",component:Et},{path:"detalle/:id",component:ct},{path:"add",component:$t}]}];let tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,f.Bz.forChild(en),T.x,Q.U$,E.m,C.EV,k.j,y.hJ,F.T,g.S,r.UX,P.Iu,H.zz,p.ot,_.Cq,q.Ps,J.AV,m.lN,Z.c,A.ie,v.WN,r.u5,b.su,I.LD,Xt.Fk,Wt.FA,x.XK,O.rP,S.kW,U.q4,N.QW,Kt.Bb]]}),n})()}}]);