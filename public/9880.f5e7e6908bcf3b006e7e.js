"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[9880],{9880:(ct,_,i)=>{i.r(_),i.d(_,{CatalogModule:()=>st});var c=i(8583),p=i(3423),t=i(7716);let N=(()=>{class o{constructor(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog"]],decls:1,vars:0,template:function(e,a){1&e&&t._UZ(0,"router-outlet")},directives:[p.lC],encapsulation:2}),o})();var l=i(3679),q=i(3190),d=i(805),f=i(1224),m=i(2453),Z=i(4885),g=i(5593),h=i(1769),u=i(8295),C=i(9983),v=i(1095),T=i(7441),Q=i(2458);function O(o,n){1&o&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t._UZ(2,"mat-spinner",5),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("diameter",50)("mode","indeterminate"))}function I(o,n){if(1&o&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function Y(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Por favor selecione un Catalogo "),t.qZA())}function D(o,n){if(1&o&&(t.TgZ(0,"mat-form-field"),t.TgZ(1,"mat-label"),t._uU(2,"Catalogo"),t.qZA(),t.TgZ(3,"mat-select",14),t.YNc(4,I,2,2,"mat-option",15),t.qZA(),t.YNc(5,Y,2,0,"mat-error",2),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("formControlName","catalog"),t.xp6(1),t.Q6J("ngForOf",e.catalog),t.xp6(1),t.Q6J("ngIf",e.detailForm.get("catalog").hasError("required"))}}function S(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es obligatorio "),t.qZA())}function L(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es obligatorio "),t.qZA())}function M(o,n){1&o&&t._UZ(0,"br")}function E(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1," Guardar "),t.qZA())}function j(o,n){1&o&&t._UZ(0,"mat-progress-spinner",5),2&o&&t.Q6J("diameter",24)("mode","indeterminate")}const z=function(){return["/catalog"]};function B(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",6),t.TgZ(2,"h1",7),t._uU(3),t.qZA(),t._UZ(4,"p-button",8),t.qZA(),t._UZ(5,"mat-divider"),t.TgZ(6,"form",9,10),t.YNc(8,D,6,3,"mat-form-field",2),t.TgZ(9,"mat-form-field"),t.TgZ(10,"mat-label"),t._uU(11,"Nombre"),t.qZA(),t._UZ(12,"input",11),t.YNc(13,S,2,0,"mat-error",2),t.qZA(),t.TgZ(14,"mat-form-field"),t.TgZ(15,"mat-label"),t._uU(16,"Descripci\xf3n"),t.qZA(),t._UZ(17,"input",11),t.YNc(18,L,2,0,"mat-error",2),t.qZA(),t.YNc(19,M,1,0,"br",2),t.TgZ(20,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().addCatalog()}),t.YNc(21,E,2,0,"span",2),t.YNc(22,j,1,2,"mat-progress-spinner",13),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.hij(" ",e.idDetail?"Editar":"Agregar"," catalogo"),t.xp6(1),t.Q6J("routerLink",t.DdM(13,z)),t.xp6(2),t.Q6J("formGroup",e.detailForm),t.xp6(2),t.Q6J("ngIf",""===e.idDetail),t.xp6(4),t.Q6J("formControlName","name"),t.xp6(1),t.Q6J("ngIf",e.detailForm.get("name").hasError("required")),t.xp6(4),t.Q6J("formControlName","description"),t.xp6(1),t.Q6J("ngIf",e.detailForm.get("description").hasError("required")),t.xp6(1),t.Q6J("ngIf",""===e.idDetail),t.xp6(1),t.Q6J("color","primary")("disabled",e.detailForm.disabled),t.xp6(1),t.Q6J("ngIf",!e.detailForm.disabled),t.xp6(1),t.Q6J("ngIf",e.detailForm.disabled)}}let A=(()=>{class o{constructor(e,a,r,s,U){this._formBuilder=e,this.catalogService=a,this.router=r,this.activateRoute=s,this.messageService=U,this.catalog=[],this.idDetail="",this.loading=!0}ngOnInit(){if(this.catalogService.getAllCatalog().subscribe(e=>{this.catalog=e.catalog},e=>console.log("first",e)),!this.router.url.includes("editar"))return this.loading=!1,void(this.detailForm=this._formBuilder.group({name:["",[l.kI.required]],description:["",[l.kI.required]],catalog:[,[l.kI.required]]}));this.activateRoute.params.pipe((0,q.w)(({nemonico:e})=>this.catalogService.getCatalogById(e))).subscribe(e=>{e.catalog.detailCatalog.map(a=>{if(a.id===this.activateRoute.snapshot.params.id)return this.detailForm=this._formBuilder.group({name:[a.name,[l.kI.required]],description:[a.description,[l.kI.required]]}),this.idDetail=a.id,void(this.loading=!1)})})}addCatalog(){this.detailForm.invalid||(this.detailForm.disable(),""===this.idDetail?this.catalogService.createCatalog(this.detailForm.value).subscribe(e=>{this.messageService.add({severity:"success",detail:"Transacci\xf3n \xe9xitosa",summary:"Se agrego de manera correcta el catalogo"}),setTimeout(()=>{this.router.navigate(["/catalog"])},2e3)},e=>console.log("first",e)):this.catalogService.updateCatalog(this.idDetail,this.detailForm.value).subscribe(e=>{this.messageService.add({severity:"success",detail:"Transacci\xf3n \xe9xitosa",summary:"Se edit\xf3 de manera correcta el catalogo"}),setTimeout(()=>{this.router.navigate(["/catalog"])},2e3)},e=>console.log(e)))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(f.a),t.Y36(p.F0),t.Y36(p.gz),t.Y36(d.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add"]],features:[t._Bn([d.ez])],decls:4,vars:2,consts:[[1,"p-5","w-screen"],["class","grid justify-items-stretch",4,"ngIf"],[4,"ngIf"],[1,"grid","justify-items-stretch"],[1,"justify-self-center","pt-50"],[3,"diameter","mode"],[1,"flex","justify-between","mb-2"],[1,"text-3xl","font-bold"],["label","Regresar","icon","pi pi-angle-left","styleClass","p-button-sm p-button-rounded bg-companySecondary border-white w-50",3,"routerLink"],[1,"grid","gap-4","md:grid-cols-2","sm:grid-cols-2","mt-2","bg-white","p-3",3,"formGroup"],["detailInNgForm","ngForm"],["type","text","matInput","",3,"formControlName"],["mat-flat-button","",1,"fuse-mat-button-medium","mt-6","w-1/2",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],["name","rol",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,O,3,2,"div",1),t.YNc(2,B,23,14,"div",2),t.qZA(),t._UZ(3,"p-toast")),2&e&&(t.xp6(1),t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",!a.loading))},directives:[c.O5,m.FN,Z.$g,g.zx,p.rH,h.d,l._Y,l.JL,l.sg,u.KE,u.hX,C.Nt,l.Fj,l.JJ,l.u,v.lW,T.gD,c.sg,Q.ey,u.TO,Z.Ou],encapsulation:2}),o})();var x=i(9529),b=i(1512);let H=(()=>{class o{constructor(e,a){this.messageService=e,this.catalogService=a,this.setOpen=new t.vpe}ngOnInit(){}handlerModal(e){this.setOpen.emit(e)}handlerDelete(){this.catalogService.deleteCatalog(this.idCatalog).subscribe(e=>{this.messageService.add({severity:"success",detail:"Transacci\xf3n exitosa",summary:"Se elmino correctamente"}),this.setOpen.emit(!1)},()=>{this.messageService.add({severity:"error",detail:"Transacci\xf3n fallida",summary:"la transacci\xf3n no se pudo completar"}),this.setOpen.emit(!1)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.ez),t.Y36(f.a))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete-catalog"]],inputs:{open:"open",idCatalog:"idCatalog"},outputs:{setOpen:"setOpen"},decls:10,vars:1,consts:[["header","Eliminar",3,"visible","visibleChange","onHide"],[1,"font-medium","text-lg"],[1,"mt-5","flex","justify-end"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","",1,"ml-3","bg-gray-400",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(s){return a.open=s})("onHide",function(){return a.handlerModal(!1)}),t.TgZ(1,"div"),t.TgZ(2,"p",1),t._uU(3,"Estas seguro de eliminar?"),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"button",3),t.NdJ("click",function(){return a.handlerDelete()}),t._uU(6,"S\xed. Estoy seguro"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return a.handlerModal(!1)}),t._uU(8,"No"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(9,"p-toast")),2&e&&t.Q6J("visible",a.open)},directives:[b.V,v.lW,m.FN],encapsulation:2}),o})();var F=i(1740),y=i(7489),J=i(1795);function R(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"span",12),t._UZ(2,"i",13),t.TgZ(3,"input",14),t.NdJ("input",function(r){return t.CHM(e),t.oxw(),t.MAs(9).filterGlobal(r.target.value,"contains")}),t.qZA(),t.qZA(),t.qZA()}}function w(o,n){if(1&o&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=n.$implicit;t.Q6J("id",e),t.xp6(1),t.Oqu(t.lcZ(2,2,e))}}function P(o,n){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,w,3,4,"th",15),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.headersTable)}}function $(o,n){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"p-skeleton"),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"p-skeleton"),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"p-skeleton"),t.qZA(),t.qZA())}const X=function(o,n){return["/catalog/editar",o,n]};function k(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"button",19),t.TgZ(9,"button",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).handlerModal(!0,s.id)}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit,a=t.oxw().$implicit;t.xp6(2),t.Oqu(a.name),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(2),t.Q6J("routerLink",t.WLB(4,X,a.nemonico,e.id))}}function G(o,n){if(1&o&&(t.YNc(0,$,7,0,"tr",17),t.YNc(1,k,10,7,"tr",18)),2&o){const e=n.$implicit,a=t.oxw();t.Q6J("ngIf",null===a.catallogAll),t.xp6(1),t.Q6J("ngForOf",e.detailCatalog)}}const W=function(){return["/catalog/add-catalog"]},V=function(){return["name"]},K=function(){return[10,20,40]};let tt=(()=>{class o{constructor(e,a){this.catalogService=e,this.messageService=a,this.catallogAll=null,this.headersTable=["catalogo","nombre","descripcion","acciones"],this.openModal=!1,this.idCatalog=""}ngOnInit(){this.getAllCatalog()}getAllCatalog(){this.catalogService.getAllCatalog().subscribe(e=>{this.catallogAll=e.catalog},e=>{console.log("easdfa",e)})}handlerModal(e,a){this.openModal=e,this.idCatalog=a,this.getAllCatalog()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.a),t.Y36(d.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],features:[t._Bn([d.ez])],decls:15,vars:13,consts:[[1,"p-5","w-screen"],[1,"flex","justify-between","mb-2"],[1,"text-3xl","font-bold"],["label","Agregar","icon","pi pi-plus","styleClass","p-button-sm p-button-rounded bg-companySecondary border-white w-50",3,"routerLink"],[1,"w-full","pt-3"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} al {last} de {totalRecords} registros","scrollHeight","450px",3,"scrollable","value","paginator","globalFilterFields","rows","showCurrentPageReport","rowsPerPageOptions"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"open","idCatalog","setOpen"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[4,"ngIf"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-outlined","mr-2",3,"routerLink"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div"),t.TgZ(2,"div",1),t.TgZ(3,"h1",2),t._uU(4,"Administraci\xf3n de cat\xe1logos"),t.qZA(),t._UZ(5,"p-button",3),t.qZA(),t._UZ(6,"mat-divider"),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"p-table",5,6),t.YNc(10,R,4,0,"ng-template",7),t.YNc(11,P,2,1,"ng-template",8),t.YNc(12,G,2,2,"ng-template",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"app-delete-catalog",10),t.NdJ("setOpen",function(s){return a.handlerModal(s)}),t.qZA(),t._UZ(14,"p-toast")),2&e&&(t.xp6(5),t.Q6J("routerLink",t.DdM(10,W)),t.xp6(3),t.Q6J("scrollable",null!==a.catallogAll)("value",a.catallogAll&&0===a.catallogAll.length?a.headersTable.concat(a.headersTable):a.catallogAll)("paginator",!0)("globalFilterFields",t.DdM(11,V))("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(12,K)),t.xp6(5),t.Q6J("open",a.openModal)("idCatalog",a.idCatalog))},directives:[g.zx,p.rH,h.d,x.iA,d.jx,H,m.FN,F.o,c.sg,c.O5,y.O,g.Hq,J.H],pipes:[c.rS],encapsulation:2}),o})();var et=i(369),ot=i(6627),at=i(3425),nt=i(2210),it=i(2091),lt=i(7001);const rt=[{path:"",component:N,children:[{path:"",component:tt},{path:"add-catalog",component:A},{path:"editar/:nemonico/:id",component:A}]}];let st=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(rt),c.ez,h.t,g.hJ,J.T,y.m,x.U$,c.ez,et.n,m.EV,b.S,l.UX,u.lN,C.c,v.ot,Z.Cq,at.gz,F.j,ot.Ps,nt.kW,it.p0,T.LD,lt.ZX]]}),o})()}}]);