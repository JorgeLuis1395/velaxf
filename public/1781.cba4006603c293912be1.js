"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[1781],{1781:(dt,f,n)=>{n.r(f),n.d(f,{NotificationModule:()=>ct});var l=n(8583),c=n(805),t=n(7716),Z=n(1124),p=n(5108),v=n(9529),u=n(2453),h=n(1740),T=n(7489),m=n(5593),A=n(1795),x=n(1436),r=n(3423);function S(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"span",10),t._UZ(2,"i",11),t.TgZ(3,"input",12),t.NdJ("input",function(s){return t.CHM(i),t.oxw(),t.MAs(8).filterGlobal(s.target.value,"contains")}),t.qZA(),t.qZA(),t.qZA()}}function y(e,a){if(1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&e){const i=a.$implicit;t.Q6J("id",i),t.xp6(1),t.Oqu(t.lcZ(2,2,i))}}function F(e,a){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,y,3,4,"th",13),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.headersTable)}}function I(e,a){1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"p-skeleton"),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"p-skeleton"),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"p-skeleton"),t.qZA(),t.qZA())}const O=function(e){return["edit",e]};function M(e,a){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"button",16),t.qZA(),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.request),t.xp6(2),t.Oqu(i.status.name),t.xp6(2),t.Q6J("routerLink",t.VKq(3,O,i.id))}}function J(e,a){if(1&e&&(t.YNc(0,I,7,0,"tr",15),t.YNc(1,M,7,5,"tr",15)),2&e){const i=t.oxw();t.Q6J("ngIf",null===i.notifications),t.xp6(1),t.Q6J("ngIf",i.notifications)}}const Y=function(){return["processNumber","customer.businessName"]},R=function(){return[10,20,40]};let b=(()=>{class e{constructor(i,o){this.receptionService=i,this.messageService=o,this.headersTable=["Solicitud","Estado","Acciones"],this.notifications=null}ngOnInit(){this.receptionService.getAllNotification().then(i=>{console.log(i),this.notifications=i.data.data.fixReceptions.filter(o=>"PENDIENTE"===o.status.name)})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(Z.G),t.Y36(c.ez))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification"]],features:[t._Bn([c.ez])],decls:13,vars:9,consts:[[1,"p-5","w-screen"],[1,"flex","justify-between","mb-2"],[1,"text-3xl","font-bold"],[1,"w-full","pt-3"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} al {last} de {totalRecords} registros","scrollHeight","450px",3,"scrollable","value","paginator","globalFilterFields","rows","showCurrentPageReport","rowsPerPageOptions"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-eye","matTooltip","Ver detalles",1,"p-button-rounded","p-button-outlined","mr-2",3,"routerLink"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div"),t.TgZ(2,"div",1),t.TgZ(3,"h1",2),t._uU(4,"Notificaciones"),t.qZA(),t.qZA(),t._UZ(5,"p-divider"),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"p-table",4,5),t.YNc(9,S,4,0,"ng-template",6),t.YNc(10,F,2,1,"ng-template",7),t.YNc(11,J,2,2,"ng-template",8),t.qZA(),t.qZA(),t._UZ(12,"p-toast"),t.qZA()),2&i&&(t.xp6(7),t.Q6J("scrollable",null!==o.notifications)("value",null===o.notifications?o.headersTable.concat(o.headersTable):o.notifications)("paginator",!0)("globalFilterFields",t.DdM(7,Y))("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(8,R)))},directives:[p.i,v.iA,c.jx,u.FN,h.o,l.sg,l.O5,T.O,m.Hq,A.H,x.gM,r.rH],pipes:[l.rS],encapsulation:2}),e})();var Q=n(3190),P=n(2927),N=n(4885),j=n(1769),C=n(3738),U=n(1095),g=n(7648);function z(e,a){1&e&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t._UZ(2,"mat-spinner",5),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("diameter",50)("mode","indeterminate"))}function B(e,a){1&e&&(t.TgZ(0,"mat-list",14),t.TgZ(1,"mat-list-item"),t.TgZ(2,"div",15),t.TgZ(3,"h1",16),t._uU(4,"Mae"),t.qZA(),t.TgZ(5,"h1",17),t._uU(6,"Descripci\xf3n"),t.qZA(),t.TgZ(7,"h1",16),t._uU(8,"Cantidad"),t.qZA(),t.TgZ(9,"h1",16),t._uU(10,"Cantidad Ajustada"),t.qZA(),t.TgZ(11,"h1",16),t._uU(12,"Unidad"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function E(e,a){if(1&e&&(t.TgZ(0,"mat-list",14),t.TgZ(1,"mat-list-item"),t.TgZ(2,"div",18),t.TgZ(3,"h1"),t._uU(4),t.qZA(),t.TgZ(5,"h1",19),t._uU(6),t.qZA(),t.TgZ(7,"h1"),t._uU(8),t.qZA(),t.TgZ(9,"h1"),t._uU(10),t.qZA(),t.TgZ(11,"h1"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t._UZ(13,"p-divider"),t.qZA()),2&e){const i=a.$implicit,o=t.oxw(2);t.xp6(4),t.Oqu(i.maeId.name),t.xp6(2),t.hij(" ",i.maeId.description," "),t.xp6(2),t.Oqu(i.weight),t.xp6(2),t.Oqu(i.weightReception),t.xp6(2),t.Oqu(o.unidad)}}const D=function(){return["/reception"]};function H(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",6),t.TgZ(2,"h1",7),t._uU(3,"Editar notificaci\xf3n"),t.qZA(),t._UZ(4,"p-button",8),t.qZA(),t._UZ(5,"mat-divider"),t.TgZ(6,"div",9),t.TgZ(7,"mat-card",10),t.YNc(8,B,13,0,"mat-list",11),t.YNc(9,E,14,5,"mat-list",12),t.TgZ(10,"button",13),t.NdJ("click",function(){return t.CHM(i),t.oxw().changeStatus()}),t.TgZ(11,"span"),t._uU(12," Aprobar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const i=t.oxw();t.xp6(4),t.Q6J("routerLink",t.DdM(5,D)),t.xp6(4),t.Q6J("ngIf",0!==i.detailMae.length),t.xp6(1),t.Q6J("ngForOf",i.detailMae),t.xp6(1),t.Q6J("color","primary")("disabled",i.isSave)}}let L=(()=>{class e{constructor(i,o,s,d,rt){this.receptionService=i,this.messageService=o,this._requestService=s,this.activatedRoute=d,this.router=rt,this.detailMae=[],this.isSave=!1,this.loading=!0}ngOnInit(){this._requestService.getCatalogo("NTIFICATIONSTATUS").subscribe(i=>this.statusNotification=i.catalog.detailCatalog),this.activatedRoute.params.pipe((0,Q.w)(({id:i})=>this.receptionService.getIdNotification(i))).subscribe(i=>{const o=i.data.data.fixReception.request;this.notification=i.data.data.fixReception,this._requestService.getById(o).subscribe(s=>{this.detailMae=s.request.detail.filter(d=>null!==d.weightReception),this.unidad=s.request.unity.name,this.loading=!1})})}changeStatus(){this.isSave=!0;const i=this.statusNotification.filter(s=>"APROBADO"===s.name);this.receptionService.changeStateFixReception({id:this.notification.id,request:this.notification.request,status:i[0].id}).then(s=>{this.messageService.add({severity:"success",detail:"Transacci\xf3n \xe9xitosa",summary:"Se aprobo el nuevo mae"}),setTimeout(()=>{this.router.navigate(["/notification"])},2e3)}).catch(s=>{this.isSave=!1,this.messageService.add({severity:"error",detail:"Transacci\xf3n erronea",summary:s}),console.log(s)})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(Z.G),t.Y36(c.ez),t.Y36(P.s),t.Y36(r.gz),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add"]],features:[t._Bn([c.ez])],decls:4,vars:2,consts:[[1,"p-5","w-screen"],["class","grid justify-items-stretch",4,"ngIf"],[4,"ngIf"],[1,"grid","justify-items-stretch"],[1,"justify-self-center","pt-50"],[3,"diameter","mode"],[1,"flex","justify-between","mb-2"],[1,"text-3xl","font-bold"],["label","Regresar","icon","pi pi-angle-left","styleClass","p-button-sm p-button-rounded bg-companySecondary border-white w-50",3,"routerLink"],[1,"col-span-3"],[1,"col-span-4"],["class","w-full",4,"ngIf"],["class","w-full",4,"ngFor","ngForOf"],["mat-flat-button","",1,"fuse-mat-button-medium","mt-6","w-1/2",3,"color","disabled","click"],[1,"w-full"],[1,"grid","grid-cols-6","gap-3","w-full"],[1,"font-bold"],[1,"font-bold","col-span-2"],[1,"grid","grid-cols-6","gap-3","w-full","items-center","mb-1"],[1,"col-span-2"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,z,3,2,"div",1),t.YNc(2,H,13,6,"div",2),t._UZ(3,"p-toast"),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",!o.loading))},directives:[l.O5,u.FN,N.$g,m.zx,r.rH,j.d,C.a8,l.sg,U.lW,g.i$,g.Tg,p.i],encapsulation:2}),e})();var $=n(1512),q=n(3679),V=n(7913),W=n(3520),X=n(6627),G=n(8295),K=n(9983),w=n(3631),k=n(6457),_=n(7441),tt=n(2613),it=n(3220),et=n(2458),nt=n(5396),ot=n(2210),at=n(5722),st=n(1554);const lt=[{path:"",component:b},{path:"edit/:id",component:L}];let ct=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,r.Bz.forChild(lt),p.x,v.U$,T.m,u.EV,h.j,m.hJ,A.T,$.S,q.UX,V.Iu,W.zz,U.ot,N.Cq,X.Ps,x.AV,G.lN,K.c,g.ie,w.WN,q.u5,k.su,_.LD,tt.Fk,it.FA,et.XK,nt.rP,ot.kW,at.q4,C.QW,st.Bb]]}),e})()}}]);