"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[3367],{5439:On=>{On.exports=function Ve(b,B){if(b===B)return!0;if(b&&B&&"object"==typeof b&&"object"==typeof B){if(b.constructor!==B.constructor)return!1;var ie,F,Q;if(Array.isArray(b)){if((ie=b.length)!=B.length)return!1;for(F=ie;0!=F--;)if(!Ve(b[F],B[F]))return!1;return!0}if(b.constructor===RegExp)return b.source===B.source&&b.flags===B.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===B.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===B.toString();if((ie=(Q=Object.keys(b)).length)!==Object.keys(B).length)return!1;for(F=ie;0!=F--;)if(!Object.prototype.hasOwnProperty.call(B,Q[F]))return!1;for(F=ie;0!=F--;){var ke=Q[F];if(!Ve(b[ke],B[ke]))return!1}return!0}return b!=b&&B!=B}},3367:(On,Ve,b)=>{b.r(Ve),b.d(Ve,{CalendarModule:()=>jc});var B=b(3423),ie=b(4937),F=b(2458),Q=b(1095),ke=b(2542),Zi=b(7539),Ge=b(3220),it=b(2238),K=b(8295),Ye=b(6627),ze=b(9983),at=b(3935),o=b(7716),R=b(6738),An=b.n(R);const De=An()||R,Pn=new o.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function Ui(r,t){const e=Array(r);for(let n=0;n<r;n++)e[n]=t(n);return e}let Vi=(()=>{class r extends F._A{constructor(e,n){super(),this._options=n,this.setLocale(e||De.locale())}setLocale(e){super.setLocale(e);let n=De.localeData(e);this._localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:n.months(),shortMonths:n.monthsShort(),dates:Ui(31,i=>this.createDate(2017,0,i+1).format("D")),longDaysOfWeek:n.weekdays(),shortDaysOfWeek:n.weekdaysShort(),narrowDaysOfWeek:n.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return"long"==e?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return"long"==e?this._localeData.longDaysOfWeek:"short"==e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,n,i){const a=this._createMoment({year:e,month:n,date:i}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(e,n){return e&&"string"==typeof e?this._createMoment(e,n,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,n){return e=this.clone(e),this.isValid(e),e.format(n)}addCalendarYears(e,n){return this.clone(e).add({years:n})}addCalendarMonths(e,n){return this.clone(e).add({months:n})}addCalendarDays(e,n){return this.clone(e).add({days:n})}toIso8601(e){return this.clone(e).format()}deserialize(e){let n;if(e instanceof Date)n=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;n=this._createMoment(e,De.ISO_8601).locale(this.locale)}return n&&this.isValid(n)?this._createMoment(n).locale(this.locale):super.deserialize(e)}isDateInstance(e){return De.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return De.invalid()}_createMoment(e,n,i){const{strict:a,useUtc:s}=this._options||{};return s?De.utc(e,n,i,a):De(e,n,i,a)}}return r.\u0275fac=function(e){return new(e||r)(o.LFG(F.Ad,8),o.LFG(Pn,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Yi=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:F._A,useClass:Vi,deps:[F.Ad,Pn]}]}),r})();const zi={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Fn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:F.sG,useValue:zi}],imports:[[Yi]]}),r})();var qi=b(2613),Oe=b(7441),ot=b(3017),Nn=b(1436),u=b(4762),Wi=b(5439),Hn=b.n(Wi),ji={className:!0,colSpan:!0,rowSpan:!0},Ji={"<tr":"tbody","<td":"tr"};function L(r,t,e){var n=document.createElement(r);if(t)for(var i in t)"style"===i?Z(n,t[i]):ji[i]?n[i]=t[i]:n.setAttribute(i,t[i]);return"string"==typeof e?n.innerHTML=e:null!=e&&ee(n,e),n}function _e(r){r=r.trim();var t=document.createElement(Bn(r));return t.innerHTML=r,t.firstChild}function Bt(r){return Array.prototype.slice.call(function(r){r=r.trim();var t=document.createElement(Bn(r));return t.innerHTML=r,t.childNodes}(r))}function Bn(r){return Ji[r.substr(0,3)]||"div"}function ee(r,t){for(var e=Zt(t),n=0;n<e.length;n++)r.appendChild(e[n])}function st(r,t){for(var e=Zt(t),n=r.firstChild||null,i=0;i<e.length;i++)r.insertBefore(e[i],n)}function Xi(r,t){for(var e=Zt(t),n=r.nextSibling||null,i=0;i<e.length;i++)r.parentNode.insertBefore(e[i],n)}function Zt(r){return"string"==typeof r?Bt(r):r instanceof Node?[r]:Array.prototype.slice.call(r)}function z(r){r.parentNode&&r.parentNode.removeChild(r)}var $i=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector,Ki=Element.prototype.closest||function(r){var t=this;if(!document.documentElement.contains(t))return null;do{if(lt(t,r))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};function J(r,t){return Ki.call(r,t)}function lt(r,t){return $i.call(r,t)}function G(r,t){for(var e=r instanceof HTMLElement?[r]:r,n=[],i=0;i<e.length;i++)for(var a=e[i].querySelectorAll(t),s=0;s<a.length;s++)n.push(a[s]);return n}function Zn(r,t){for(var e=r instanceof HTMLElement?[r]:r,n=[],i=0;i<e.length;i++)for(var a=e[i].children,s=0;s<a.length;s++){var l=a[s];(!t||lt(l,t))&&n.push(l)}return n}var ea=/(top|left|right|bottom|width|height)$/i;function Z(r,t){for(var e in t)Ln(r,e,t[e])}function Ln(r,t,e){r.style[t]=null==e?"":"number"==typeof e&&ea.test(t)?e+"px":e}function ta(r,t){return r.left>=t.left&&r.left<t.right&&r.top>=t.top&&r.top<t.bottom}function Un(r,t){var e={left:Math.max(r.left,t.left),right:Math.min(r.right,t.right),top:Math.max(r.top,t.top),bottom:Math.min(r.bottom,t.bottom)};return e.left<e.right&&e.top<e.bottom&&e}var Lt=null;function Vn(r){return r=Math.max(0,r),Math.round(r)}function Gn(r,t){void 0===t&&(t=!1);var e=window.getComputedStyle(r),n=parseInt(e.borderLeftWidth,10)||0,i=parseInt(e.borderRightWidth,10)||0,a=parseInt(e.borderTopWidth,10)||0,s=parseInt(e.borderBottomWidth,10)||0,l=Vn(r.offsetWidth-r.clientWidth-n-i),c={borderLeft:n,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:Vn(r.offsetHeight-r.clientHeight-a-s),scrollbarLeft:0,scrollbarRight:0};return null===Lt&&(Lt=function(){var r=L("div",{style:{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}},"<div></div>");document.body.appendChild(r);var e=r.firstChild.getBoundingClientRect().left>r.getBoundingClientRect().left;return z(r),e}()),Lt&&"rtl"===e.direction?c.scrollbarLeft=l:c.scrollbarRight=l,t&&(c.paddingLeft=parseInt(e.paddingLeft,10)||0,c.paddingRight=parseInt(e.paddingRight,10)||0,c.paddingTop=parseInt(e.paddingTop,10)||0,c.paddingBottom=parseInt(e.paddingBottom,10)||0),c}function Yn(r,t){void 0===t&&(t=!1);var e=Te(r),n=Gn(r,t),i={left:e.left+n.borderLeft+n.scrollbarLeft,right:e.right-n.borderRight-n.scrollbarRight,top:e.top+n.borderTop,bottom:e.bottom-n.borderBottom-n.scrollbarBottom};return t&&(i.left+=n.paddingLeft,i.right-=n.paddingRight,i.top+=n.paddingTop,i.bottom-=n.paddingBottom),i}function Te(r){var t=r.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset}}function zn(r){return r.getBoundingClientRect().height+qn(r)}function qn(r){var t=window.getComputedStyle(r);return parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function Wn(r){for(var t=[];r instanceof HTMLElement;){var e=window.getComputedStyle(r);if("fixed"===e.position)break;/(auto|scroll)/.test(e.overflow+e.overflowY+e.overflowX)&&t.push(r),r=r.parentNode}return t}function dt(r){r.preventDefault()}function ct(r,t,e,n){function i(a){var s=J(a.target,e);s&&n.call(s,a,s)}return r.addEventListener(t,i),function(){r.removeEventListener(t,i)}}var jn=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"],Jn=["sun","mon","tue","wed","thu","fri","sat"];function Qn(r,t){var e=he(r);return e[2]+=7*t,j(e)}function q(r,t){var e=he(r);return e[2]+=t,j(e)}function qe(r,t){var e=he(r);return e[6]+=t,j(e)}function pe(r,t){return(t.valueOf()-r.valueOf())/864e5}function ut(r,t){return ve(r)===ve(t)?Math.round(pe(r,t)):null}function A(r){return j([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()])}function Ut(r,t,e,n){var i=j([t,0,1+Sa(t,e,n)]),a=A(r),s=Math.round(pe(i,a));return Math.floor(s/7)+1}function Sa(r,t,e){var n=7+t-e;return-(7+j([r,0,n]).getUTCDay()-t)%7+n-1}function Xn(r){return[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()]}function $n(r){return new Date(r[0],r[1]||0,null==r[2]?1:r[2],r[3]||0,r[4]||0,r[5]||0)}function he(r){return[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]}function j(r){return 1===r.length&&(r=r.concat([0])),new Date(Date.UTC.apply(Date,r))}function Kn(r){return!isNaN(r.valueOf())}function ve(r){return 1e3*r.getUTCHours()*60*60+1e3*r.getUTCMinutes()*60+1e3*r.getUTCSeconds()+r.getUTCMilliseconds()}var er=["years","months","days","milliseconds"],wa=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function C(r,t){var e;return"string"==typeof r?function(r){var t=wa.exec(r);if(t){var e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(r):"object"==typeof r&&r?tr(r):"number"==typeof r?tr(((e={})[t||"milliseconds"]=r,e)):null}function tr(r){return{years:r.years||r.year||0,months:r.months||r.month||0,days:(r.days||r.day||0)+7*Vt(r),milliseconds:60*(r.hours||r.hour||0)*60*1e3+60*(r.minutes||r.minute||0)*1e3+1e3*(r.seconds||r.second||0)+(r.milliseconds||r.millisecond||r.ms||0)}}function Vt(r){return r.weeks||r.week||0}function Gt(r,t){return r.years===t.years&&r.months===t.months&&r.days===t.days&&r.milliseconds===t.milliseconds}function Yt(r,t){return{years:r.years+t.years,months:r.months+t.months,days:r.days+t.days,milliseconds:r.milliseconds+t.milliseconds}}function Ae(r){return te(r)/864e5}function te(r){return 31536e6*r.years+2592e6*r.months+864e5*r.days+r.milliseconds}function zt(r,t){for(var e=null,n=0;n<er.length;n++){var i=er[n];if(t[i]){var a=r[i]/t[i];if(!ht(a)||null!==e&&e!==a)return null;e=a}else if(r[i])return null}return e}function qt(r,t){var e=r.milliseconds;if(e){if(e%1e3!=0)return{unit:"millisecond",value:e};if(e%6e4!=0)return{unit:"second",value:e/1e3};if(e%36e5!=0)return{unit:"minute",value:e/6e4};if(e)return{unit:"hour",value:e/36e5}}return r.days?t||r.days%7!=0?{unit:"day",value:r.days}:{unit:"week",value:r.days/7}:r.months?{unit:"month",value:r.months}:r.years?{unit:"year",value:r.years}:{unit:"millisecond",value:0}}function nr(r,t){t.left&&Z(r,{borderLeftWidth:1,marginLeft:t.left-1}),t.right&&Z(r,{borderRightWidth:1,marginRight:t.right-1})}function rr(r){Z(r,{marginLeft:"",marginRight:"",borderLeftWidth:"",borderRightWidth:""})}function ft(){document.body.classList.add("fc-not-allowed")}function pt(){document.body.classList.remove("fc-not-allowed")}function ir(r,t,e){var n=Math.floor(t/r.length),i=Math.floor(t-n*(r.length-1)),a=[],s=[],l=[],d=0;ar(r),r.forEach(function(c,f){var p=f===r.length-1?i:n,v=c.getBoundingClientRect().height,h=v+qn(c);h<p?(a.push(c),s.push(h),l.push(v)):d+=h}),e&&(t-=d,n=Math.floor(t/a.length),i=Math.floor(t-n*(a.length-1))),a.forEach(function(c,f){var p=f===a.length-1?i:n,v=s[f];v<p&&(c.style.height=p-(v-l[f])+"px")})}function ar(r){r.forEach(function(t){t.style.height=""})}function or(r){var t=0;return r.forEach(function(e){var n=e.firstChild;if(n instanceof HTMLElement){var i=n.getBoundingClientRect().width;i>t&&(t=i)}}),t++,r.forEach(function(e){e.style.width=t+"px"}),t}function Wt(r,t){var e={position:"relative",left:-1};Z(r,e),Z(t,e);var n=r.getBoundingClientRect().height-t.getBoundingClientRect().height,i={position:"",left:""};return Z(r,i),Z(t,i),n}function sr(r,t,e){var n,i;for(n=0;n<e.length;n++)if(i=Aa(r,t,e[n]))return i;return 0}function Aa(r,t,e){return e.func?e.func(r,t):function(r,t){return r||t?null==t?-1:null==r?1:"string"==typeof r||"string"==typeof t?String(r).localeCompare(String(t)):r-t:0}(r[e.field],t[e.field])*(e.order||1)}function jt(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Pe(r,t){var e=String(r);return"000".substr(0,t-e.length)+e}function Fa(r,t){return r-t}function ht(r){return r%1==0}function lr(r,t,e){if("function"==typeof r&&(r=[r]),r){var n=void 0,i=void 0;for(n=0;n<r.length;n++)i=r[n].apply(t,e)||i;return i}}function Jt(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0;e<r.length;e++)if(void 0!==r[e])return r[e]}function dr(r,t){var e,n,i,a,s,l=function(){var d=(new Date).valueOf()-a;d<t?e=setTimeout(l,t-d):(e=null,s=r.apply(i,n),i=n=null)};return function(){return i=this,n=arguments,a=(new Date).valueOf(),e||(e=setTimeout(l,t)),s}}function se(r,t,e,n){void 0===e&&(e={});var i={};for(var a in t){var s=t[a];i[a]=void 0!==r[a]?s===Function?"function"==typeof r[a]?r[a]:null:s?s(r[a]):r[a]:void 0!==e[a]?e[a]:s===String?"":s&&s!==Number&&s!==Boolean&&s!==Function?s(null):null}if(n)for(var a in r)void 0===t[a]&&(n[a]=r[a]);return i}function cr(r){var t=Math.floor(pe(r.start,r.end))||1,e=A(r.start);return{start:e,end:q(e,t)}}function Qt(r,t){void 0===t&&(t=C(0));var e=null,n=null;if(r.end){n=A(r.end);var i=r.end.valueOf()-n.valueOf();i&&i>=te(t)&&(n=q(n,1))}return r.start&&(e=A(r.start),n&&n<=e&&(n=q(e,1))),{start:e,end:n}}function ur(r){var t=Qt(r);return pe(t.start,t.end)>1}function Fe(r,t,e,n){return"year"===n?C(e.diffWholeYears(r,t),"year"):"month"===n?C(e.diffWholeMonths(r,t),"month"):function(r,t){var e=A(r),n=A(t);return{years:0,months:0,days:Math.round(pe(e,n)),milliseconds:t.valueOf()-n.valueOf()-(r.valueOf()-e.valueOf())}}(r,t)}var Xt=function(r,t){return(Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])})(r,t)};function X(r,t){function e(){this.constructor=r}Xt(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var S=function(){return(S=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function Ha(r,t,e,n,i){var s=i[r.recurringDef.typeId].expand(r.recurringDef.typeData,{start:n.subtract(e.start,t),end:e.end},n);return r.allDay&&(s=s.map(A)),s}var fr=Object.prototype.hasOwnProperty;function $t(r,t){var n,i,a,s,l,d,e={};if(t)for(n=0;n<t.length;n++){for(i=t[n],a=[],s=r.length-1;s>=0;s--)if("object"==typeof(l=r[s][i])&&l)a.unshift(l);else if(void 0!==l){e[i]=l;break}a.length&&(e[i]=$t(a))}for(n=r.length-1;n>=0;n--)for(i in d=r[n])i in e||(e[i]=d[i]);return e}function Ce(r,t){var e={};for(var n in r)t(r[n],n)&&(e[n]=r[n]);return e}function ae(r,t){var e={};for(var n in r)e[n]=t(r[n],n);return e}function pr(r){for(var t={},e=0,n=r;e<n.length;e++)t[n[e]]=!0;return t}function hr(r){var t=[];for(var e in r)t.push(r[e]);return t}function Ba(r,t){for(var e in r)if(fr.call(r,e)&&!(e in t))return!1;for(var e in t)if(fr.call(t,e)&&r[e]!==t[e])return!1;return!0}function vt(r,t,e,n){for(var i={defs:{},instances:{}},a=0,s=r;a<s.length;a++){var d=Br(s[a],t,e,n);d&&We(d,i)}return i}function We(r,t){return void 0===t&&(t={defs:{},instances:{}}),t.defs[r.def.defId]=r.def,r.instance&&(t.instances[r.instance.instanceId]=r.instance),t}function Ne(r,t,e){var n=e.dateEnv,i=r.defs,a=r.instances;for(var s in a=Ce(a,function(g){return!i[g.defId].recurringDef}),i){var l=i[s];if(l.recurringDef){var d=l.recurringDef.duration;d||(d=l.allDay?e.defaultAllDayEventDuration:e.defaultTimedEventDuration);for(var f=0,p=Ha(l,d,t,e.dateEnv,e.pluginSystem.hooks.recurringTypes);f<p.length;f++){var v=p[f],h=Ct(s,{start:v,end:n.add(v,d)});a[h.instanceId]=h}}}return{defs:i,instances:a}}function Kt(r,t){var e=r.instances[t];if(e){var n=r.defs[e.defId],i=je(r,function(a){return function(r,t){return Boolean(r.groupId&&r.groupId===t.groupId)}(n,a)});return i.defs[n.defId]=n,i.instances[e.instanceId]=e,i}return{defs:{},instances:{}}}function vr(r,t){var e;if(t){e=[];for(var n=0,i=r;n<i.length;n++){var a=i[n],s=t(a);s?e.push(s):null==s&&e.push(a)}}else e=r;return e}function gt(r,t){return{defs:S({},r.defs,t.defs),instances:S({},r.instances,t.instances)}}function je(r,t){var e=Ce(r.defs,t),n=Ce(r.instances,function(i){return e[i.defId]});return{defs:e,instances:n}}function Ua(r,t){var e=null,n=null;return r.start&&(e=t.createMarker(r.start)),r.end&&(n=t.createMarker(r.end)),!e&&!n||e&&n&&n<e?null:{start:e,end:n}}function gr(r,t){var i,a,e=[],n=t.start;for(r.sort(Va),i=0;i<r.length;i++)(a=r[i]).start>n&&e.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<t.end&&e.push({start:n,end:t.end}),e}function Va(r,t){return r.start.valueOf()-t.start.valueOf()}function Re(r,t){var e=r.start,n=r.end,i=null;return null!==t.start&&(e=null===e?t.start:new Date(Math.max(e.valueOf(),t.start.valueOf()))),null!=t.end&&(n=null===n?t.end:new Date(Math.min(n.valueOf(),t.end.valueOf()))),(null===e||null===n||e<n)&&(i={start:e,end:n}),i}function mt(r,t){return(null===r.start?null:r.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===r.end?null:r.end.valueOf())===(null===t.end?null:t.end.valueOf())}function en(r,t){return(null===r.end||null===t.start||r.end>t.start)&&(null===r.start||null===t.end||r.start<t.end)}function yt(r,t){return(null===r.start||null!==t.start&&t.start>=r.start)&&(null===r.end||null!==t.end&&t.end<=r.end)}function ge(r,t){return(null===r.start||t>=r.start)&&(null===r.end||t<r.end)}function mr(r,t){var n,e=r.length;if(e!==t.length)return!1;for(n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function I(r){var t,e;return function(){return(!t||!mr(t,arguments))&&(t=arguments,e=r.apply(this,arguments)),e}}var yr={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},bt={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Et=/\s*([ap])\.?m\.?/i,za=/,/g,qa=/\s+/g,Wa=/\u200e/g,ja=/UTC|GMT/,Ja=function(){function r(t){var e={},n={},i=0;for(var a in t)a in yr?(n[a]=t[a],i=Math.max(yr[a],i)):(e[a]=t[a],a in bt&&(i=Math.max(bt[a],i)));this.standardDateProps=e,this.extendedSettings=n,this.severity=i,this.buildFormattingFunc=I(br)}return r.prototype.format=function(t,e){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,e)(t)},r.prototype.formatRange=function(t,e,n){var a=this.standardDateProps,s=this.extendedSettings,l=function(r,t,e){return e.getMarkerYear(r)!==e.getMarkerYear(t)?5:e.getMarkerMonth(r)!==e.getMarkerMonth(t)?4:e.getMarkerDay(r)!==e.getMarkerDay(t)?2:ve(r)!==ve(t)?1:0}(t.marker,e.marker,n.calendarSystem);if(!l)return this.format(t,n);var d=l;d>1&&("numeric"===a.year||"2-digit"===a.year)&&("numeric"===a.month||"2-digit"===a.month)&&("numeric"===a.day||"2-digit"===a.day)&&(d=1);var c=this.format(t,n),f=this.format(e,n);if(c===f)return c;var v=br(function(r,t){var e={};for(var n in r)(!(n in bt)||bt[n]<=t)&&(e[n]=r[n]);return e}(a,d),s,n),h=v(t),g=v(e),m=function(r,t,e,n){for(var i=0;i<r.length;){var a=r.indexOf(t,i);if(-1===a)break;for(var s=r.substr(0,a),l=r.substr(i=a+t.length),d=0;d<e.length;){var c=e.indexOf(n,d);if(-1===c)break;var f=e.substr(0,c),p=e.substr(d=c+n.length);if(s===f&&l===p)return{before:s,after:l}}}return null}(c,h,f,g),y=s.separator||"";return m?m.before+h+y+g+m.after:c+y+f},r.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";default:return"day"}},r}();function br(r,t,e){var n=Object.keys(r).length;return 1===n&&"short"===r.timeZoneName?function(i){return tn(i.timeZoneOffset)}:0===n&&t.week?function(i){return function(r,t,e,n){var i=[];return"narrow"===n?i.push(t):"short"===n&&i.push(t," "),i.push(e.simpleNumberFormat.format(r)),e.options.isRtl&&i.reverse(),i.join("")}(e.computeWeekNumber(i.marker),e.weekLabel,e.locale,t.week)}:function(r,t,e){r=S({},r),t=S({},t),function(r,t){r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),"long"===r.timeZoneName&&(r.timeZoneName="short"),t.omitZeroMinute&&(r.second||r.millisecond)&&delete t.omitZeroMinute}(r,t),r.timeZone="UTC";var i,n=new Intl.DateTimeFormat(e.locale.codes,r);if(t.omitZeroMinute){var a=S({},r);delete a.minute,i=new Intl.DateTimeFormat(e.locale.codes,a)}return function(s){var l=s.marker;return function(r,t,e,n,i){return r=r.replace(Wa,""),"short"===e.timeZoneName&&(r=function(r,t){var e=!1;return r=r.replace(ja,function(){return e=!0,t}),e||(r+=" "+t),r}(r,"UTC"===i.timeZone||null==t.timeZoneOffset?"UTC":tn(t.timeZoneOffset))),n.omitCommas&&(r=r.replace(za,"").trim()),n.omitZeroMinute&&(r=r.replace(":00","")),!1===n.meridiem?r=r.replace(Et,"").trim():"narrow"===n.meridiem?r=r.replace(Et,function(a,s){return s.toLocaleLowerCase()}):"short"===n.meridiem?r=r.replace(Et,function(a,s){return s.toLocaleLowerCase()+"m"}):"lowercase"===n.meridiem&&(r=r.replace(Et,function(a){return a.toLocaleLowerCase()})),(r=r.replace(qa," ")).trim()}((i&&!l.getUTCMinutes()?i:n).format(l),s,r,t,e)}}(r,t,e)}var io=function(){function r(t,e){this.cmdStr=t,this.separator=e}return r.prototype.format=function(t,e){return e.cmdFormatter(this.cmdStr,St(t,null,e,this.separator))},r.prototype.formatRange=function(t,e,n){return n.cmdFormatter(this.cmdStr,St(t,e,n,this.separator))},r}(),ao=function(){function r(t){this.func=t}return r.prototype.format=function(t,e){return this.func(St(t,null,e))},r.prototype.formatRange=function(t,e,n){return this.func(St(t,e,n))},r}();function V(r,t){return"object"==typeof r&&r?("string"==typeof t&&(r=S({separator:t},r)),new Ja(r)):"string"==typeof r?new io(r,t):"function"==typeof r?new ao(r):void 0}function so(r){return Pe(r.getUTCHours(),2)+":"+Pe(r.getUTCMinutes(),2)+":"+Pe(r.getUTCSeconds(),2)}function tn(r,t){void 0===t&&(t=!1);var e=r<0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),a=Math.round(n%60);return t?e+Pe(i,2)+":"+Pe(a,2):"GMT"+e+i+(a?":"+Pe(a,2):"")}function St(r,t,e,n){var i=Er(r,e.calendarSystem);return{date:i,start:i,end:t?Er(t,e.calendarSystem):null,timeZone:e.timeZone,localeCodes:e.locale.codes,separator:n}}function Er(r,t){var e=t.markerToArray(r.marker);return{marker:r.marker,timeZoneOffset:r.timeZoneOffset,array:e,year:e[0],month:e[1],day:e[2],hour:e[3],minute:e[4],second:e[5],millisecond:e[6]}}var He=function(){function r(t,e){this.calendar=t,this.internalEventSource=e}return r.prototype.remove=function(){this.calendar.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},r.prototype.refetch=function(){this.calendar.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId]})},Object.defineProperty(r.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!0,configurable:!0}),r}(),P=function(){function r(t,e,n){this._calendar=t,this._def=e,this._instance=n||null}return r.prototype.setProp=function(t,e){var n,i;if(!(t in Nr))if(t in _t)"function"==typeof _t[t]&&(e=_t[t](e)),this.mutate({standardProps:(n={},n[t]=e,n)});else if(t in Qe){var a=void 0;"function"==typeof Qe[t]&&(e=Qe[t](e)),"color"===t?a={backgroundColor:e,borderColor:e}:"editable"===t?a={startEditable:e,durationEditable:e}:((i={})[t]=e,a=i),this.mutate({standardProps:{ui:a}})}},r.prototype.setExtendedProp=function(t,e){var n;this.mutate({extendedProps:(n={},n[t]=e,n)})},r.prototype.setStart=function(t,e){void 0===e&&(e={});var n=this._calendar.dateEnv,i=n.createMarker(t);if(i&&this._instance){var s=Fe(this._instance.range.start,i,n,e.granularity);this.mutate(e.maintainDuration?{datesDelta:s}:{startDelta:s})}},r.prototype.setEnd=function(t,e){void 0===e&&(e={});var i,n=this._calendar.dateEnv;if((null==t||(i=n.createMarker(t)))&&this._instance)if(i){var a=Fe(this._instance.range.end,i,n,e.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})},r.prototype.setDates=function(t,e,n){void 0===n&&(n={});var l,i=this._calendar.dateEnv,a={allDay:n.allDay},s=i.createMarker(t);if(s&&(null==e||(l=i.createMarker(e)))&&this._instance){var d=this._instance.range;!0===n.allDay&&(d=cr(d));var c=Fe(d.start,s,i,n.granularity);if(l){var f=Fe(d.end,l,i,n.granularity);Gt(c,f)?this.mutate({datesDelta:c,standardProps:a}):this.mutate({startDelta:c,endDelta:f,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:c,standardProps:a})}},r.prototype.moveStart=function(t){var e=C(t);e&&this.mutate({startDelta:e})},r.prototype.moveEnd=function(t){var e=C(t);e&&this.mutate({endDelta:e})},r.prototype.moveDates=function(t){var e=C(t);e&&this.mutate({datesDelta:e})},r.prototype.setAllDay=function(t,e){void 0===e&&(e={});var n={allDay:t},i=e.maintainDuration;null==i&&(i=this._calendar.opt("allDayMaintainDuration")),this._def.allDay!==t&&(n.hasEnd=i),this.mutate({standardProps:n})},r.prototype.formatRange=function(t){var e=this._calendar.dateEnv,n=this._instance,i=V(t,this._calendar.opt("defaultRangeSeparator"));return this._def.hasEnd?e.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):e.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})},r.prototype.mutate=function(t){var e=this._def,n=this._instance;if(n){this._calendar.dispatch({type:"MUTATE_EVENTS",instanceId:n.instanceId,mutation:t,fromApi:!0});var i=this._calendar.state.eventStore;this._def=i.defs[e.defId],this._instance=i.instances[n.instanceId]}},r.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_EVENT_DEF",defId:this._def.defId})},Object.defineProperty(r.prototype,"source",{get:function(){var t=this._def.sourceId;return t?new He(this._calendar,this._calendar.state.eventSources[t]):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this._instance?this._calendar.dateEnv.toDate(this._instance.range.start):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._calendar.dateEnv.toDate(this._instance.range.end):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this._def.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this._def.title},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"url",{get:function(){return this._def.url},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rendering",{get:function(){return this._def.rendering},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!0,configurable:!0}),r}();function wt(r,t,e,n){var i={},a={},s={},l=[],d=[],c=Dt(r.defs,t);for(var f in r.defs)"inverse-background"===(p=r.defs[f]).rendering&&(p.groupId?(i[p.groupId]=[],s[p.groupId]||(s[p.groupId]=p)):a[f]=[]);for(var v in r.instances){var h=r.instances[v],g=c[(p=r.defs[h.defId]).defId],m=h.range,y=!p.allDay&&n?Qt(m,n):m,E=Re(y,e);E&&("inverse-background"===p.rendering?p.groupId?i[p.groupId].push(E):a[h.defId].push(E):("background"===p.rendering?l:d).push({def:p,ui:g,instance:h,range:E,isStart:y.start&&y.start.valueOf()===E.start.valueOf(),isEnd:y.end&&y.end.valueOf()===E.end.valueOf()}))}for(var w in i)for(var N=0,k=gr(i[w],e);N<k.length;N++){var p;l.push({def:p=s[w],ui:g=c[p.defId],instance:null,range:k[N],isStart:!1,isEnd:!1})}for(var f in a)for(var H=0,Y=gr(a[f],e);H<Y.length;H++)l.push({def:r.defs[f],ui:c[f],instance:null,range:Y[H],isStart:!1,isEnd:!1});return{bg:l,fg:d}}function Sr(r,t,e){var n=r.calendar,i=r.view;n.hasPublicHandlers("eventRender")&&(t=t.filter(function(d){var c=n.publiclyTrigger("eventRender",[{event:new P(n,d.eventRange.def,d.eventRange.instance),isMirror:e,isStart:d.isStart,isEnd:d.isEnd,el:d.el,view:i}]);return!1!==c&&(c&&!0!==c&&(d.el=c),!0)}));for(var a=0,s=t;a<s.length;a++){var l=s[a];co(l.el,l)}return t}function co(r,t){r.fcSeg=t}function Je(r){return r.fcSeg||null}function Dt(r,t){return ae(r,function(e){return wr(e,t)})}function wr(r,t){var e=[];return t[""]&&e.push(t[""]),t[r.defId]&&e.push(t[r.defId]),e.push(r.ui),Fr(e)}function Dr(r,t,e){var n=r.calendar,i=r.view;if(n.hasPublicHandlers("eventPositioned"))for(var a=0,s=t;a<s.length;a++){var l=s[a];n.publiclyTriggerAfterSizing("eventPositioned",[{event:new P(n,l.eventRange.def,l.eventRange.instance),isMirror:e,isStart:l.isStart,isEnd:l.isEnd,el:l.el,view:i}])}n.state.eventSourceLoadingLevel||(n.afterSizingTriggers._eventsPositioned=[null])}function _r(r,t,e){for(var n=r.calendar,i=r.view,a=0,s=t;a<s.length;a++)n.trigger("eventElRemove",(l=s[a]).el);if(n.hasPublicHandlers("eventDestroy"))for(var d=0,c=t;d<c.length;d++){var l;n.publiclyTrigger("eventDestroy",[{event:new P(n,(l=c[d]).eventRange.def,l.eventRange.instance),isMirror:e,el:l.el,view:i}])}}function Tr(r,t,e){for(var i=r.view,s=e.startEditable,l=0,d=r.calendar.pluginSystem.hooks.isDraggableTransformers;l<d.length;l++)s=(0,d[l])(s,t,e,i);return s}function Cr(r,t,e){return e.durationEditable&&r.options.eventResizableFromStart}function Rr(r,t,e){return e.durationEditable}function nn(r,t,e,n){var i=Dt(r.defs,t),a={defs:{},instances:{}};for(var s in r.defs)a.defs[s]=uo(r.defs[s],i[s],e,n.pluginSystem.hooks.eventDefMutationAppliers,n);for(var d in r.instances){var c=r.instances[d];a.instances[d]=fo(c,a.defs[c.defId],i[c.defId],e,n)}return a}function uo(r,t,e,n,i){var a=e.standardProps||{};null==a.hasEnd&&t.durationEditable&&(e.startDelta||e.endDelta)&&(a.hasEnd=!0);var s=S({},r,a,{ui:S({},r.ui,a.ui)});e.extendedProps&&(s.extendedProps=S({},s.extendedProps,e.extendedProps));for(var l=0,d=n;l<d.length;l++)(0,d[l])(s,e,i);return!s.hasEnd&&i.opt("forceEventDuration")&&(s.hasEnd=!0),s}function fo(r,t,e,n,i){var a=i.dateEnv,s=n.standardProps&&!0===n.standardProps.allDay,l=n.standardProps&&!1===n.standardProps.hasEnd,d=S({},r);return s&&(d.range=cr(d.range)),n.datesDelta&&e.startEditable&&(d.range={start:a.add(d.range.start,n.datesDelta),end:a.add(d.range.end,n.datesDelta)}),n.startDelta&&e.durationEditable&&(d.range={start:a.add(d.range.start,n.startDelta),end:d.range.end}),n.endDelta&&e.durationEditable&&(d.range={start:d.range.start,end:a.add(d.range.end,n.endDelta)}),l&&(d.range={start:d.range.start,end:i.getDefaultEventEnd(t.allDay,d.range.start)}),t.allDay&&(d.range={start:A(d.range.start),end:A(d.range.end)}),d.range.end<d.range.start&&(d.range.end=i.getDefaultEventEnd(t.allDay,d.range.start)),d}function po(r,t,e,n,i){switch(t.type){case"RECEIVE_EVENTS":return function(r,t,e,n,i,a){if(t&&e===t.latestFetchId){var s=vt(function(r,t,e){var n=e.opt("eventDataTransform"),i=t?t.eventDataTransform:null;return i&&(r=vr(r,i)),n&&(r=vr(r,n)),r}(i,t,a),t.sourceId,a);return n&&(s=Ne(s,n,a)),gt(Ir(r,t.sourceId),s)}return r}(r,e[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,i);case"ADD_EVENTS":return function(r,t,e,n){return e&&(t=Ne(t,e,n)),gt(r,t)}(r,t.eventStore,n?n.activeRange:null,i);case"MERGE_EVENTS":return gt(r,t.eventStore);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return n?Ne(r,n.activeRange,i):r;case"CHANGE_TIMEZONE":return function(r,t,e){var n=r.defs,i=ae(r.instances,function(a){var s=n[a.defId];return s.allDay||s.recurringDef?a:S({},a,{range:{start:e.createMarker(t.toDate(a.range.start,a.forcedStartTzo)),end:e.createMarker(t.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:e.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:e.canComputeOffset?null:a.forcedEndTzo})});return{defs:n,instances:i}}(r,t.oldDateEnv,i.dateEnv);case"MUTATE_EVENTS":return function(r,t,e,n,i){var a=Kt(r,t);return gt(r,a=nn(a,n?{"":{startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}}:i.eventUiBases,e,i))}(r,t.instanceId,t.mutation,t.fromApi,i);case"REMOVE_EVENT_INSTANCES":return xr(r,t.instances);case"REMOVE_EVENT_DEF":return je(r,function(a){return a.defId!==t.defId});case"REMOVE_EVENT_SOURCE":return Ir(r,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return je(r,function(a){return!a.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};case"RESET_EVENTS":return{defs:r.defs,instances:r.instances};default:return r}}function Ir(r,t){return je(r,function(e){return e.sourceId!==t})}function xr(r,t){return{defs:r.defs,instances:Ce(r.instances,function(e){return!t[e.instanceId]})}}function Mr(r,t){return kr({eventDrag:r},t)}function kr(r,t){var e=t.view,n=S({businessHours:e?e.props.businessHours:{defs:{},instances:{}},dateSelection:"",eventStore:t.state.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},r);return(t.pluginSystem.hooks.isPropsValid||bo)(n,t)}function bo(r,t,e,n){return void 0===e&&(e={}),!(r.eventDrag&&!function(r,t,e,n){var i=r.eventDrag,a=i.mutatedEvents,s=a.defs,l=a.instances,d=Dt(s,i.isEvent?r.eventUiBases:{"":t.selectionConfig});n&&(d=ae(d,n));var c=xr(r.eventStore,i.affectedEvents.instances),f=c.defs,p=c.instances,v=Dt(f,r.eventUiBases);for(var h in l){var g=l[h],m=g.range,y=d[g.defId],E=s[g.defId];if(!Or(y.constraints,m,c,r.businessHours,t))return!1;var w=t.opt("eventOverlap");for(var D in"function"!=typeof w&&(w=null),p){var T=p[D];if(en(m,T.range)&&(!1===v[T.defId].overlap&&i.isEvent||!1===y.overlap||w&&!w(new P(t,f[T.defId],T),new P(t,E,g))))return!1}for(var k=t.state.eventStore,O=0,H=y.allows;O<H.length;O++){var we,Y=H[O],W=S({},e,{range:g.range,allDay:E.allDay}),Ee=k.defs[E.defId];if(we=Ee?new P(t,Ee,k.instances[h]):new P(t,E),!Y(t.buildDateSpanApi(W),we))return!1}}return!0}(r,t,e,n)||r.dateSelection&&!function(r,t,e,n){var i=r.eventStore,a=i.defs,s=i.instances,l=r.dateSelection,d=l.range,c=t.selectionConfig;if(n&&(c=n(c)),!Or(c.constraints,d,i,r.businessHours,t))return!1;var f=t.opt("selectOverlap");for(var p in"function"!=typeof f&&(f=null),s){var v=s[p];if(en(d,v.range)&&(!1===c.overlap||f&&!f(new P(t,a[v.defId],v))))return!1}for(var h=0,g=c.allows;h<g.length;h++){var m=g[h],y=S({},e,l);if(!m(t.buildDateSpanApi(y),null))return!1}return!0}(r,t,e,n))}function Or(r,t,e,n,i){for(var a=0,s=r;a<s.length;a++)if(!Do(wo(s[a],t,e,n,i),t))return!1;return!0}function wo(r,t,e,n,i){return"businessHours"===r?rn(Ne(n,t,i)):"string"==typeof r?rn(je(e,function(a){return a.groupId===r})):"object"==typeof r&&r?rn(Ne(r,t,i)):[]}function rn(r){var t=r.instances,e=[];for(var n in t)e.push(t[n].range);return e}function Do(r,t){for(var e=0,n=r;e<n.length;e++)if(yt(n[e],t))return!0;return!1}function M(r){return(r+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function an(r){var t=[];for(var e in r){var n=r[e];null!=n&&""!==n&&t.push(e+":"+n)}return t.join(";")}function Ar(r){return Array.isArray(r)?r:"string"==typeof r?r.split(/\s+/):[]}var Qe={editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:null,overlap:null,allow:null,className:Ar,classNames:Ar,color:String,backgroundColor:String,borderColor:String,textColor:String};function on(r,t,e){var n=se(r,Qe,{},e),i=function(r,t){return Array.isArray(r)?vt(r,"",t,!0):"object"==typeof r&&r?vt([r],"",t,!0):null!=r?String(r):null}(n.constraint,t);return{startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=i?[i]:[],overlap:n.overlap,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color,borderColor:n.borderColor||n.color,textColor:n.textColor,classNames:n.classNames.concat(n.className)}}function Pr(r,t,e,n){var i={},a={};for(var s in Qe){var l=r+jt(s);i[s]=t[l],a[l]=!0}if("event"===r&&(i.editable=t.editable),n)for(var s in t)a[s]||(n[s]=t[s]);return on(i,e)}var Co={startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Fr(r){return r.reduce(Ro,Co)}function Ro(r,t){return{startEditable:null!=t.startEditable?t.startEditable:r.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:r.durationEditable,constraints:r.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:r.overlap,allows:r.allows.concat(t.allows),backgroundColor:t.backgroundColor||r.backgroundColor,borderColor:t.borderColor||r.borderColor,textColor:t.textColor||r.textColor,classNames:r.classNames.concat(t.classNames)}}var _t={id:String,groupId:String,title:String,url:String,rendering:String,extendedProps:null},Nr={start:null,date:null,end:null,allDay:null},Hr=0;function Br(r,t,e,n){var i=function(r,t){var e=null;return r&&(e=t.state.eventSources[r].allDayDefault),null==e&&(e=t.opt("allDayDefault")),e}(t,e),a={},s=function(r,t,e,n,i){for(var a=0;a<n.length;a++){var s={},l=n[a].parse(r,s,e);if(l){var d=s.allDay;return delete s.allDay,null==d&&null==(d=t)&&null==(d=l.allDayGuess)&&(d=!1),S(i,s),{allDay:d,duration:l.duration,typeData:l.typeData,typeId:a}}}return null}(r,i,e.dateEnv,e.pluginSystem.hooks.recurringTypes,a);if(s)return(l=Tt(a,t,s.allDay,Boolean(s.duration),e)).recurringDef={typeId:s.typeId,typeData:s.typeData,duration:s.duration},{def:l,instance:null};var l,d={},c=function(r,t,e,n,i){var l,f,a=function(r,t){var e=se(r,Nr,{},t);return e.start=null!==e.start?e.start:e.date,delete e.date,e}(r,n),s=a.allDay,d=null,c=!1,p=null;if(l=e.dateEnv.createMarkerMeta(a.start))d=l.marker;else if(!i)return null;return null!=a.end&&(f=e.dateEnv.createMarkerMeta(a.end)),null==s&&(s=null!=t?t:(!l||l.isTimeUnspecified)&&(!f||f.isTimeUnspecified)),s&&d&&(d=A(d)),f&&(p=f.marker,s&&(p=A(p)),d&&p<=d&&(p=null)),p?c=!0:i||(c=e.opt("forceEventDuration")||!1,p=e.dateEnv.add(d,s?e.defaultAllDayEventDuration:e.defaultTimedEventDuration)),{allDay:s,hasEnd:c,range:{start:d,end:p},forcedStartTzo:l?l.forcedTzo:null,forcedEndTzo:f?f.forcedTzo:null}}(r,i,e,d,n);return c?{def:l=Tt(d,t,c.allDay,c.hasEnd,e),instance:Ct(l.defId,c.range,c.forcedStartTzo,c.forcedEndTzo)}:null}function Tt(r,t,e,n,i){var a={},s=function(r,t,e){var n={},i=se(r,_t,{},n),a=on(n,t,e);return i.publicId=i.id,delete i.id,i.ui=a,i}(r,i,a);s.defId=String(Hr++),s.sourceId=t,s.allDay=e,s.hasEnd=n;for(var l=0,d=i.pluginSystem.hooks.eventDefParsers;l<d.length;l++){var f={};(0,d[l])(s,a,f),a=f}return s.extendedProps=S(a,s.extendedProps||{}),Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function Ct(r,t,e,n){return{instanceId:String(Hr++),defId:r,range:t,forcedStartTzo:null==e?null:e,forcedEndTzo:null==n?null:n}}var Oo={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],rendering:"inverse-background",classNames:"fc-nonbusiness",groupId:"_businessHours"};function _(r,t,e){void 0===e&&(e=[]);var i,a,n=[];function s(){if(a){for(var p=0,v=n;p<v.length;p++)v[p].unrender();t&&t.apply(i,a),a=null}}function l(){(!a||!mr(a,arguments))&&(s(),i=this,a=arguments,r.apply(this,arguments))}l.dependents=n,l.unrender=s;for(var d=0,c=e;d<c.length;d++)c[d].dependents.push(l);return l}var sn={defs:{},instances:{}},Fo=function(){function r(){this.getKeysForEventDefs=I(this._getKeysForEventDefs),this.splitDateSelection=I(this._splitDateSpan),this.splitEventStore=I(this._splitEventStore),this.splitIndividualUi=I(this._splitIndividualUi),this.splitEventDrag=I(this._splitInteraction),this.splitEventResize=I(this._splitInteraction),this.eventUiBuilders={}}return r.prototype.splitProps=function(t){var e=this,n=this.getKeyInfo(t),i=this.getKeysForEventDefs(t.eventStore),a=this.splitDateSelection(t.dateSelection),s=this.splitIndividualUi(t.eventUiBases,i),l=this.splitEventStore(t.eventStore,i),d=this.splitEventDrag(t.eventDrag),c=this.splitEventResize(t.eventResize),f={};for(var p in this.eventUiBuilders=ae(n,function(m,y){return e.eventUiBuilders[y]||I(No)}),n){var v=n[p],h=l[p]||sn;f[p]={businessHours:v.businessHours||t.businessHours,dateSelection:a[p]||null,eventStore:h,eventUiBases:(0,this.eventUiBuilders[p])(t.eventUiBases[""],v.ui,s[p]),eventSelection:h.instances[t.eventSelection]?t.eventSelection:"",eventDrag:d[p]||null,eventResize:c[p]||null}}return f},r.prototype._splitDateSpan=function(t){var e={};if(t)for(var i=0,a=this.getKeysForDateSpan(t);i<a.length;i++)e[a[i]]=t;return e},r.prototype._getKeysForEventDefs=function(t){var e=this;return ae(t.defs,function(n){return e.getKeysForEventDef(n)})},r.prototype._splitEventStore=function(t,e){var n=t.defs,i=t.instances,a={};for(var s in n)for(var l=0,d=e[s];l<d.length;l++)a[c=d[l]]||(a[c]={defs:{},instances:{}}),a[c].defs[s]=n[s];for(var f in i)for(var p=i[f],v=0,h=e[p.defId];v<h.length;v++){var c;a[c=h[v]]&&(a[c].instances[f]=p)}return a},r.prototype._splitIndividualUi=function(t,e){var n={};for(var i in t)if(i)for(var a=0,s=e[i];a<s.length;a++){var l=s[a];n[l]||(n[l]={}),n[l][i]=t[i]}return n},r.prototype._splitInteraction=function(t){var e={};if(t){var n=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),i=this._getKeysForEventDefs(t.mutatedEvents),a=this._splitEventStore(t.mutatedEvents,i),s=function(d){e[d]||(e[d]={affectedEvents:n[d]||sn,mutatedEvents:a[d]||sn,isEvent:t.isEvent,origSeg:t.origSeg})};for(var l in n)s(l);for(var l in a)s(l)}return e},r}();function No(r,t,e){var n=[];r&&n.push(r),t&&n.push(t);var i={"":Fr(n)};return e&&S(i,e),i}function Ie(r,t,e,n,i){var a,s,l,d;return e instanceof Date?a=e:(a=e.date,s=e.type,l=e.forceOff),d={date:t.formatIso(a,{omitTime:!0}),type:s||"day"},"string"==typeof n&&(i=n,n=null),n=n?" "+function(r){var t=[];for(var e in r){var n=r[e];null!=n&&t.push(e+'="'+M(n)+'"')}return t.join(" ")}(n):"",i=i||"",!l&&r.navLinks?"<a"+n+' data-goto="'+M(JSON.stringify(d))+'">'+i+"</a>":"<span"+n+">"+i+"</span>"}function ln(r){return r.allDayHtml||M(r.allDayText)}function dn(r,t,e,n){var c,f,i=e.calendar,a=e.options,s=e.theme,l=e.dateEnv,d=[];return ge(t.activeRange,r)?(d.push("fc-"+Jn[r.getUTCDay()]),a.monthMode&&l.getMonth(r)!==l.getMonth(t.currentRange.start)&&d.push("fc-other-month"),f=q(c=A(i.getNow()),1),r<c?d.push("fc-past"):r>=f?d.push("fc-future"):(d.push("fc-today"),!0!==n&&d.push(s.getClass("today")))):d.push("fc-disabled-day"),d}var Xe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return X(t,r),t.prototype.on=function(e,n){return Zr(this._handlers||(this._handlers={}),e,n),this},t.prototype.one=function(e,n){return Zr(this._oneHandlers||(this._oneHandlers={}),e,n),this},t.prototype.off=function(e,n){return this._handlers&&Lr(this._handlers,e,n),this._oneHandlers&&Lr(this._oneHandlers,e,n),this},t.prototype.trigger=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.triggerWith(e,this,n),this},t.prototype.triggerWith=function(e,n,i){return this._handlers&&lr(this._handlers[e],n,i),this._oneHandlers&&(lr(this._oneHandlers[e],n,i),delete this._oneHandlers[e]),this},t.prototype.hasHandlers=function(e){return this._handlers&&this._handlers[e]&&this._handlers[e].length||this._oneHandlers&&this._oneHandlers[e]&&this._oneHandlers[e].length},t}(function(){function r(){}return r.mixInto=function(t){this.mixIntoObj(t.prototype)},r.mixIntoObj=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach(function(n){t[n]||(t[n]=e.prototype[n])})},r.mixOver=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach(function(n){t.prototype[n]=e.prototype[n]})},r}());function Zr(r,t,e){(r[t]||(r[t]=[])).push(e)}function Lr(r,t,e){e?r[t]&&(r[t]=r[t].filter(function(n){return n!==e})):delete r[t]}var Rt=function(){function r(t,e,n,i){this.originEl=t,this.els=e,this.isHorizontal=n,this.isVertical=i}return r.prototype.build=function(){var e=this.originClientRect=this.originEl.getBoundingClientRect();this.isHorizontal&&this.buildElHorizontals(e.left),this.isVertical&&this.buildElVerticals(e.top)},r.prototype.buildElHorizontals=function(t){for(var e=[],n=[],i=0,a=this.els;i<a.length;i++){var l=a[i].getBoundingClientRect();e.push(l.left-t),n.push(l.right-t)}this.lefts=e,this.rights=n},r.prototype.buildElVerticals=function(t){for(var e=[],n=[],i=0,a=this.els;i<a.length;i++){var l=a[i].getBoundingClientRect();e.push(l.top-t),n.push(l.bottom-t)}this.tops=e,this.bottoms=n},r.prototype.leftToIndex=function(t){var a,e=this.lefts,n=this.rights,i=e.length;for(a=0;a<i;a++)if(t>=e[a]&&t<n[a])return a},r.prototype.topToIndex=function(t){var a,e=this.tops,n=this.bottoms,i=e.length;for(a=0;a<i;a++)if(t>=e[a]&&t<n[a])return a},r.prototype.getWidth=function(t){return this.rights[t]-this.lefts[t]},r.prototype.getHeight=function(t){return this.bottoms[t]-this.tops[t]},r}(),cn=function(){function r(){}return r.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},r.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},r.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},r.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},r.prototype.canScrollUp=function(){return this.getScrollTop()>0},r.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},r.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},r.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},r}(),Ur=function(r){function t(e){var n=r.call(this)||this;return n.el=e,n}return X(t,r),t.prototype.getScrollTop=function(){return this.el.scrollTop},t.prototype.getScrollLeft=function(){return this.el.scrollLeft},t.prototype.setScrollTop=function(e){this.el.scrollTop=e},t.prototype.setScrollLeft=function(e){this.el.scrollLeft=e},t.prototype.getScrollWidth=function(){return this.el.scrollWidth},t.prototype.getScrollHeight=function(){return this.el.scrollHeight},t.prototype.getClientHeight=function(){return this.el.clientHeight},t.prototype.getClientWidth=function(){return this.el.clientWidth},t}(cn),Zo=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return X(t,r),t.prototype.getScrollTop=function(){return window.pageYOffset},t.prototype.getScrollLeft=function(){return window.pageXOffset},t.prototype.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},t.prototype.setScrollLeft=function(e){window.scroll(e,window.pageYOffset)},t.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},t.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},t.prototype.getClientHeight=function(){return document.documentElement.clientHeight},t.prototype.getClientWidth=function(){return document.documentElement.clientWidth},t}(cn),un=function(r){function t(e,n){var i=r.call(this,L("div",{className:"fc-scroller"}))||this;return i.overflowX=e,i.overflowY=n,i.applyOverflow(),i}return X(t,r),t.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},t.prototype.destroy=function(){z(this.el)},t.prototype.applyOverflow=function(){Z(this.el,{overflowX:this.overflowX,overflowY:this.overflowY})},t.prototype.lockOverflow=function(e){var n=this.overflowX,i=this.overflowY;e=e||this.getScrollbarWidths(),"auto"===n&&(n=e.bottom||this.canScrollHorizontally()?"scroll":"hidden"),"auto"===i&&(i=e.left||e.right||this.canScrollVertically()?"scroll":"hidden"),Z(this.el,{overflowX:n,overflowY:i})},t.prototype.setHeight=function(e){Ln(this.el,"height",e)},t.prototype.getScrollbarWidths=function(){var e=Gn(this.el);return{left:e.scrollbarLeft,right:e.scrollbarRight,bottom:e.scrollbarBottom}},t}(Ur),$e=function(){function r(t){this.calendarOptions=t,this.processIconOverride()}return r.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.calendarOptions[this.iconOverrideOption])},r.prototype.setIconOverride=function(t){var e,n;if("object"==typeof t&&t){for(n in e=S({},this.iconClasses),t)e[n]=this.applyIconOverridePrefix(t[n]);this.iconClasses=e}else!1===t&&(this.iconClasses={})},r.prototype.applyIconOverridePrefix=function(t){var e=this.iconOverridePrefix;return e&&0!==t.indexOf(e)&&(t=e+t),t},r.prototype.getClass=function(t){return this.classes[t]||""},r.prototype.getIconClass=function(t){var e=this.iconClasses[t];return e?this.baseIconClass+" "+e:""},r.prototype.getCustomButtonIconClass=function(t){var e;return this.iconOverrideCustomButtonOption&&(e=t[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(e):""},r}();$e.prototype.classes={},$e.prototype.iconClasses={},$e.prototype.baseIconClass="",$e.prototype.iconOverridePrefix="";var Lo=0,Uo=function(){function r(t,e,n,i,a){this.calendar=t,this.theme=e,this.dateEnv=n,this.options=i,this.view=a,this.isRtl="rtl"===i.dir,this.eventOrderSpecs=function(r){var n,i,t=[],e=[];for("string"==typeof r?e=r.split(/\s*,\s*/):"function"==typeof r?e=[r]:Array.isArray(r)&&(e=r),n=0;n<e.length;n++)"string"==typeof(i=e[n])?t.push("-"===i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&t.push({func:i});return t}(i.eventOrder),this.nextDayThreshold=C(i.nextDayThreshold)}return r.prototype.extend=function(t,e){return new r(this.calendar,this.theme,this.dateEnv,t||this.options,e||this.view)},r}(),Ke=function(){function r(){this.everRendered=!1,this.uid=String(Lo++)}return r.addEqualityFuncs=function(t){this.prototype.equalityFuncs=S({},this.prototype.equalityFuncs,t)},r.prototype.receiveProps=function(t,e){this.receiveContext(e);var n=function(r,t,e){var n={},i=!1;for(var a in t)a in r&&(r[a]===t[a]||e[a]&&e[a](r[a],t[a]))?n[a]=r[a]:(n[a]=t[a],i=!0);for(var a in r)if(!(a in t)){i=!0;break}return{anyChanges:i,comboProps:n}}(this.props||{},t,this.equalityFuncs),i=n.anyChanges,a=n.comboProps;this.props=a,i&&(this.everRendered&&this.beforeUpdate(),this.render(a,e),this.everRendered&&this.afterUpdate()),this.everRendered=!0},r.prototype.receiveContext=function(t){var e=this.context;this.context=t,e||this.firstContext(t)},r.prototype.render=function(t,e){},r.prototype.firstContext=function(t){},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.destroy=function(){},r}();Ke.prototype.equalityFuncs={};var me=function(r){function t(e){var n=r.call(this)||this;return n.el=e,n}return X(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this),z(this.el)},t.prototype.buildPositionCaches=function(){},t.prototype.queryHit=function(e,n,i,a){return null},t.prototype.isInteractionValid=function(e){var n=this.context.calendar,i=this.props.dateProfile,a=e.mutatedEvents.instances;if(i)for(var s in a)if(!yt(i.validRange,a[s].range))return!1;return Mr(e,n)},t.prototype.isDateSelectionValid=function(e){var n=this.context.calendar,i=this.props.dateProfile;return!(i&&!yt(i.validRange,e.range))&&function(r,t){return kr({dateSelection:r},t)}(e,n)},t.prototype.isValidSegDownEl=function(e){return!this.props.eventDrag&&!this.props.eventResize&&!J(e,".fc-mirror")&&(this.isPopover()||!this.isInPopover(e))},t.prototype.isValidDateDownEl=function(e){var n=J(e,this.fgSegSelector);return(!n||n.classList.contains("fc-mirror"))&&!J(e,".fc-more")&&!J(e,"a[data-goto]")&&!this.isInPopover(e)},t.prototype.isPopover=function(){return this.el.classList.contains("fc-popover")},t.prototype.isInPopover=function(e){return Boolean(J(e,".fc-popover"))},t}(Ke);me.prototype.fgSegSelector=".fc-event-container > *",me.prototype.bgSegSelector=".fc-bgevent:not(.fc-nonbusiness)";var Go=0;function ne(r){return{id:String(Go++),deps:r.deps||[],reducers:r.reducers||[],eventDefParsers:r.eventDefParsers||[],isDraggableTransformers:r.isDraggableTransformers||[],eventDragMutationMassagers:r.eventDragMutationMassagers||[],eventDefMutationAppliers:r.eventDefMutationAppliers||[],dateSelectionTransformers:r.dateSelectionTransformers||[],datePointTransforms:r.datePointTransforms||[],dateSpanTransforms:r.dateSpanTransforms||[],views:r.views||{},viewPropsTransformers:r.viewPropsTransformers||[],isPropsValid:r.isPropsValid||null,externalDefTransforms:r.externalDefTransforms||[],eventResizeJoinTransforms:r.eventResizeJoinTransforms||[],viewContainerModifiers:r.viewContainerModifiers||[],eventDropTransformers:r.eventDropTransformers||[],componentInteractions:r.componentInteractions||[],calendarInteractions:r.calendarInteractions||[],themeClasses:r.themeClasses||{},eventSourceDefs:r.eventSourceDefs||[],cmdFormatter:r.cmdFormatter,recurringTypes:r.recurringTypes||[],namedTimeZonedImpl:r.namedTimeZonedImpl,defaultView:r.defaultView||"",elementDraggingImpl:r.elementDraggingImpl,optionChangeHandlers:r.optionChangeHandlers||{}}}var Yo=function(){function r(){this.hooks={reducers:[],eventDefParsers:[],isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],eventResizeJoinTransforms:[],viewContainerModifiers:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,defaultView:"",elementDraggingImpl:null,optionChangeHandlers:{}},this.addedHash={}}return r.prototype.add=function(t){if(!this.addedHash[t.id]){this.addedHash[t.id]=!0;for(var e=0,n=t.deps;e<n.length;e++)this.add(n[e]);this.hooks=function(r,t){return{reducers:r.reducers.concat(t.reducers),eventDefParsers:r.eventDefParsers.concat(t.eventDefParsers),isDraggableTransformers:r.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:r.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:r.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:r.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:r.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:r.dateSpanTransforms.concat(t.dateSpanTransforms),views:S({},r.views,t.views),viewPropsTransformers:r.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||r.isPropsValid,externalDefTransforms:r.externalDefTransforms.concat(t.externalDefTransforms),eventResizeJoinTransforms:r.eventResizeJoinTransforms.concat(t.eventResizeJoinTransforms),viewContainerModifiers:r.viewContainerModifiers.concat(t.viewContainerModifiers),eventDropTransformers:r.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:r.calendarInteractions.concat(t.calendarInteractions),componentInteractions:r.componentInteractions.concat(t.componentInteractions),themeClasses:S({},r.themeClasses,t.themeClasses),eventSourceDefs:r.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||r.cmdFormatter,recurringTypes:r.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||r.namedTimeZonedImpl,defaultView:r.defaultView||t.defaultView,elementDraggingImpl:r.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:S({},r.optionChangeHandlers,t.optionChangeHandlers)}}(this.hooks,t)}},r}(),Wo=ne({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(r){return Array.isArray(r)?r:Array.isArray(r.events)?r.events:null},fetch:function(r,t){t({rawEvents:r.eventSource.meta})}}]}),Jo=ne({eventSourceDefs:[{parseMeta:function(r){return"function"==typeof r?r:"function"==typeof r.events?r.events:null},fetch:function(r,t,e){var n=r.calendar.dateEnv;!function(r,t,e){var n=!1,i=function(){n||(n=!0,t.apply(this,arguments))},a=function(){n||(n=!0,e&&e.apply(this,arguments))},s=r(i,a);s&&"function"==typeof s.then&&s.then(i,a)}(r.eventSource.meta.bind(null,{start:n.toDate(r.range.start),end:n.toDate(r.range.end),startStr:n.formatIso(r.range.start),endStr:n.formatIso(r.range.end),timeZone:n.timeZone}),function(a){t({rawEvents:a})},e)}}]});function Vr(r){var t=[];for(var e in r)t.push(encodeURIComponent(e)+"="+encodeURIComponent(r[e]));return t.join("&")}var Ko=ne({eventSourceDefs:[{parseMeta:function(r){if("string"==typeof r)r={url:r};else if(!r||"object"!=typeof r||!r.url)return null;return{url:r.url,method:(r.method||"GET").toUpperCase(),extraParams:r.extraParams,startParam:r.startParam,endParam:r.endParam,timeZoneParam:r.timeZoneParam}},fetch:function(r,t,e){var n=r.eventSource.meta,i=function(r,t,e){var i,a,s,l,n=e.dateEnv,d={};return null==(i=r.startParam)&&(i=e.opt("startParam")),null==(a=r.endParam)&&(a=e.opt("endParam")),null==(s=r.timeZoneParam)&&(s=e.opt("timeZoneParam")),l="function"==typeof r.extraParams?r.extraParams():r.extraParams||{},S(d,l),d[i]=n.formatIso(t.start),d[a]=n.formatIso(t.end),"local"!==n.timeZone&&(d[s]=n.timeZone),d}(n,r.range,r.calendar);!function(r,t,e,n,i){var a=null;"GET"===(r=r.toUpperCase())?t=function(r,t){return r+(-1===r.indexOf("?")?"?":"&")+Vr(t)}(t,e):a=Vr(e);var s=new XMLHttpRequest;s.open(r,t,!0),"GET"!==r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onload=function(){if(s.status>=200&&s.status<400)try{var l=JSON.parse(s.responseText);n(l,s)}catch(d){i("Failure parsing JSON",s)}else i("Request failed",s)},s.onerror=function(){i("Request failed",s)},s.send(a)}(n.method,n.url,i,function(a,s){t({rawEvents:a,xhr:s})},function(a,s){e({message:a,xhr:s})})}}]}),ns=ne({recurringTypes:[{parse:function(r,t,e){var n=e.createMarker.bind(e),a=se(r,{daysOfWeek:null,startTime:C,endTime:C,startRecur:n,endRecur:n},{},t),s=!1;for(var l in a)if(null!=a[l]){s=!0;break}if(s){var d=null;return"duration"in t&&(d=C(t.duration),delete t.duration),!d&&a.startTime&&a.endTime&&(d=function(r,t){return{years:r.years-t.years,months:r.months-t.months,days:r.days-t.days,milliseconds:r.milliseconds-t.milliseconds}}(a.endTime,a.startTime)),{allDayGuess:Boolean(!a.startTime&&!a.endTime),duration:d,typeData:a}}return null},expand:function(r,t,e){var n=Re(t,{start:r.startRecur,end:r.endRecur});return n?function(r,t,e,n){for(var i=r?pr(r):null,a=A(e.start),s=e.end,l=[];a<s;){var d=void 0;(!i||i[a.getUTCDay()])&&(d=t?n.add(a,t):a,l.push(d)),a=q(a,1)}return l}(r.daysOfWeek,r.startTime,n,e):[]}}]}),is=ne({optionChangeHandlers:{events:function(r,t,e){Gr([r],t,e)},eventSources:Gr,plugins:function(r,t){t.addPluginInputs(r)}}});function Gr(r,t,e){for(var n=hr(t.state.eventSources),i=[],a=0,s=r;a<s.length;a++){for(var l=s[a],d=!1,c=0;c<n.length;c++)if(e(n[c]._raw,l)){n.splice(c,1),d=!0;break}d||i.push(l)}for(var f=0,p=n;f<p.length;f++)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:p[f].sourceId});for(var h=0,g=i;h<g.length;h++)t.addEventSource(g[h])}var It={},le={defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",columnHeader:!0,defaultView:"",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",timeGridEventMinHeight:0,themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",eventLimit:!1,eventLimitClick:"popover",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5},os={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"}},ss=["header","footer","buttonText","buttonIcons"],ds=[Wo,Jo,Ko,ns,is],fn={code:"en",week:{dow:0,doy:4},dir:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekLabel:"W",allDayText:"all-day",eventLimitText:"more",noEventsMessage:"No events to display"};function pn(r){for(var t=r.length>0?r[0].code:"en",e=window.FullCalendarLocalesAll||[],n=window.FullCalendarLocales||{},i=e.concat(hr(n),r),a={en:fn},s=0,l=i;s<l.length;s++){var d=l[s];a[d.code]=d}return{map:a,defaultCode:t}}function hn(r,t){return"object"!=typeof r||Array.isArray(r)?function(r,t){var e=[].concat(r||[]),n=function(r,t){for(var e=0;e<r.length;e++)for(var n=r[e].toLocaleLowerCase().split("-"),i=n.length;i>0;i--){var a=n.slice(0,i).join("-");if(t[a])return t[a]}return null}(e,t)||fn;return Yr(r,e,n)}(r,t):Yr(r.code,[r.code],r)}function Yr(r,t,e){var n=$t([fn,e],["buttonText"]);delete n.code;var i=n.week;return delete n.week,{codeArg:r,codes:t,week:i,simpleNumberFormat:new Intl.NumberFormat(r),options:n}}var ps=function(){function r(t){this.overrides=S({},t),this.dynamicOverrides={},this.compute()}return r.prototype.mutate=function(t,e,n){if(Object.keys(t).length||e.length){var i=n?this.dynamicOverrides:this.overrides;S(i,t);for(var a=0,s=e;a<s.length;a++)delete i[s[a]];this.compute()}},r.prototype.compute=function(){var t=Jt(this.dynamicOverrides.locales,this.overrides.locales,le.locales),e=Jt(this.dynamicOverrides.locale,this.overrides.locale,le.locale),n=pn(t),i=hn(e||n.defaultCode,n.map).options,s="rtl"===Jt(this.dynamicOverrides.dir,this.overrides.dir,i.dir)?os:{};this.dirDefaults=s,this.localeDefaults=i,this.computed=function(r){return $t(r,ss)}([le,s,i,this.overrides,this.dynamicOverrides])},r}(),zr={},gs=function(){function r(){}return r.prototype.getMarkerYear=function(t){return t.getUTCFullYear()},r.prototype.getMarkerMonth=function(t){return t.getUTCMonth()},r.prototype.getMarkerDay=function(t){return t.getUTCDate()},r.prototype.arrayToMarker=function(t){return j(t)},r.prototype.markerToArray=function(t){return he(t)},r}();zr.gregory=gs;var ms=/^\s*(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,qr=function(){function r(t){var e=this.timeZone=t.timeZone,n="local"!==e&&"UTC"!==e;t.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(e)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(r){return new zr[r]}(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,"ISO"===t.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof t.firstDay&&(this.weekDow=t.firstDay),"function"==typeof t.weekNumberCalculation&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekLabel=null!=t.weekLabel?t.weekLabel:t.locale.options.weekLabel,this.cmdFormatter=t.cmdFormatter}return r.prototype.createMarker=function(t){var e=this.createMarkerMeta(t);return null===e?null:e.marker},r.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):j(Xn(new Date))},r.prototype.createMarkerMeta=function(t){if("string"==typeof t)return this.parse(t);var e=null;return"number"==typeof t?e=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(e=this.timestampToMarker(t))):Array.isArray(t)&&(e=j(t)),null!==e&&Kn(e)?{marker:e,isTimeUnspecified:!1,forcedTzo:null}:null},r.prototype.parse=function(t){var e=function(r){var t=ms.exec(r);if(t){var e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number("0."+t[12]):0));if(Kn(e)){var n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}(t);if(null===e)return null;var n=e.marker,i=null;return null!==e.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*e.timeZoneOffset*1e3):i=e.timeZoneOffset),{marker:n,isTimeUnspecified:e.isTimeUnspecified,forcedTzo:i}},r.prototype.getYear=function(t){return this.calendarSystem.getMarkerYear(t)},r.prototype.getMonth=function(t){return this.calendarSystem.getMarkerMonth(t)},r.prototype.add=function(t,e){var n=this.calendarSystem.markerToArray(t);return n[0]+=e.years,n[1]+=e.months,n[2]+=e.days,n[6]+=e.milliseconds,this.calendarSystem.arrayToMarker(n)},r.prototype.subtract=function(t,e){var n=this.calendarSystem.markerToArray(t);return n[0]-=e.years,n[1]-=e.months,n[2]-=e.days,n[6]-=e.milliseconds,this.calendarSystem.arrayToMarker(n)},r.prototype.addYears=function(t,e){var n=this.calendarSystem.markerToArray(t);return n[0]+=e,this.calendarSystem.arrayToMarker(n)},r.prototype.addMonths=function(t,e){var n=this.calendarSystem.markerToArray(t);return n[1]+=e,this.calendarSystem.arrayToMarker(n)},r.prototype.diffWholeYears=function(t,e){var n=this.calendarSystem;return ve(t)===ve(e)&&n.getMarkerDay(t)===n.getMarkerDay(e)&&n.getMarkerMonth(t)===n.getMarkerMonth(e)?n.getMarkerYear(e)-n.getMarkerYear(t):null},r.prototype.diffWholeMonths=function(t,e){var n=this.calendarSystem;return ve(t)===ve(e)&&n.getMarkerDay(t)===n.getMarkerDay(e)?n.getMarkerMonth(e)-n.getMarkerMonth(t)+12*(n.getMarkerYear(e)-n.getMarkerYear(t)):null},r.prototype.greatestWholeUnit=function(t,e){var n=this.diffWholeYears(t,e);return null!==n?{unit:"year",value:n}:null!==(n=this.diffWholeMonths(t,e))?{unit:"month",value:n}:null!==(n=function(r,t){var e=ut(r,t);return null!==e&&e%7==0?e/7:null}(t,e))?{unit:"week",value:n}:null!==(n=ut(t,e))?{unit:"day",value:n}:ht(n=function(r,t){return(t.valueOf()-r.valueOf())/36e5}(t,e))?{unit:"hour",value:n}:ht(n=function(r,t){return(t.valueOf()-r.valueOf())/6e4}(t,e))?{unit:"minute",value:n}:ht(n=function(r,t){return(t.valueOf()-r.valueOf())/1e3}(t,e))?{unit:"second",value:n}:{unit:"millisecond",value:e.valueOf()-t.valueOf()}},r.prototype.countDurationsBetween=function(t,e,n){var i;return n.years&&null!==(i=this.diffWholeYears(t,e))?i/function(r){return Ae(r)/365}(n):n.months&&null!==(i=this.diffWholeMonths(t,e))?i/function(r){return Ae(r)/30}(n):n.days&&null!==(i=ut(t,e))?i/Ae(n):(e.valueOf()-t.valueOf())/te(n)},r.prototype.startOf=function(t,e){return"year"===e?this.startOfYear(t):"month"===e?this.startOfMonth(t):"week"===e?this.startOfWeek(t):"day"===e?A(t):"hour"===e?function(r){return j([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()])}(t):"minute"===e?function(r){return j([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes()])}(t):"second"===e?function(r){return j([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()])}(t):void 0},r.prototype.startOfYear=function(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])},r.prototype.startOfMonth=function(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])},r.prototype.startOfWeek=function(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])},r.prototype.computeWeekNumber=function(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):function(r,t,e){var n=r.getUTCFullYear(),i=Ut(r,n,t,e);if(i<1)return Ut(r,n-1,t,e);var a=Ut(r,n+1,t,e);return a>=1?Math.min(i,a):i}(t,this.weekDow,this.weekDoy)},r.prototype.format=function(t,e,n){return void 0===n&&(n={}),e.format({marker:t,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(t)},this)},r.prototype.formatRange=function(t,e,n,i){return void 0===i&&(i={}),i.isEndExclusive&&(e=qe(e,-1)),n.formatRange({marker:t,timeZoneOffset:null!=i.forcedStartTzo?i.forcedStartTzo:this.offsetForMarker(t)},{marker:e,timeZoneOffset:null!=i.forcedEndTzo?i.forcedEndTzo:this.offsetForMarker(e)},this)},r.prototype.formatIso=function(t,e){void 0===e&&(e={});var n=null;return e.omitTimeZoneOffset||(n=null!=e.forcedTzo?e.forcedTzo:this.offsetForMarker(t)),function(r,t,e){void 0===e&&(e=!1);var n=r.toISOString();return n=n.replace(".000",""),e&&(n=n.replace("T00:00:00Z","")),n.length>10&&(null==t?n=n.replace("Z",""):0!==t&&(n=n.replace("Z",tn(t,!0)))),n}(t,n,e.omitTime)},r.prototype.timestampToMarker=function(t){return"local"===this.timeZone?j(Xn(new Date(t))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?j(this.namedTimeZoneImpl.timestampToArray(t)):new Date(t)},r.prototype.offsetForMarker=function(t){return"local"===this.timeZone?-$n(he(t)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(he(t)):null},r.prototype.toDate=function(t,e){return"local"===this.timeZone?$n(he(t)):"UTC"===this.timeZone?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(he(t))*60):new Date(t.valueOf()-(e||0))},r}(),bs={id:String,allDayDefault:Boolean,eventDataTransform:Function,success:Function,failure:Function},Es=0;function Wr(r,t){return!t.pluginSystem.hooks.eventSourceDefs[r.sourceDefId].ignoreRange}function jr(r,t){for(var e=t.pluginSystem.hooks.eventSourceDefs,n=e.length-1;n>=0;n--){var a=e[n].parseMeta(r);if(a){var s=Ss("object"==typeof r?r:{},a,n,t);return s._raw=r,s}}return null}function Ss(r,t,e,n){var i={},a=se(r,bs,{},i),s={},l=on(i,n,s);return a.isFetching=!1,a.latestFetchId="",a.fetchRange=null,a.publicId=String(r.id||""),a.sourceId=String(Es++),a.sourceDefId=e,a.meta=t,a.ui=l,a.extendedProps=s,a}var Ds=0;function Jr(r,t,e){return Qr(r,Ce(r,function(n){return function(r,t,e){return Wr(r,e)?!e.opt("lazyFetching")||!r.fetchRange||r.isFetching||t.start<r.fetchRange.start||t.end>r.fetchRange.end:!r.latestFetchId}(n,t,e)}),t,e)}function Qr(r,t,e,n){var i={};for(var a in r){var s=r[a];i[a]=t[a]?Rs(s,e,n):s}return i}function Rs(r,t,e){var n=e.pluginSystem.hooks.eventSourceDefs[r.sourceDefId],i=String(Ds++);return n.fetch({eventSource:r,calendar:e,range:t},function(a){var d,c,s=a.rawEvents,l=e.opt("eventSourceSuccess");r.success&&(c=r.success(s,a.xhr)),l&&(d=l(s,a.xhr)),e.dispatch({type:"RECEIVE_EVENTS",sourceId:r.sourceId,fetchId:i,fetchRange:t,rawEvents:s=c||d||s})},function(a){var s=e.opt("eventSourceFailure");console.warn(a.message,a),r.failure&&r.failure(a),s&&s(a),e.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:r.sourceId,fetchId:i,fetchRange:t,error:a})}),S({},r,{isFetching:!0,latestFetchId:i})}var Xr=function(){function r(t,e){this.viewSpec=t,this.options=t.options,this.dateEnv=e.dateEnv,this.calendar=e,this.initHiddenDays()}return r.prototype.buildPrev=function(t,e){var n=this.dateEnv,i=n.subtract(n.startOf(e,t.currentRangeUnit),t.dateIncrement);return this.build(i,-1)},r.prototype.buildNext=function(t,e){var n=this.dateEnv,i=n.add(n.startOf(e,t.currentRangeUnit),t.dateIncrement);return this.build(i,1)},r.prototype.build=function(t,e,n){var i,a,s,l,d,c,f,p;return void 0===n&&(n=!1),i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(t=function(r,t){return null!=t.start&&r<t.start?t.start:null!=t.end&&r>=t.end?new Date(t.end.valueOf()-1):r}(t,i)),l=this.buildCurrentRangeInfo(t,e),d=/^(year|month|week|day)$/.test(l.unit),c=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,d),f=c=this.trimHiddenDays(c),this.options.showNonCurrentDates||(f=Re(f,l.range)),a=C(this.options.minTime),s=C(this.options.maxTime),f=Re(f=this.adjustActiveRange(f,a,s),i),p=en(l.range,i),{validRange:i,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:d,activeRange:f,renderRange:c,minTime:a,maxTime:s,isValid:p,dateIncrement:this.buildDateIncrement(l.duration)}},r.prototype.buildValidRange=function(){return this.getRangeOption("validRange",this.calendar.getNow())||{start:null,end:null}},r.prototype.buildCurrentRangeInfo=function(t,e){var c,i=this.viewSpec,a=this.dateEnv,s=null,l=null,d=null;return i.duration?d=this.buildRangeFromDuration(t,e,s=i.duration,l=i.durationUnit):(c=this.options.dayCount)?(l="day",d=this.buildRangeFromDayCount(t,e,c)):(d=this.buildCustomVisibleRange(t))?l=a.greatestWholeUnit(d.start,d.end).unit:(l=qt(s=this.getFallbackDuration()).unit,d=this.buildRangeFromDuration(t,e,s,l)),{duration:s,unit:l,range:d}},r.prototype.getFallbackDuration=function(){return C({day:1})},r.prototype.adjustActiveRange=function(t,e,n){var i=this.dateEnv,a=t.start,s=t.end;return this.viewSpec.class.prototype.usesMinMaxTime&&(Ae(e)<0&&(a=A(a),a=i.add(a,e)),Ae(n)>1&&(s=q(s=A(s),-1),s=i.add(s,n))),{start:a,end:s}},r.prototype.buildRangeFromDuration=function(t,e,n,i){var l,d,c,f,p,a=this.dateEnv,s=this.options.dateAlignment;function v(){c=a.startOf(t,s),f=a.add(c,n),p={start:c,end:f}}return s||((l=this.options.dateIncrement)?(d=C(l),s=te(d)<te(n)?qt(d,!Vt(l)).unit:i):s=i),Ae(n)<=1&&this.isHiddenDay(c)&&(c=A(c=this.skipHiddenDays(c,e))),v(),this.trimHiddenDays(p)||(t=this.skipHiddenDays(t,e),v()),p},r.prototype.buildRangeFromDayCount=function(t,e,n){var d,a=this.options.dateAlignment,s=0,l=t;a&&(l=this.dateEnv.startOf(l,a)),l=A(l),d=l=this.skipHiddenDays(l,e);do{d=q(d,1),this.isHiddenDay(d)||s++}while(s<n);return{start:l,end:d}},r.prototype.buildCustomVisibleRange=function(t){var n=this.getRangeOption("visibleRange",this.dateEnv.toDate(t));return!n||null!=n.start&&null!=n.end?n:null},r.prototype.buildRenderRange=function(t,e,n){return t},r.prototype.buildDateIncrement=function(t){var n,e=this.options.dateIncrement;return e?C(e):(n=this.options.dateAlignment)?C(1,n):t||C({days:1})},r.prototype.getRangeOption=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.options[t];return"function"==typeof i&&(i=i.apply(null,e)),i&&(i=Ua(i,this.dateEnv)),i&&(i=Qt(i)),i},r.prototype.initHiddenDays=function(){var i,t=this.options.hiddenDays||[],e=[],n=0;for(!1===this.options.weekends&&t.push(0,6),i=0;i<7;i++)(e[i]=-1!==t.indexOf(i))||n++;if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=e},r.prototype.trimHiddenDays=function(t){var e=t.start,n=t.end;return e&&(e=this.skipHiddenDays(e)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==e||null==n||e<n?{start:e,end:n}:null},r.prototype.isHiddenDay=function(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]},r.prototype.skipHiddenDays=function(t,e,n){for(void 0===e&&(e=1),void 0===n&&(n=!1);this.isHiddenDayHash[(t.getUTCDay()+(n?e:0)+7)%7];)t=q(t,e);return t},r}();function ks(r,t,e){for(var n=function(r,t){switch(t.type){case"SET_VIEW_TYPE":return t.viewType;default:return r}}(r.viewType,t),i=function(r,t,e,n,i){var a;switch(t.type){case"PREV":a=i.dateProfileGenerators[n].buildPrev(r,e);break;case"NEXT":a=i.dateProfileGenerators[n].buildNext(r,e);break;case"SET_DATE":(!r.activeRange||!ge(r.currentRange,t.dateMarker))&&(a=i.dateProfileGenerators[n].build(t.dateMarker,void 0,!0));break;case"SET_VIEW_TYPE":var s=i.dateProfileGenerators[n];if(!s)throw new Error(n?'The FullCalendar view "'+n+'" does not exist. Make sure your plugins are loaded correctly.':"No available FullCalendar view plugins.");a=s.build(t.dateMarker||e,void 0,!0)}return!a||!a.isValid||r&&function(r,t){return mt(r.validRange,t.validRange)&&mt(r.activeRange,t.activeRange)&&mt(r.renderRange,t.renderRange)&&Gt(r.minTime,t.minTime)&&Gt(r.maxTime,t.maxTime)}(r,a)?r:a}(r.dateProfile,t,r.currentDate,n,e),a=function(r,t,e,n){switch(t.type){case"ADD_EVENT_SOURCES":return function(r,t,e,n){for(var i={},a=0,s=t;a<s.length;a++){var l=s[a];i[l.sourceId]=l}return e&&(i=Jr(i,e,n)),S({},r,i)}(r,t.sources,e?e.activeRange:null,n);case"REMOVE_EVENT_SOURCE":return function(r,t){return Ce(r,function(e){return e.sourceId!==t})}(r,t.sourceId);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return e?Jr(r,e.activeRange,n):r;case"FETCH_EVENT_SOURCES":case"CHANGE_TIMEZONE":return Qr(r,t.sourceIds?pr(t.sourceIds):function(r,t){return Ce(r,function(e){return Wr(e,t)})}(r,n),e?e.activeRange:null,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(r,t,e,n){var i,a=r[t];return a&&e===a.latestFetchId?S({},r,((i={})[t]=S({},a,{isFetching:!1,fetchRange:n}),i)):r}(r,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return r}}(r.eventSources,t,i,e),s=S({},r,{viewType:n,dateProfile:i,currentDate:Ps(r.currentDate,t,i),eventSources:a,eventStore:po(r.eventStore,t,a,i,e),dateSelection:Fs(r.dateSelection,t),eventSelection:Ns(r.eventSelection,t),eventDrag:Hs(r.eventDrag,t),eventResize:Bs(r.eventResize,t),eventSourceLoadingLevel:$r(a),loadingLevel:$r(a)}),l=0,d=e.pluginSystem.hooks.reducers;l<d.length;l++)s=(0,d[l])(s,t,e);return s}function Ps(r,t,e){switch(t.type){case"PREV":case"NEXT":return ge(e.currentRange,r)?r:e.currentRange.start;case"SET_DATE":case"SET_VIEW_TYPE":var n=t.dateMarker||r;return e.activeRange&&!ge(e.activeRange,n)?e.currentRange.start:n;default:return r}}function Fs(r,t,e){switch(t.type){case"SELECT_DATES":return t.selection;case"UNSELECT_DATES":return null;default:return r}}function Ns(r,t){switch(t.type){case"SELECT_EVENT":return t.eventInstanceId;case"UNSELECT_EVENT":return"";default:return r}}function Hs(r,t,e,n){switch(t.type){case"SET_EVENT_DRAG":var i=t.state;return{affectedEvents:i.affectedEvents,mutatedEvents:i.mutatedEvents,isEvent:i.isEvent,origSeg:i.origSeg};case"UNSET_EVENT_DRAG":return null;default:return r}}function Bs(r,t,e,n){switch(t.type){case"SET_EVENT_RESIZE":var i=t.state;return{affectedEvents:i.affectedEvents,mutatedEvents:i.mutatedEvents,isEvent:i.isEvent,origSeg:i.origSeg};case"UNSET_EVENT_RESIZE":return null;default:return r}}function $r(r){var t=0;for(var e in r)r[e].isFetching&&t++;return t}var Zs={start:null,end:null,allDay:Boolean};function qs(r,t,e){var n=Tt({editable:!1},"",r.allDay,!0,e);return{def:n,ui:wr(n,t),instance:Ct(n.defId,r.range),range:r.range,isStart:!0,isEnd:!0}}function vn(r,t,e,n){if(t[r])return t[r];var i=function(r,t,e,n){var i=e[r],a=n[r],s=function(f){return i&&null!==i[f]?i[f]:a&&null!==a[f]?a[f]:null},l=s("class"),d=s("superType");!d&&l&&(d=Kr(l,n)||Kr(l,e));var c=null;if(d){if(d===r)throw new Error("Can't have a custom view type that references itself");c=vn(d,t,e,n)}return!l&&c&&(l=c.class),l?{type:r,class:l,defaults:S({},c?c.defaults:{},i?i.options:{}),overrides:S({},c?c.overrides:{},a?a.options:{})}:null}(r,t,e,n);return i&&(t[r]=i),i}function Kr(r,t){var e=Object.getPrototypeOf(r.prototype);for(var n in t){var i=t[n];if(i.class&&i.class.prototype===e)return n}return""}function ei(r){return ae(r,Qs)}var Js={type:String,class:null};function Qs(r){"function"==typeof r&&(r={class:r});var t={},e=se(r,Js,{},t);return{superType:e.type,class:e.class,options:t}}var ti=function(r){function t(e){var n=r.call(this)||this;return n._renderLayout=_(n.renderLayout,n.unrenderLayout),n._updateTitle=_(n.updateTitle,null,[n._renderLayout]),n._updateActiveButton=_(n.updateActiveButton,null,[n._renderLayout]),n._updateToday=_(n.updateToday,null,[n._renderLayout]),n._updatePrev=_(n.updatePrev,null,[n._renderLayout]),n._updateNext=_(n.updateNext,null,[n._renderLayout]),n.el=L("div",{className:"fc-toolbar "+e}),n}return X(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this),this._renderLayout.unrender(),z(this.el)},t.prototype.render=function(e){this._renderLayout(e.layout),this._updateTitle(e.title),this._updateActiveButton(e.activeButton),this._updateToday(e.isTodayEnabled),this._updatePrev(e.isPrevEnabled),this._updateNext(e.isNextEnabled)},t.prototype.renderLayout=function(e){var n=this.el;this.viewsWithButtons=[],ee(n,this.renderSection("left",e.left)),ee(n,this.renderSection("center",e.center)),ee(n,this.renderSection("right",e.right))},t.prototype.unrenderLayout=function(){this.el.innerHTML=""},t.prototype.renderSection=function(e,n){var i=this,a=this.context,s=a.theme,l=a.calendar,d=l.optionsManager,c=l.viewSpecs,f=L("div",{className:"fc-"+e}),p=d.computed.customButtons||{},v=d.overrides.buttonText||{},h=d.computed.buttonText||{};return n&&n.split(" ").forEach(function(g,m){var w,y=[],E=!0;if(g.split(",").forEach(function(T,N){var k,O,H,Y,W,Ee,Se,we,kn;"title"===T?(y.push(_e("<h2>&nbsp;</h2>")),E=!1):((k=p[T])?(H=function(Jc){k.click&&k.click.call(we,Jc)},(Y=s.getCustomButtonIconClass(k))||(Y=s.getIconClass(T))||(W=k.text)):(O=c[T])?(i.viewsWithButtons.push(T),H=function(){l.changeView(T)},(W=O.buttonTextOverride)||(Y=s.getIconClass(T))||(W=O.buttonTextDefault)):l[T]&&(H=function(){l[T]()},(W=v[T])||(Y=s.getIconClass(T))||(W=h[T])),H&&(Se=["fc-"+T+"-button",s.getClass("button")],W?(Ee=M(W),kn=""):Y&&(Ee="<span class='"+Y+"'></span>",kn=' aria-label="'+T+'"'),(we=_e('<button type="button" class="'+Se.join(" ")+'"'+kn+">"+Ee+"</button>")).addEventListener("click",H),y.push(we)))}),y.length>1){w=document.createElement("div");var D=s.getClass("buttonGroup");E&&D&&w.classList.add(D),ee(w,y),f.appendChild(w)}else ee(f,y)}),f},t.prototype.updateToday=function(e){this.toggleButtonEnabled("today",e)},t.prototype.updatePrev=function(e){this.toggleButtonEnabled("prev",e)},t.prototype.updateNext=function(e){this.toggleButtonEnabled("next",e)},t.prototype.updateTitle=function(e){G(this.el,"h2").forEach(function(n){n.innerText=e})},t.prototype.updateActiveButton=function(e){var i=this.context.theme.getClass("buttonActive");G(this.el,"button").forEach(function(a){e&&a.classList.contains("fc-"+e+"-button")?a.classList.add(i):a.classList.remove(i)})},t.prototype.toggleButtonEnabled=function(e,n){G(this.el,".fc-"+e+"-button").forEach(function(i){i.disabled=!n})},t}(Ke),Ks=function(r){function t(e){var n=r.call(this)||this;return n.elClassNames=[],n.renderSkeleton=_(n._renderSkeleton,n._unrenderSkeleton),n.renderToolbars=_(n._renderToolbars,n._unrenderToolbars,[n.renderSkeleton]),n.buildComponentContext=I(nl),n.buildViewPropTransformers=I(rl),n.el=e,n.computeTitle=I(el),n.parseBusinessHours=I(function(i){return function(r,t){return vt(function(r){return(!0===r?[{}]:Array.isArray(r)?r.filter(function(e){return e.daysOfWeek}):"object"==typeof r&&r?[r]:[]).map(function(e){return S({},Oo,e)})}(r),"",t)}(i,n.context.calendar)}),n}return X(t,r),t.prototype.render=function(e,n){this.freezeHeight();var i=this.computeTitle(e.dateProfile,e.viewSpec.options);this.renderSkeleton(n),this.renderToolbars(e.viewSpec,e.dateProfile,e.currentDate,i),this.renderView(e,i),this.updateSize(),this.thawHeight()},t.prototype.destroy=function(){this.header&&this.header.destroy(),this.footer&&this.footer.destroy(),this.renderSkeleton.unrender(),r.prototype.destroy.call(this)},t.prototype._renderSkeleton=function(e){this.updateElClassNames(e),st(this.el,this.contentEl=L("div",{className:"fc-view-container"}));for(var n=e.calendar,i=0,a=n.pluginSystem.hooks.viewContainerModifiers;i<a.length;i++)(0,a[i])(this.contentEl,n)},t.prototype._unrenderSkeleton=function(){this.view&&(this.savedScroll=this.view.queryScroll(),this.view.destroy(),this.view=null),z(this.contentEl),this.removeElClassNames()},t.prototype.removeElClassNames=function(){for(var e=this.el.classList,n=0,i=this.elClassNames;n<i.length;n++)e.remove(i[n]);this.elClassNames=[]},t.prototype.updateElClassNames=function(e){this.removeElClassNames(),this.elClassNames=["fc","fc-"+e.options.dir,e.theme.getClass("widget")];for(var a=this.el.classList,s=0,l=this.elClassNames;s<l.length;s++)a.add(l[s])},t.prototype._renderToolbars=function(e,n,i,a){var s=this,l=s.context,d=s.header,c=s.footer,f=l.options,v=f.header,h=f.footer,g=this.props.dateProfileGenerator,m=l.calendar.getNow(),y=g.build(m),E=g.buildPrev(n,i),w=g.buildNext(n,i),D={title:a,activeButton:e.type,isTodayEnabled:y.isValid&&!ge(n.currentRange,m),isPrevEnabled:E.isValid,isNextEnabled:w.isValid};v?(d||(d=this.header=new ti("fc-header-toolbar"),st(this.el,d.el)),d.receiveProps(S({layout:v},D),l)):d&&(d.destroy(),d=this.header=null),h?(c||(c=this.footer=new ti("fc-footer-toolbar"),ee(this.el,c.el)),c.receiveProps(S({layout:h},D),l)):c&&(c.destroy(),c=this.footer=null)},t.prototype._unrenderToolbars=function(){this.header&&(this.header.destroy(),this.header=null),this.footer&&(this.footer.destroy(),this.footer=null)},t.prototype.renderView=function(e,n){var i=this.view,a=this.context,s=a.calendar,l=a.options,d=e.viewSpec,c=e.dateProfileGenerator;(!i||i.viewSpec!==d)&&(i&&i.destroy(),i=this.view=new d.class(d,this.contentEl),this.savedScroll&&(i.addScroll(this.savedScroll,!0),this.savedScroll=null)),i.title=n;for(var f={dateProfileGenerator:c,dateProfile:e.dateProfile,businessHours:this.parseBusinessHours(d.options.businessHours),eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize},v=0,h=this.buildViewPropTransformers(s.pluginSystem.hooks.viewPropsTransformers);v<h.length;v++)S(f,h[v].transform(f,d,e,l));i.receiveProps(f,this.buildComponentContext(this.context,d,i))},t.prototype.updateSize=function(e){void 0===e&&(e=!1);var n=this.view;!n||((e||null==this.isHeightAuto)&&this.computeHeightVars(),n.updateSize(e,this.viewHeight,this.isHeightAuto),n.updateNowIndicator(),n.popScroll(e))},t.prototype.computeHeightVars=function(){var e=this.context.calendar,n=e.opt("height"),i=e.opt("contentHeight");this.isHeightAuto="auto"===n||"auto"===i,this.viewHeight="number"==typeof i?i:"function"==typeof i?i():"number"==typeof n?n-this.queryToolbarsHeight():"function"==typeof n?n()-this.queryToolbarsHeight():"parent"===n?this.el.parentNode.getBoundingClientRect().height-this.queryToolbarsHeight():Math.round(this.contentEl.getBoundingClientRect().width/Math.max(e.opt("aspectRatio"),.5))},t.prototype.queryToolbarsHeight=function(){var e=0;return this.header&&(e+=zn(this.header.el)),this.footer&&(e+=zn(this.footer.el)),e},t.prototype.freezeHeight=function(){Z(this.el,{height:this.el.getBoundingClientRect().height,overflow:"hidden"})},t.prototype.thawHeight=function(){Z(this.el,{height:"",overflow:""})},t}(Ke);function el(r,t){var e;return e=/^(year|month)$/.test(r.currentRangeUnit)?r.currentRange:r.activeRange,this.context.dateEnv.formatRange(e.start,e.end,V(t.titleFormat||function(r){var t=r.currentRangeUnit;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};var e=ut(r.currentRange.start,r.currentRange.end);return null!==e&&e>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(r),t.titleRangeSeparator),{isEndExclusive:r.isRangeAllDay})}function nl(r,t,e){return r.extend(t.options,e)}function rl(r){return r.map(function(t){return new t})}var Be=function(){function r(t){this.component=t.component}return r.prototype.destroy=function(){},r}();function gn(r){var t;return(t={})[r.component.uid]=r,t}var xt={},al=function(r){function t(e){var n=r.call(this,e)||this;n.handleSegClick=function(a,s){var l=n.component,d=l.context,c=d.calendar,f=d.view,p=Je(s);if(p&&l.isValidSegDownEl(a.target)){var v=J(a.target,".fc-has-url"),h=v?v.querySelector("a[href]").href:"";c.publiclyTrigger("eventClick",[{el:s,event:new P(l.context.calendar,p.eventRange.def,p.eventRange.instance),jsEvent:a,view:f}]),h&&!a.defaultPrevented&&(window.location.href=h)}};var i=e.component;return n.destroy=ct(i.el,"click",i.fgSegSelector+","+i.bgSegSelector,n.handleSegClick),n}return X(t,r),t}(Be),ol=function(r){function t(e){var n=r.call(this,e)||this;n.handleEventElRemove=function(a){a===n.currentSegEl&&n.handleSegLeave(null,n.currentSegEl)},n.handleSegEnter=function(a,s){Je(s)&&(s.classList.add("fc-allow-mouse-resize"),n.currentSegEl=s,n.triggerEvent("eventMouseEnter",a,s))},n.handleSegLeave=function(a,s){n.currentSegEl&&(s.classList.remove("fc-allow-mouse-resize"),n.currentSegEl=null,n.triggerEvent("eventMouseLeave",a,s))};var i=e.component;return n.removeHoverListeners=function(r,t,e,n){var i;return ct(r,"mouseover",t,function(a,s){if(s!==i){i=s,e(a,s);var l=function(d){i=null,n(d,s),s.removeEventListener("mouseleave",l)};s.addEventListener("mouseleave",l)}})}(i.el,i.fgSegSelector+","+i.bgSegSelector,n.handleSegEnter,n.handleSegLeave),i.context.calendar.on("eventElRemove",n.handleEventElRemove),n}return X(t,r),t.prototype.destroy=function(){this.removeHoverListeners(),this.component.context.calendar.off("eventElRemove",this.handleEventElRemove)},t.prototype.triggerEvent=function(e,n,i){var a=this.component,s=a.context,l=s.calendar,d=s.view,c=Je(i);(!n||a.isValidSegDownEl(n.target))&&l.publiclyTrigger(e,[{el:i,event:new P(l,c.eventRange.def,c.eventRange.instance),jsEvent:n,view:d}])},t}(Be),xe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return X(t,r),t}($e);xe.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},xe.prototype.baseIconClass="fc-icon",xe.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},xe.prototype.iconOverrideOption="buttonIcons",xe.prototype.iconOverrideCustomButtonOption="icon",xe.prototype.iconOverridePrefix="fc-icon-";var ni=function(){function r(t,e){var n=this;this.buildComponentContext=I(sl),this.parseRawLocales=I(pn),this.buildLocale=I(hn),this.buildDateEnv=I(ll),this.buildTheme=I(dl),this.buildEventUiSingleBase=I(this._buildEventUiSingleBase),this.buildSelectionConfig=I(this._buildSelectionConfig),this.buildEventUiBySource=function(r,t){var e=null;return function(){var n=r.apply(this,arguments);return(null===e||!(e===n||t(e,n)))&&(e=n),e}}(ul,Ba),this.buildEventUiBases=I(fl),this.interactionsStore={},this.actionQueue=[],this.isReducing=!1,this.needsRerender=!1,this.isRendering=!1,this.renderingPauseDepth=0,this.buildDelayedRerender=I(cl),this.afterSizingTriggers={},this.isViewUpdated=!1,this.isDatesUpdated=!1,this.isEventsUpdated=!1,this.el=t,this.optionsManager=new ps(e||{}),this.pluginSystem=new Yo,this.addPluginInputs(this.optionsManager.computed.plugins||[]),this.handleOptions(this.optionsManager.computed),this.publiclyTrigger("_init"),this.hydrate(),this.calendarInteractions=this.pluginSystem.hooks.calendarInteractions.map(function(i){return new i(n)})}return r.prototype.addPluginInputs=function(t){for(var e=function(r){for(var t=[],e=0,n=r;e<n.length;e++){var i=n[e];if("string"==typeof i){var a="FullCalendar"+jt(i);window[a]?t.push(window[a].default):console.warn("Plugin file not loaded for "+i)}else t.push(i)}return ds.concat(t)}(t),n=0,i=e;n<i.length;n++)this.pluginSystem.add(i[n])},Object.defineProperty(r.prototype,"view",{get:function(){return this.component?this.component.view:null},enumerable:!0,configurable:!0}),r.prototype.render=function(){this.component?this.requestRerender():(this.component=new Ks(this.el),this.renderableEventStore={defs:{},instances:{}},this.bindHandlers(),this.executeRender())},r.prototype.destroy=function(){if(this.component){this.unbindHandlers(),this.component.destroy(),this.component=null;for(var t=0,e=this.calendarInteractions;t<e.length;t++)e[t].destroy();this.publiclyTrigger("_destroyed")}},r.prototype.bindHandlers=function(){var t=this;this.removeNavLinkListener=ct(this.el,"click","a[data-goto]",function(e,n){var i=n.getAttribute("data-goto");i=i?JSON.parse(i):{};var a=t.dateEnv,s=a.createMarker(i.date),l=i.type,d=t.viewOpt("navLink"+jt(l)+"Click");"function"==typeof d?d(a.toDate(s),e):("string"==typeof d&&(l=d),t.zoomTo(s,l))}),this.opt("handleWindowResize")&&window.addEventListener("resize",this.windowResizeProxy=dr(this.windowResize.bind(this),this.opt("windowResizeDelay")))},r.prototype.unbindHandlers=function(){this.removeNavLinkListener(),this.windowResizeProxy&&(window.removeEventListener("resize",this.windowResizeProxy),this.windowResizeProxy=null)},r.prototype.hydrate=function(){var t=this;this.state=this.buildInitialState();var e=this.opt("eventSources")||[],n=this.opt("events"),i=[];n&&e.unshift(n);for(var a=0,s=e;a<s.length;a++){var d=jr(s[a],this);d&&i.push(d)}this.batchRendering(function(){t.dispatch({type:"INIT"}),t.dispatch({type:"ADD_EVENT_SOURCES",sources:i}),t.dispatch({type:"SET_VIEW_TYPE",viewType:t.opt("defaultView")||t.pluginSystem.hooks.defaultView})})},r.prototype.buildInitialState=function(){return{viewType:null,loadingLevel:0,eventSourceLoadingLevel:0,currentDate:this.getInitialDate(),dateProfile:null,eventSources:{},eventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null}},r.prototype.dispatch=function(t){if(this.actionQueue.push(t),!this.isReducing){this.isReducing=!0;for(var e=this.state;this.actionQueue.length;)this.state=this.reduce(this.state,this.actionQueue.shift(),this);var n=this.state;this.isReducing=!1,!e.loadingLevel&&n.loadingLevel?this.publiclyTrigger("loading",[!0]):e.loadingLevel&&!n.loadingLevel&&this.publiclyTrigger("loading",[!1]);var i=this.component&&this.component.view;e.eventStore!==n.eventStore&&e.eventStore&&(this.isEventsUpdated=!0),e.dateProfile!==n.dateProfile&&(e.dateProfile&&i&&this.publiclyTrigger("datesDestroy",[{view:i,el:i.el}]),this.isDatesUpdated=!0),e.viewType!==n.viewType&&(e.viewType&&i&&this.publiclyTrigger("viewSkeletonDestroy",[{view:i,el:i.el}]),this.isViewUpdated=!0),this.requestRerender()}},r.prototype.reduce=function(t,e,n){return ks(t,e,n)},r.prototype.requestRerender=function(){this.needsRerender=!0,this.delayedRerender()},r.prototype.tryRerender=function(){this.component&&this.needsRerender&&!this.renderingPauseDepth&&!this.isRendering&&this.executeRender()},r.prototype.batchRendering=function(t){this.renderingPauseDepth++,t(),this.renderingPauseDepth--,this.needsRerender&&this.requestRerender()},r.prototype.executeRender=function(){this.needsRerender=!1,this.isRendering=!0,this.renderComponent(),this.isRendering=!1,this.needsRerender&&this.delayedRerender()},r.prototype.renderComponent=function(){var e=this.state,n=this.component,i=e.viewType,a=this.viewSpecs[i];if(!a)throw new Error('View type "'+i+'" is not valid');var s=this.renderableEventStore=e.eventSourceLoadingLevel&&!this.opt("progressiveEventRendering")?this.renderableEventStore:e.eventStore,l=this.buildEventUiSingleBase(a.options),d=this.buildEventUiBySource(e.eventSources),c=this.eventUiBases=this.buildEventUiBases(s.defs,l,d);n.receiveProps(S({},e,{viewSpec:a,dateProfileGenerator:this.dateProfileGenerators[i],dateProfile:e.dateProfile,eventStore:s,eventUiBases:c,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize}),this.buildComponentContext(this.theme,this.dateEnv,this.optionsManager.computed)),this.isViewUpdated&&(this.isViewUpdated=!1,this.publiclyTrigger("viewSkeletonRender",[{view:n.view,el:n.view.el}])),this.isDatesUpdated&&(this.isDatesUpdated=!1,this.publiclyTrigger("datesRender",[{view:n.view,el:n.view.el}])),this.isEventsUpdated&&(this.isEventsUpdated=!1),this.releaseAfterSizingTriggers()},r.prototype.setOption=function(t,e){var n;this.mutateOptions(((n={})[t]=e,n),[],!0)},r.prototype.getOption=function(t){return this.optionsManager.computed[t]},r.prototype.opt=function(t){return this.optionsManager.computed[t]},r.prototype.viewOpt=function(t){return this.viewOpts()[t]},r.prototype.viewOpts=function(){return this.viewSpecs[this.state.viewType].options},r.prototype.mutateOptions=function(t,e,n,i){var a=this,s=this.pluginSystem.hooks.optionChangeHandlers,l={},d={},c=this.dateEnv,f=!1,p=!1,v=Boolean(e.length);for(var h in t)s[h]?d[h]=t[h]:l[h]=t[h];for(var g in l)/^(height|contentHeight|aspectRatio)$/.test(g)?p=!0:/^(defaultDate|defaultView)$/.test(g)||(v=!0,"timeZone"===g&&(f=!0));this.optionsManager.mutate(l,e,n),v&&this.handleOptions(this.optionsManager.computed),this.batchRendering(function(){if(v?(f&&a.dispatch({type:"CHANGE_TIMEZONE",oldDateEnv:c}),a.dispatch({type:"SET_VIEW_TYPE",viewType:a.state.viewType})):p&&a.updateSize(),i)for(var m in d)s[m](d[m],a,i)})},r.prototype.handleOptions=function(t){var e=this,n=this.pluginSystem.hooks;this.defaultAllDayEventDuration=C(t.defaultAllDayEventDuration),this.defaultTimedEventDuration=C(t.defaultTimedEventDuration),this.delayedRerender=this.buildDelayedRerender(t.rerenderDelay),this.theme=this.buildTheme(t);var i=this.parseRawLocales(t.locales);this.availableRawLocales=i.map;var a=this.buildLocale(t.locale||i.defaultCode,i.map);this.dateEnv=this.buildDateEnv(a,t.timeZone,n.namedTimeZonedImpl,t.firstDay,t.weekNumberCalculation,t.weekLabel,n.cmdFormatter),this.selectionConfig=this.buildSelectionConfig(t),this.viewSpecs=function(r,t){var e=ei(r),n=ei(t.overrides.views);return ae(function(r,t){var n,e={};for(n in r)vn(n,e,r,t);for(n in t)vn(n,e,r,t);return e}(e,n),function(a){return function(r,t,e){var n=r.overrides.duration||r.defaults.duration||e.dynamicOverrides.duration||e.overrides.duration,i=null,a="",s="",l={};if(n&&(i=C(n))){var d=qt(i,!Vt(n));a=d.unit,1===d.value&&(s=a,l=t[a]?t[a].options:{})}var c=function(f){var p=f.buttonText||{},v=r.defaults.buttonTextKey;return null!=v&&null!=p[v]?p[v]:null!=p[r.type]?p[r.type]:null!=p[s]?p[s]:void 0};return{type:r.type,class:r.class,duration:i,durationUnit:a,singleUnit:s,options:S({},le,r.defaults,e.dirDefaults,e.localeDefaults,e.overrides,l,r.overrides,e.dynamicOverrides),buttonTextOverride:c(e.dynamicOverrides)||c(e.overrides)||r.overrides.buttonText,buttonTextDefault:c(e.localeDefaults)||c(e.dirDefaults)||r.defaults.buttonText||c(le)||r.type}}(a,n,t)})}(n.views,this.optionsManager),this.dateProfileGenerators=ae(this.viewSpecs,function(s){return new s.class.prototype.dateProfileGeneratorClass(s,e)})},r.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.availableRawLocales)},r.prototype._buildSelectionConfig=function(t){return Pr("select",t,this)},r.prototype._buildEventUiSingleBase=function(t){return t.editable&&(t=S({},t,{eventEditable:!0})),Pr("event",t,this)},r.prototype.hasPublicHandlers=function(t){return this.hasHandlers(t)||this.opt(t)},r.prototype.publiclyTrigger=function(t,e){var n=this.opt(t);if(this.triggerWith(t,this,e),n)return n.apply(this,e)},r.prototype.publiclyTriggerAfterSizing=function(t,e){var n=this.afterSizingTriggers;(n[t]||(n[t]=[])).push(e)},r.prototype.releaseAfterSizingTriggers=function(){var t=this.afterSizingTriggers;for(var e in t)for(var n=0,i=t[e];n<i.length;n++)this.publiclyTrigger(e,i[n]);this.afterSizingTriggers={}},r.prototype.isValidViewType=function(t){return Boolean(this.viewSpecs[t])},r.prototype.changeView=function(t,e){var n=null;e&&(e.start&&e.end?(this.optionsManager.mutate({visibleRange:e},[]),this.handleOptions(this.optionsManager.computed)):n=this.dateEnv.createMarker(e)),this.unselect(),this.dispatch({type:"SET_VIEW_TYPE",viewType:t,dateMarker:n})},r.prototype.zoomTo=function(t,e){var n;n=this.viewSpecs[e=e||"day"]||this.getUnitViewSpec(e),this.unselect(),this.dispatch(n?{type:"SET_VIEW_TYPE",viewType:n.type,dateMarker:t}:{type:"SET_DATE",dateMarker:t})},r.prototype.getUnitViewSpec=function(t){var i,a,e=this.component,n=[];for(var s in e.header&&n.push.apply(n,e.header.viewsWithButtons),e.footer&&n.push.apply(n,e.footer.viewsWithButtons),this.viewSpecs)n.push(s);for(i=0;i<n.length;i++)if((a=this.viewSpecs[n[i]])&&a.singleUnit===t)return a},r.prototype.getInitialDate=function(){var t=this.opt("defaultDate");return null!=t?this.dateEnv.createMarker(t):this.getNow()},r.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},r.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},r.prototype.prevYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,-1)})},r.prototype.nextYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,1)})},r.prototype.today=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.getNow()})},r.prototype.gotoDate=function(t){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.createMarker(t)})},r.prototype.incrementDate=function(t){var e=C(t);e&&(this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.add(this.state.currentDate,e)}))},r.prototype.getDate=function(){return this.dateEnv.toDate(this.state.currentDate)},r.prototype.formatDate=function(t,e){var n=this.dateEnv;return n.format(n.createMarker(t),V(e))},r.prototype.formatRange=function(t,e,n){var i=this.dateEnv;return i.formatRange(i.createMarker(t),i.createMarker(e),V(n,this.opt("defaultRangeSeparator")),n)},r.prototype.formatIso=function(t,e){var n=this.dateEnv;return n.formatIso(n.createMarker(t),{omitTime:e})},r.prototype.windowResize=function(t){!this.isHandlingWindowResize&&this.component&&t.target===window&&(this.isHandlingWindowResize=!0,this.updateSize(),this.publiclyTrigger("windowResize",[this.view]),this.isHandlingWindowResize=!1)},r.prototype.updateSize=function(){this.component&&this.component.updateSize(!0)},r.prototype.registerInteractiveComponent=function(t,e){var n=function(r,t){return{component:r,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter}}(t,e),s=[al,ol].concat(this.pluginSystem.hooks.componentInteractions).map(function(l){return new l(n)});this.interactionsStore[t.uid]=s,xt[t.uid]=n},r.prototype.unregisterInteractiveComponent=function(t){for(var e=0,n=this.interactionsStore[t.uid];e<n.length;e++)n[e].destroy();delete this.interactionsStore[t.uid],delete xt[t.uid]},r.prototype.select=function(t,e){var i=function(r,t,e){var n=function(r,t){var e={},n=se(r,Zs,{},e),i=n.start?t.createMarkerMeta(n.start):null,a=n.end?t.createMarkerMeta(n.end):null,s=n.allDay;return null==s&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),e.range={start:i?i.marker:null,end:a?a.marker:null},e.allDay=s,e}(r,t),i=n.range;if(!i.start)return null;if(!i.end){if(null==e)return null;i.end=t.add(i.start,e)}return n}(null==e?null!=t.start?t:{start:t,end:null}:{start:t,end:e},this.dateEnv,C({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),this.triggerDateSelect(i))},r.prototype.unselect=function(t){this.state.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),this.triggerDateUnselect(t))},r.prototype.triggerDateSelect=function(t,e){var n=S({},this.buildDateSpanApi(t),{jsEvent:e?e.origEvent:null,view:this.view});this.publiclyTrigger("select",[n])},r.prototype.triggerDateUnselect=function(t){this.publiclyTrigger("unselect",[{jsEvent:t?t.origEvent:null,view:this.view}])},r.prototype.triggerDateClick=function(t,e,n,i){var a=S({},this.buildDatePointApi(t),{dayEl:e,jsEvent:i,view:n});this.publiclyTrigger("dateClick",[a])},r.prototype.buildDatePointApi=function(t){for(var e={},n=0,i=this.pluginSystem.hooks.datePointTransforms;n<i.length;n++)S(e,(0,i[n])(t,this));return S(e,function(r,t){return{date:t.toDate(r.range.start),dateStr:t.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}(t,this.dateEnv)),e},r.prototype.buildDateSpanApi=function(t){for(var e={},n=0,i=this.pluginSystem.hooks.dateSpanTransforms;n<i.length;n++)S(e,(0,i[n])(t,this));return S(e,function(r,t){return{start:t.toDate(r.range.start),end:t.toDate(r.range.end),startStr:t.formatIso(r.range.start,{omitTime:r.allDay}),endStr:t.formatIso(r.range.end,{omitTime:r.allDay}),allDay:r.allDay}}(t,this.dateEnv)),e},r.prototype.getNow=function(){var t=this.opt("now");return"function"==typeof t&&(t=t()),null==t?this.dateEnv.createNowMarker():this.dateEnv.createMarker(t)},r.prototype.getDefaultEventEnd=function(t,e){var n=e;return t?(n=A(n),n=this.dateEnv.add(n,this.defaultAllDayEventDuration)):n=this.dateEnv.add(n,this.defaultTimedEventDuration),n},r.prototype.addEvent=function(t,e){if(t instanceof P){var n=t._def;return this.state.eventStore.defs[n.defId]||this.dispatch({type:"ADD_EVENTS",eventStore:We({def:n,instance:t._instance})}),t}var a;if(e instanceof He)a=e.internalEventSource.sourceId;else if(null!=e){var s=this.getEventSourceById(e);if(!s)return console.warn('Could not find an event source with ID "'+e+'"'),null;a=s.internalEventSource.sourceId}var l=Br(t,a,this);return l?(this.dispatch({type:"ADD_EVENTS",eventStore:We(l)}),new P(this,l.def,l.def.recurringDef?null:l.instance)):null},r.prototype.getEventById=function(t){var e=this.state.eventStore,n=e.defs,i=e.instances;for(var a in t=String(t),n){var s=n[a];if(s.publicId===t){if(s.recurringDef)return new P(this,s,null);for(var l in i){var d=i[l];if(d.defId===s.defId)return new P(this,s,d)}}}return null},r.prototype.getEvents=function(){var t=this.state.eventStore,e=t.defs,n=t.instances,i=[];for(var a in n){var s=n[a];i.push(new P(this,e[s.defId],s))}return i},r.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},r.prototype.rerenderEvents=function(){this.dispatch({type:"RESET_EVENTS"})},r.prototype.getEventSources=function(){var t=this.state.eventSources,e=[];for(var n in t)e.push(new He(this,t[n]));return e},r.prototype.getEventSourceById=function(t){var e=this.state.eventSources;for(var n in t=String(t),e)if(e[n].publicId===t)return new He(this,e[n]);return null},r.prototype.addEventSource=function(t){if(t instanceof He)return this.state.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;var e=jr(t,this);return e?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e]}),new He(this,e)):null},r.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},r.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES"})},r.prototype.scrollToTime=function(t){var e=C(t);e&&this.component.view.scrollToDuration(e)},r}();function sl(r,t,e){return new Uo(this,r,t,e,null)}function ll(r,t,e,n,i,a,s){return new qr({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:e,locale:r,weekNumberCalculation:i,firstDay:n,weekLabel:a,cmdFormatter:s})}function dl(r){return new(this.pluginSystem.hooks.themeClasses[r.themeSystem]||xe)(r)}function cl(r){var t=this.tryRerender.bind(this);return null!=r&&(t=dr(t,r)),t}function ul(r){return ae(r,function(t){return t.ui})}function fl(r,t,e){var n={"":t};for(var i in r){var a=r[i];a.sourceId&&e[a.sourceId]&&(n[i]=e[a.sourceId])}return n}Xe.mixInto(ni);var Ze=function(r){function t(e,n){var i=r.call(this,L("div",{className:"fc-view fc-"+e.type+"-view"}))||this;return i.renderDatesMem=_(i.renderDatesWrap,i.unrenderDatesWrap),i.renderBusinessHoursMem=_(i.renderBusinessHours,i.unrenderBusinessHours,[i.renderDatesMem]),i.renderDateSelectionMem=_(i.renderDateSelectionWrap,i.unrenderDateSelectionWrap,[i.renderDatesMem]),i.renderEventsMem=_(i.renderEvents,i.unrenderEvents,[i.renderDatesMem]),i.renderEventSelectionMem=_(i.renderEventSelectionWrap,i.unrenderEventSelectionWrap,[i.renderEventsMem]),i.renderEventDragMem=_(i.renderEventDragWrap,i.unrenderEventDragWrap,[i.renderDatesMem]),i.renderEventResizeMem=_(i.renderEventResizeWrap,i.unrenderEventResizeWrap,[i.renderDatesMem]),i.viewSpec=e,i.type=e.type,n.appendChild(i.el),i.initialize(),i}return X(t,r),t.prototype.initialize=function(){},Object.defineProperty(t.prototype,"activeStart",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEnd",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.end)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentStart",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentEnd",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.end)},enumerable:!0,configurable:!0}),t.prototype.render=function(e,n){this.renderDatesMem(e.dateProfile),this.renderBusinessHoursMem(e.businessHours),this.renderDateSelectionMem(e.dateSelection),this.renderEventsMem(e.eventStore),this.renderEventSelectionMem(e.eventSelection),this.renderEventDragMem(e.eventDrag),this.renderEventResizeMem(e.eventResize)},t.prototype.beforeUpdate=function(){this.addScroll(this.queryScroll())},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderDatesMem.unrender()},t.prototype.updateSize=function(e,n,i){var a=this.context.calendar;e&&this.addScroll(this.queryScroll()),(e||a.isViewUpdated||a.isDatesUpdated||a.isEventsUpdated)&&this.updateBaseSize(e,n,i)},t.prototype.updateBaseSize=function(e,n,i){},t.prototype.renderDatesWrap=function(e){this.renderDates(e),this.addScroll({duration:C(this.context.options.scrollTime)})},t.prototype.unrenderDatesWrap=function(){this.stopNowIndicator(),this.unrenderDates()},t.prototype.renderDates=function(e){},t.prototype.unrenderDates=function(){},t.prototype.renderBusinessHours=function(e){},t.prototype.unrenderBusinessHours=function(){},t.prototype.renderDateSelectionWrap=function(e){e&&this.renderDateSelection(e)},t.prototype.unrenderDateSelectionWrap=function(e){e&&this.unrenderDateSelection(e)},t.prototype.renderDateSelection=function(e){},t.prototype.unrenderDateSelection=function(e){},t.prototype.renderEvents=function(e){},t.prototype.unrenderEvents=function(){},t.prototype.sliceEvents=function(e,n){var i=this.props;return wt(e,i.eventUiBases,i.dateProfile.activeRange,n?this.context.nextDayThreshold:null).fg},t.prototype.renderEventSelectionWrap=function(e){e&&this.renderEventSelection(e)},t.prototype.unrenderEventSelectionWrap=function(e){e&&this.unrenderEventSelection(e)},t.prototype.renderEventSelection=function(e){},t.prototype.unrenderEventSelection=function(e){},t.prototype.renderEventDragWrap=function(e){e&&this.renderEventDrag(e)},t.prototype.unrenderEventDragWrap=function(e){e&&this.unrenderEventDrag(e)},t.prototype.renderEventDrag=function(e){},t.prototype.unrenderEventDrag=function(e){},t.prototype.renderEventResizeWrap=function(e){e&&this.renderEventResize(e)},t.prototype.unrenderEventResizeWrap=function(e){e&&this.unrenderEventResize(e)},t.prototype.renderEventResize=function(e){},t.prototype.unrenderEventResize=function(e){},t.prototype.startNowIndicator=function(e,n){var c,f,p,i=this,a=this.context,s=a.calendar,l=a.dateEnv;a.options.nowIndicator&&!this.initialNowDate&&(c=this.getNowIndicatorUnit(e,n))&&(f=this.updateNowIndicator.bind(this),this.initialNowDate=s.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),p=l.add(l.startOf(this.initialNowDate,c),C(1,c)).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,f(),p="second"===c?1e3:6e4,i.nowIndicatorIntervalID=setInterval(f,p)},p))},t.prototype.updateNowIndicator=function(){this.props.dateProfile&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(qe(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},t.prototype.stopNowIndicator=function(){this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},t.prototype.getNowIndicatorUnit=function(e,n){},t.prototype.renderNowIndicator=function(e){},t.prototype.unrenderNowIndicator=function(){},t.prototype.addScroll=function(e,n){n&&(e.isForced=n),S(this.queuedScroll||(this.queuedScroll={}),e)},t.prototype.popScroll=function(e){this.applyQueuedScroll(e),this.queuedScroll=null},t.prototype.applyQueuedScroll=function(e){this.queuedScroll&&this.applyScroll(this.queuedScroll,e)},t.prototype.queryScroll=function(){var e={};return this.props.dateProfile&&S(e,this.queryDateScroll()),e},t.prototype.applyScroll=function(e,n){var i=e.duration;null!=i&&!e.isForced&&(delete e.duration,this.props.dateProfile&&S(e,this.computeDateScroll(i))),this.props.dateProfile&&this.applyDateScroll(e)},t.prototype.computeDateScroll=function(e){return{}},t.prototype.queryDateScroll=function(){return{}},t.prototype.applyDateScroll=function(e){},t.prototype.scrollToDuration=function(e){this.applyScroll({duration:e},!1)},t}(me);Xe.mixInto(Ze),Ze.prototype.usesMinMaxTime=!1,Ze.prototype.dateProfileGeneratorClass=Xr;var mn=function(){function r(){this.segs=[],this.isSizeDirty=!1}return r.prototype.renderSegs=function(t,e,n){this.context=t,this.rangeUpdated(),e=this.renderSegEls(e,n),this.segs=e,this.attachSegs(e,n),this.isSizeDirty=!0,Dr(this.context,this.segs,Boolean(n))},r.prototype.unrender=function(t,e,n){_r(this.context,this.segs,Boolean(n)),this.detachSegs(this.segs),this.segs=[]},r.prototype.rangeUpdated=function(){var e,n,t=this.context.options;this.eventTimeFormat=V(t.eventTimeFormat||this.computeEventTimeFormat(),t.defaultRangeSeparator),null==(e=t.displayEventTime)&&(e=this.computeDisplayEventTime()),null==(n=t.displayEventEnd)&&(n=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=n},r.prototype.renderSegEls=function(t,e){var i,n="";if(t.length){for(i=0;i<t.length;i++)n+=this.renderSegHtml(t[i],e);Bt(n).forEach(function(a,s){a&&(t[s].el=a)}),t=Sr(this.context,t,Boolean(e))}return t},r.prototype.getSegClasses=function(t,e,n,i){var a=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(t.eventRange.ui.classNames);return e&&a.push("fc-draggable"),n&&a.push("fc-resizable"),i&&(a.push("fc-mirror"),i.isDragging&&a.push("fc-dragging"),i.isResizing&&a.push("fc-resizing")),a},r.prototype.getTimeText=function(t,e,n){var i=t.def,a=t.instance;return this._getTimeText(a.range.start,i.hasEnd?a.range.end:null,i.allDay,e,n,a.forcedStartTzo,a.forcedEndTzo)},r.prototype._getTimeText=function(t,e,n,i,a,s,l){var d=this.context.dateEnv;return null==i&&(i=this.eventTimeFormat),null==a&&(a=this.displayEventEnd),this.displayEventTime&&!n?a&&e?d.formatRange(t,e,i,{forcedStartTzo:s,forcedEndTzo:l}):d.format(t,i,{forcedTzo:s}):""},r.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0}},r.prototype.computeDisplayEventTime=function(){return!0},r.prototype.computeDisplayEventEnd=function(){return!0},r.prototype.getSkinCss=function(t){return{"background-color":t.backgroundColor,"border-color":t.borderColor,color:t.textColor}},r.prototype.sortEventSegs=function(t){var e=this.context.eventOrderSpecs,n=t.map(ri);return n.sort(function(i,a){return sr(i,a,e)}),n.map(function(i){return i._seg})},r.prototype.computeSizes=function(t){(t||this.isSizeDirty)&&this.computeSegSizes(this.segs)},r.prototype.assignSizes=function(t){(t||this.isSizeDirty)&&(this.assignSegSizes(this.segs),this.isSizeDirty=!1)},r.prototype.computeSegSizes=function(t){},r.prototype.assignSegSizes=function(t){},r.prototype.hideByHash=function(t){if(t)for(var e=0,n=this.segs;e<n.length;e++){var i=n[e];t[i.eventRange.instance.instanceId]&&(i.el.style.visibility="hidden")}},r.prototype.showByHash=function(t){if(t)for(var e=0,n=this.segs;e<n.length;e++){var i=n[e];t[i.eventRange.instance.instanceId]&&(i.el.style.visibility="")}},r.prototype.selectByInstanceId=function(t){if(t)for(var e=0,n=this.segs;e<n.length;e++){var i=n[e],a=i.eventRange.instance;a&&a.instanceId===t&&i.el&&i.el.classList.add("fc-selected")}},r.prototype.unselectByInstanceId=function(t){if(t)for(var e=0,n=this.segs;e<n.length;e++){var i=n[e];i.el&&i.el.classList.remove("fc-selected")}},r}();function ri(r){var t=r.eventRange.def,e=r.eventRange.instance.range,n=e.start?e.start.valueOf():0,i=e.end?e.end.valueOf():0;return S({},t.extendedProps,t,{id:t.publicId,start:n,end:i,duration:i-n,allDay:Number(t.allDay),_seg:r})}var ii=function(){function r(){this.fillSegTag="div",this.dirtySizeFlags={},this.containerElsByType={},this.segsByType={}}return r.prototype.getSegsByType=function(t){return this.segsByType[t]||[]},r.prototype.renderSegs=function(t,e,n){var i;this.context=e;var a=this.renderSegEls(t,n),s=this.attachSegs(t,a);s&&(i=this.containerElsByType[t]||(this.containerElsByType[t]=[])).push.apply(i,s),this.segsByType[t]=a,"bgEvent"===t&&Dr(e,a,!1),this.dirtySizeFlags[t]=!0},r.prototype.unrender=function(t,e){var n=this.segsByType[t];n&&("bgEvent"===t&&_r(e,n,!1),this.detachSegs(t,n))},r.prototype.renderSegEls=function(t,e){var a,n=this,i="";if(e.length){for(a=0;a<e.length;a++)i+=this.renderSegHtml(t,e[a]);Bt(i).forEach(function(s,l){s&&(e[l].el=s)}),"bgEvent"===t&&(e=Sr(this.context,e,!1)),e=e.filter(function(s){return lt(s.el,n.fillSegTag)})}return e},r.prototype.renderSegHtml=function(t,e){var n=null,i=[];return"highlight"!==t&&"businessHours"!==t&&(n={"background-color":e.eventRange.ui.backgroundColor}),"highlight"!==t&&(i=i.concat(e.eventRange.ui.classNames)),i.push("businessHours"===t?"fc-bgevent":"fc-"+t.toLowerCase()),"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(n?' style="'+an(n)+'"':"")+"></"+this.fillSegTag+">"},r.prototype.detachSegs=function(t,e){var n=this.containerElsByType[t];n&&(n.forEach(z),delete this.containerElsByType[t])},r.prototype.computeSizes=function(t){for(var e in this.segsByType)(t||this.dirtySizeFlags[e])&&this.computeSegSizes(this.segsByType[e])},r.prototype.assignSizes=function(t){for(var e in this.segsByType)(t||this.dirtySizeFlags[e])&&this.assignSegSizes(this.segsByType[e]);this.dirtySizeFlags={}},r.prototype.computeSegSizes=function(t){},r.prototype.assignSegSizes=function(t){},r}(),ai=function(){function r(t){this.emitter=new Xe}return r.prototype.destroy=function(){},r.prototype.setMirrorIsVisible=function(t){},r.prototype.setMirrorNeedsRevert=function(t){},r.prototype.setAutoScrollEnabled=function(t){},r}(),pl={startTime:C,duration:C,create:Boolean,sourceId:String},hl={create:!0};function yn(r){var t={},e=se(r,pl,hl,t);return e.leftoverProps=t,e}function gl(r,t,e,n,i,a,s,l){var h,d=a.dateEnv,c=a.theme,f=a.options,p=ge(t.activeRange,r),v=["fc-day-header",c.getClass("widgetHeader")];return h="function"==typeof f.columnHeaderHtml?f.columnHeaderHtml(d.toDate(r)):M("function"==typeof f.columnHeaderText?f.columnHeaderText(d.toDate(r)):d.format(r,i)),e?v=v.concat(dn(r,t,a,!0)):v.push("fc-"+Jn[r.getUTCDay()]),'<th class="'+v.join(" ")+'"'+(p&&e?' data-date="'+d.formatIso(r,{omitTime:!0})+'"':"")+(s>1?' colspan="'+s+'"':"")+(l?" "+l:"")+">"+(p?Ie(f,d,{date:r,forceOff:!e||1===n},h):h)+"</th>"}var si=function(r){function t(e){var n=r.call(this)||this;return n.renderSkeleton=_(n._renderSkeleton,n._unrenderSkeleton),n.parentEl=e,n}return X(t,r),t.prototype.render=function(e,n){var i=e.dates,a=e.datesRepDistinctDays,s=[];this.renderSkeleton(n),e.renderIntroHtml&&s.push(e.renderIntroHtml());for(var l=V(n.options.columnHeaderFormat||function(r,t){return!r||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"}}(a,i.length)),d=0,c=i;d<c.length;d++)s.push(gl(c[d],e.dateProfile,a,i.length,l,n));n.isRtl&&s.reverse(),this.thead.innerHTML="<tr>"+s.join("")+"</tr>"},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderSkeleton.unrender()},t.prototype._renderSkeleton=function(e){var n=e.theme,i=this.parentEl;i.innerHTML="",i.appendChild(this.el=_e('<div class="fc-row '+n.getClass("headerRow")+'"><table class="'+n.getClass("tableGrid")+'"><thead></thead></table></div>')),this.thead=this.el.querySelector("thead")},t.prototype._unrenderSkeleton=function(){z(this.el)},t}(Ke),li=function(){function r(t,e){for(var n=t.start,i=t.end,a=[],s=[],l=-1;n<i;)e.isHiddenDay(n)?a.push(l+.5):(l++,a.push(l),s.push(n)),n=q(n,1);this.dates=s,this.indices=a,this.cnt=s.length}return r.prototype.sliceRange=function(t){var e=this.getDateDayIndex(t.start),n=this.getDateDayIndex(q(t.end,-1)),i=Math.max(0,e),a=Math.min(this.cnt-1,n);return(i=Math.ceil(i))<=(a=Math.floor(a))?{firstIndex:i,lastIndex:a,isStart:e===i,isEnd:n===a}:null},r.prototype.getDateDayIndex=function(t){var e=this.indices,n=Math.floor(pe(this.dates[0],t));return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},r}(),di=function(){function r(t,e){var i,a,s,n=t.dates;if(e){for(a=n[0].getUTCDay(),i=1;i<n.length&&n[i].getUTCDay()!==a;i++);s=Math.ceil(n.length/i)}else s=1,i=n.length;this.rowCnt=s,this.colCnt=i,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return r.prototype.buildCells=function(){for(var t=[],e=0;e<this.rowCnt;e++){for(var n=[],i=0;i<this.colCnt;i++)n.push(this.buildCell(e,i));t.push(n)}return t},r.prototype.buildCell=function(t,e){return{date:this.daySeries.dates[t*this.colCnt+e]}},r.prototype.buildHeaderDates=function(){for(var t=[],e=0;e<this.colCnt;e++)t.push(this.cells[0][e].date);return t},r.prototype.sliceRange=function(t){var e=this.colCnt,n=this.daySeries.sliceRange(t),i=[];if(n)for(var a=n.firstIndex,s=n.lastIndex,l=a;l<=s;){var d=Math.floor(l/e),c=Math.min((d+1)*e,s+1);i.push({row:d,firstCol:l%e,lastCol:(c-1)%e,isStart:n.isStart&&l===a,isEnd:n.isEnd&&c-1===s}),l=c}return i},r}(),ci=function(){function r(){this.sliceBusinessHours=I(this._sliceBusinessHours),this.sliceDateSelection=I(this._sliceDateSpan),this.sliceEventStore=I(this._sliceEventStore),this.sliceEventDrag=I(this._sliceInteraction),this.sliceEventResize=I(this._sliceInteraction)}return r.prototype.sliceProps=function(t,e,n,i,a){for(var s=[],l=5;l<arguments.length;l++)s[l-5]=arguments[l];var d=t.eventUiBases,c=this.sliceEventStore.apply(this,[t.eventStore,d,e,n,a].concat(s));return{dateSelectionSegs:this.sliceDateSelection.apply(this,[t.dateSelection,d,a].concat(s)),businessHourSegs:this.sliceBusinessHours.apply(this,[t.businessHours,e,n,i,a].concat(s)),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag.apply(this,[t.eventDrag,d,e,n,a].concat(s)),eventResize:this.sliceEventResize.apply(this,[t.eventResize,d,e,n,a].concat(s)),eventSelection:t.eventSelection}},r.prototype.sliceNowDate=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this._sliceDateSpan.apply(this,[{range:{start:t,end:qe(t,1)},allDay:!1},{},e].concat(n))},r.prototype._sliceBusinessHours=function(t,e,n,i,a){for(var s=[],l=5;l<arguments.length;l++)s[l-5]=arguments[l];return t?this._sliceEventStore.apply(this,[Ne(t,bn(e,Boolean(n)),i),{},e,n,a].concat(s)).bg:[]},r.prototype._sliceEventStore=function(t,e,n,i,a){for(var s=[],l=5;l<arguments.length;l++)s[l-5]=arguments[l];if(t){var d=wt(t,e,bn(n,Boolean(i)),i);return{bg:this.sliceEventRanges(d.bg,a,s),fg:this.sliceEventRanges(d.fg,a,s)}}return{bg:[],fg:[]}},r.prototype._sliceInteraction=function(t,e,n,i,a){for(var s=[],l=5;l<arguments.length;l++)s[l-5]=arguments[l];if(!t)return null;var d=wt(t.mutatedEvents,e,bn(n,Boolean(i)),i);return{segs:this.sliceEventRanges(d.fg,a,s),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent,sourceSeg:t.origSeg}},r.prototype._sliceDateSpan=function(t,e,n){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];if(!t)return[];for(var s=qs(t,e,n.context.calendar),l=this.sliceRange.apply(this,[t.range].concat(i)),d=0,c=l;d<c.length;d++){var f=c[d];f.component=n,f.eventRange=s}return l},r.prototype.sliceEventRanges=function(t,e,n){for(var i=[],a=0,s=t;a<s.length;a++)i.push.apply(i,this.sliceEventRange(s[a],e,n));return i},r.prototype.sliceEventRange=function(t,e,n){for(var i=this.sliceRange.apply(this,[t.range].concat(n)),a=0,s=i;a<s.length;a++){var l=s[a];l.component=e,l.eventRange=t,l.isStart=t.isStart&&l.isStart,l.isEnd=t.isEnd&&l.isEnd}return i},r}();function bn(r,t){var e=r.activeRange;return t?e:{start:qe(e.start,r.minTime.milliseconds),end:qe(e.end,r.maxTime.milliseconds-864e5)}}const ml=Object.prototype.hasOwnProperty;function Mt(r){return Array.isArray(r)?r.map(Mt):r instanceof Date?new Date(r.valueOf()):"object"==typeof r&&r?function(r,t){const e={};for(const n in r)ml.call(r,n)&&(e[n]=t(r[n],n));return e}(r,Mt):r}const bl=["header","footer","customButtons","buttonIcons","themeSystem","bootstrapFontAwesome","firstDay","dir","weekends","hiddenDays","fixedWeekCount","weekNumbers","weekNumbersWithinDays","weekNumberCalculation","businessHours","showNonCurrentDates","height","contentHeight","aspectRatio","handleWindowResize","windowResizeDelay","eventLimit","eventLimitClick","timeZone","now","defaultView","allDaySlot","allDayText","slotDuration","slotLabelFormat","slotLabelInterval","snapDuration","scrollTime","minTime","maxTime","slotEventOverlap","listDayFormat","listDayAltFormat","noEventsMessage","defaultDate","nowIndicator","visibleRange","validRange","dateIncrement","dateAlignment","duration","dayCount","locales","locale","eventTimeFormat","columnHeader","columnHeaderFormat","columnHeaderText","columnHeaderHtml","titleFormat","weekLabel","displayEventTime","displayEventEnd","eventLimitText","dayPopoverFormat","navLinks","selectable","selectMirror","selectMinDistance","unselectAuto","unselectCancel","defaultAllDayEventDuration","defaultTimedEventDuration","cmdFormatter","defaultRangeSeparator","selectConstraint","selectOverlap","selectAllow","editable","eventStartEditable","eventDurationEditable","eventConstraint","eventOverlap","eventAllow","eventClassName","eventClassNames","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","events","eventSources","allDayDefault","startParam","endParam","lazyFetching","nextDayThreshold","eventOrder","rerenderDelay","dragRevertDuration","dragScroll","longPressDelay","eventLongPressDelay","droppable","dropAccept","eventDataTransform","allDayMaintainDuration","eventResizableFromStart","timeGridEventMinHeight","allDayHtml","eventDragMinDistance","eventSourceFailure","eventSourceSuccess","forceEventDuration","progressiveEventRendering","selectLongPressDelay","selectMinDistance","timeZoneParam","titleRangeSeparator","buttonText","views","plugins","schedulerLicenseKey","resources","resourceLabelText","resourceOrder","filterResourcesWithEvents","resourceText","resourceGroupField","resourceGroupText","resourceAreaWidth","resourceColumns","resourcesInitiallyExpanded","slotWidth","datesAboveResources","googleCalendarApiKey","refetchResourcesOnNavigate","eventResourceEditable"],En={header:!0,footer:!0,events:!0,eventSources:!0,resources:!0},El=["windowResize","dateClick","eventClick","navLinkDayClick","navLinkWeekClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","eventPositioned","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","eventResize","drop","eventReceive","eventLeave","_destroyed","viewSkeletonRender","viewSkeletonDestroy","datesRender","datesDestroy","dayRender","eventRender","eventDestroy","resourceRender"];let Sl=(()=>{let r=class{constructor(e){this.element=e,this.dirtyProps={},this.deepCopies={},this.windowResize=new o.vpe,this.dateClick=new o.vpe,this.eventClick=new o.vpe,this.eventMouseEnter=new o.vpe,this.eventMouseLeave=new o.vpe,this.select=new o.vpe,this.unselect=new o.vpe,this.loading=new o.vpe,this.eventPositioned=new o.vpe,this.eventDragStart=new o.vpe,this.eventDragStop=new o.vpe,this.eventDrop=new o.vpe,this.eventResizeStart=new o.vpe,this.eventResizeStop=new o.vpe,this.eventResize=new o.vpe,this.drop=new o.vpe,this.eventReceive=new o.vpe,this.eventLeave=new o.vpe,this._destroyed=new o.vpe,this.navLinkDayClick=new o.vpe,this.navLinkWeekClick=new o.vpe,this.viewSkeletonRender=new o.vpe,this.viewSkeletonDestroy=new o.vpe,this.datesRender=new o.vpe,this.datesDestroy=new o.vpe,this.dayRender=new o.vpe,this.eventRender=new o.vpe,this.eventDestroy=new o.vpe,this.resourceRender=new o.vpe}ngAfterViewInit(){this.calendar=new ni(this.element.nativeElement,this.buildOptions()),this.calendar.render()}buildOptions(){const e={};return El.forEach(n=>{e[n]=(...i)=>{this[n].emit(...i)}}),bl.forEach(n=>{let i=this[n];void 0!==i&&(this.deepChangeDetection&&En[n]&&(i=Mt(i),this.deepCopies[n]=i),e[n]=i)}),e}ngDoCheck(){if(this.calendar&&this.deepChangeDetection){const{deepCopies:e}=this;for(const n in En)if(En.hasOwnProperty(n)){const i=this[n];if(void 0!==i&&!Hn()(i,e[n])){const a=Mt(i);e[n]=a,this.dirtyProps[n]=a}}}}ngOnChanges(e){if(this.calendar)for(const n in e)e.hasOwnProperty(n)&&void 0===this.deepCopies[n]&&(this.dirtyProps[n]=e[n].currentValue)}ngAfterContentChecked(){const{dirtyProps:e}=this;Object.keys(e).length>0&&(this.dirtyProps={},this.calendar.mutateOptions(e,[],!1,Hn()))}ngOnDestroy(){this.calendar&&this.calendar.destroy(),this.calendar=null}getApi(){return this.calendar}};return r.\u0275fac=function(e){return new(e||r)(o.Y36(o.SBq))},r.\u0275cmp=o.Xpm({type:r,selectors:[["full-calendar"]],inputs:{deepChangeDetection:"deepChangeDetection",header:"header",footer:"footer",customButtons:"customButtons",buttonIcons:"buttonIcons",themeSystem:"themeSystem",bootstrapFontAwesome:"bootstrapFontAwesome",firstDay:"firstDay",dir:"dir",weekends:"weekends",hiddenDays:"hiddenDays",fixedWeekCount:"fixedWeekCount",weekNumbers:"weekNumbers",weekNumbersWithinDays:"weekNumbersWithinDays",weekNumberCalculation:"weekNumberCalculation",businessHours:"businessHours",showNonCurrentDates:"showNonCurrentDates",height:"height",contentHeight:"contentHeight",aspectRatio:"aspectRatio",handleWindowResize:"handleWindowResize",windowResizeDelay:"windowResizeDelay",eventLimit:"eventLimit",eventLimitClick:"eventLimitClick",timeZone:"timeZone",now:"now",defaultView:"defaultView",allDaySlot:"allDaySlot",allDayText:"allDayText",slotDuration:"slotDuration",slotLabelFormat:"slotLabelFormat",slotLabelInterval:"slotLabelInterval",snapDuration:"snapDuration",scrollTime:"scrollTime",minTime:"minTime",maxTime:"maxTime",slotEventOverlap:"slotEventOverlap",listDayFormat:"listDayFormat",listDayAltFormat:"listDayAltFormat",noEventsMessage:"noEventsMessage",defaultDate:"defaultDate",nowIndicator:"nowIndicator",visibleRange:"visibleRange",validRange:"validRange",dateIncrement:"dateIncrement",dateAlignment:"dateAlignment",duration:"duration",dayCount:"dayCount",locales:"locales",locale:"locale",eventTimeFormat:"eventTimeFormat",columnHeader:"columnHeader",columnHeaderFormat:"columnHeaderFormat",columnHeaderText:"columnHeaderText",columnHeaderHtml:"columnHeaderHtml",titleFormat:"titleFormat",weekLabel:"weekLabel",displayEventTime:"displayEventTime",displayEventEnd:"displayEventEnd",eventLimitText:"eventLimitText",dayPopoverFormat:"dayPopoverFormat",navLinks:"navLinks",selectable:"selectable",selectMirror:"selectMirror",unselectAuto:"unselectAuto",unselectCancel:"unselectCancel",defaultAllDayEventDuration:"defaultAllDayEventDuration",defaultTimedEventDuration:"defaultTimedEventDuration",cmdFormatter:"cmdFormatter",defaultRangeSeparator:"defaultRangeSeparator",selectConstraint:"selectConstraint",selectOverlap:"selectOverlap",selectAllow:"selectAllow",selectMinDistance:"selectMinDistance",editable:"editable",eventStartEditable:"eventStartEditable",eventDurationEditable:"eventDurationEditable",eventConstraint:"eventConstraint",eventOverlap:"eventOverlap",eventAllow:"eventAllow",eventClassName:"eventClassName",eventClassNames:"eventClassNames",eventBackgroundColor:"eventBackgroundColor",eventBorderColor:"eventBorderColor",eventTextColor:"eventTextColor",eventColor:"eventColor",events:"events",eventSources:"eventSources",allDayDefault:"allDayDefault",startParam:"startParam",endParam:"endParam",lazyFetching:"lazyFetching",nextDayThreshold:"nextDayThreshold",eventOrder:"eventOrder",rerenderDelay:"rerenderDelay",dragRevertDuration:"dragRevertDuration",dragScroll:"dragScroll",longPressDelay:"longPressDelay",eventLongPressDelay:"eventLongPressDelay",droppable:"droppable",dropAccept:"dropAccept",eventDataTransform:"eventDataTransform",allDayMaintainDuration:"allDayMaintainDuration",eventResizableFromStart:"eventResizableFromStart",timeGridEventMinHeight:"timeGridEventMinHeight",allDayHtml:"allDayHtml",eventDragMinDistance:"eventDragMinDistance",eventSourceFailure:"eventSourceFailure",eventSourceSuccess:"eventSourceSuccess",forceEventDuration:"forceEventDuration",progressiveEventRendering:"progressiveEventRendering",selectLongPressDelay:"selectLongPressDelay",timeZoneParam:"timeZoneParam",titleRangeSeparator:"titleRangeSeparator",buttonText:"buttonText",views:"views",plugins:"plugins",schedulerLicenseKey:"schedulerLicenseKey",resources:"resources",resourceLabelText:"resourceLabelText",resourceOrder:"resourceOrder",filterResourcesWithEvents:"filterResourcesWithEvents",resourceText:"resourceText",resourceGroupField:"resourceGroupField",resourceGroupText:"resourceGroupText",resourceAreaWidth:"resourceAreaWidth",resourceColumns:"resourceColumns",resourcesInitiallyExpanded:"resourcesInitiallyExpanded",slotWidth:"slotWidth",datesAboveResources:"datesAboveResources",googleCalendarApiKey:"googleCalendarApiKey",refetchResourcesOnNavigate:"refetchResourcesOnNavigate",eventResourceEditable:"eventResourceEditable"},outputs:{windowResize:"windowResize",dateClick:"dateClick",eventClick:"eventClick",eventMouseEnter:"eventMouseEnter",eventMouseLeave:"eventMouseLeave",select:"select",unselect:"unselect",loading:"loading",eventPositioned:"eventPositioned",eventDragStart:"eventDragStart",eventDragStop:"eventDragStop",eventDrop:"eventDrop",eventResizeStart:"eventResizeStart",eventResizeStop:"eventResizeStop",eventResize:"eventResize",drop:"drop",eventReceive:"eventReceive",eventLeave:"eventLeave",_destroyed:"_destroyed",navLinkDayClick:"navLinkDayClick",navLinkWeekClick:"navLinkWeekClick",viewSkeletonRender:"viewSkeletonRender",viewSkeletonDestroy:"viewSkeletonDestroy",datesRender:"datesRender",datesDestroy:"datesDestroy",dayRender:"dayRender",eventRender:"eventRender",eventDestroy:"eventDestroy",resourceRender:"resourceRender"},features:[o.TTD],decls:0,vars:0,template:function(e,n){},encapsulation:2}),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"deepChangeDetection",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"header",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"footer",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"customButtons",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"buttonIcons",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"themeSystem",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"bootstrapFontAwesome",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"firstDay",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"dir",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"weekends",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Array)],r.prototype,"hiddenDays",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"fixedWeekCount",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"weekNumbers",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"weekNumbersWithinDays",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"weekNumberCalculation",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"businessHours",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"showNonCurrentDates",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"height",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"contentHeight",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"aspectRatio",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"handleWindowResize",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"windowResizeDelay",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventLimit",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventLimitClick",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"timeZone",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"now",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"defaultView",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"allDaySlot",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"allDayText",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"slotDuration",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"slotLabelFormat",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"slotLabelInterval",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"snapDuration",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"scrollTime",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"minTime",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"maxTime",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"slotEventOverlap",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"listDayFormat",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"listDayAltFormat",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"noEventsMessage",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"defaultDate",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"nowIndicator",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"visibleRange",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"validRange",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"dateIncrement",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"dateAlignment",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"duration",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"dayCount",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Array)],r.prototype,"locales",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"locale",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventTimeFormat",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"columnHeader",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"columnHeaderFormat",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"columnHeaderText",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"columnHeaderHtml",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"titleFormat",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"weekLabel",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"displayEventTime",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"displayEventEnd",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventLimitText",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"dayPopoverFormat",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"navLinks",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"selectable",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"selectMirror",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"unselectAuto",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"unselectCancel",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"defaultAllDayEventDuration",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"defaultTimedEventDuration",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"cmdFormatter",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"defaultRangeSeparator",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"selectConstraint",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"selectOverlap",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"selectAllow",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"selectMinDistance",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"editable",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"eventStartEditable",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"eventDurationEditable",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventConstraint",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventOverlap",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventAllow",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventClassName",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventClassNames",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"eventBackgroundColor",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"eventBorderColor",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"eventTextColor",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"eventColor",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"events",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Array)],r.prototype,"eventSources",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"allDayDefault",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"startParam",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"endParam",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"lazyFetching",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"nextDayThreshold",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventOrder",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"rerenderDelay",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"dragRevertDuration",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"dragScroll",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"longPressDelay",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"eventLongPressDelay",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"droppable",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"dropAccept",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventDataTransform",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"allDayMaintainDuration",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"eventResizableFromStart",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"timeGridEventMinHeight",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"allDayHtml",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"eventDragMinDistance",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventSourceFailure",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"eventSourceSuccess",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"forceEventDuration",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"progressiveEventRendering",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Number)],r.prototype,"selectLongPressDelay",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"timeZoneParam",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"titleRangeSeparator",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"buttonText",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"views",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Array)],r.prototype,"plugins",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"schedulerLicenseKey",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"resources",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"resourceLabelText",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"resourceOrder",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"filterResourcesWithEvents",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"resourceText",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"resourceGroupField",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"resourceGroupText",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"resourceAreaWidth",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"resourceColumns",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"resourcesInitiallyExpanded",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"slotWidth",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Object)],r.prototype,"datesAboveResources",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",String)],r.prototype,"googleCalendarApiKey",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"refetchResourcesOnNavigate",void 0),(0,u.gn)([(0,o.IIB)(),(0,u.w6)("design:type",Boolean)],r.prototype,"eventResourceEditable",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"windowResize",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"dateClick",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventClick",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventMouseEnter",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventMouseLeave",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"select",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"unselect",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"loading",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventPositioned",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventDragStart",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventDragStop",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventDrop",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventResizeStart",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventResizeStop",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventResize",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"drop",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventReceive",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventLeave",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"_destroyed",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"navLinkDayClick",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"navLinkWeekClick",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"viewSkeletonRender",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"viewSkeletonDestroy",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"datesRender",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"datesDestroy",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"dayRender",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventRender",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"eventDestroy",void 0),(0,u.gn)([(0,o.r_U)(),(0,u.w6)("design:type",Object)],r.prototype,"resourceRender",void 0),r=(0,u.gn)([(0,u.w6)("design:paramtypes",[o.SBq])],r),r})(),wl=(()=>{let r=class{};return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[]]}),r})();var re=b(8583),x=b(3679);let Tl=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[re.ez,x.UX,Q.ot,Ge.FA,K.lN,ze.c,Ye.Ps,Fn]]}),r})();var Cl=b(4466),ui=b(7636),Sn=function(r,t){return(Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])})(r,t)};function $(r,t){function e(){this.constructor=r}Sn(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var et=function(){return(et=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Rl=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $(t,r),t.prototype.buildRenderRange=function(e,n,i){var c,a=this.dateEnv,s=r.prototype.buildRenderRange.call(this,e,n,i),l=s.start,d=s.end;return/^(year|month)$/.test(n)&&(l=a.startOfWeek(l),(c=a.startOfWeek(d)).valueOf()!==d.valueOf()&&(d=Qn(c,1))),this.options.monthMode&&this.options.fixedWeekCount&&(d=Qn(d,6-Math.ceil(function(r,t){return pe(r,t)/7}(l,d)))),{start:l,end:d}},t}(Xr),Il=function(){function r(t){var e=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(n){e.el&&!e.el.contains(n.target)&&e.hide()},this.options=t}return r.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},r.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},r.prototype.render=function(){var t=this,e=this.options,n=this.el=L("div",{className:"fc-popover "+(e.className||""),style:{top:"0",left:"0"}});"function"==typeof e.content&&e.content(n),e.parentEl.appendChild(n),ct(n,"click",".fc-close",function(i){t.hide()}),e.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},r.prototype.destroy=function(){this.hide(),this.el&&(z(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},r.prototype.position=function(){var s,l,t=this.options,e=this.el,n=e.getBoundingClientRect(),i=Te(e.offsetParent),a=function(r){return Wn(r).map(function(t){return Yn(t)}).concat({left:window.pageXOffset,right:window.pageXOffset+document.documentElement.clientWidth,top:window.pageYOffset,bottom:window.pageYOffset+document.documentElement.clientHeight}).reduce(function(t,e){return Un(t,e)||e})}(t.parentEl);s=t.top||0,l=void 0!==t.left?t.left:void 0!==t.right?t.right-n.width:0,s=Math.min(s,a.bottom-n.height-this.margin),s=Math.max(s,a.top+this.margin),l=Math.min(l,a.right-n.width-this.margin),l=Math.max(l,a.left+this.margin),Z(e,{top:s-i.top,left:l-i.left})},r.prototype.trigger=function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},r}(),fi=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $(t,r),t.prototype.renderSegHtml=function(e,n){var m,y,i=this.context,a=e.eventRange,s=a.def,l=a.ui,d=s.allDay,c=Tr(i,s,l),f=d&&e.isStart&&Cr(i,0,l),p=d&&e.isEnd&&Rr(0,0,l),v=this.getSegClasses(e,c,f||p,n),h=an(this.getSkinCss(l)),g="";return v.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(m=this.getTimeText(a))&&(g='<span class="fc-time">'+M(m)+"</span>"),y='<span class="fc-title">'+(M(s.title||"")||"&nbsp;")+"</span>",'<a class="'+v.join(" ")+'"'+(s.url?' href="'+M(s.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+("rtl"===i.options.dir?y+" "+g:g+" "+y)+"</div>"+(f?'<div class="fc-resizer fc-start-resizer"></div>':"")+(p?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},t.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},t.prototype.computeDisplayEventEnd=function(){return!1},t}(mn),pi=function(r){function t(e){var n=r.call(this)||this;return n.dayGrid=e,n}return $(t,r),t.prototype.attachSegs=function(e,n){var i=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach(function(a,s){a.querySelector(".fc-content-skeleton > table").appendChild(i[s].tbodyEl)}),n||this.dayGrid.removeSegPopover()},t.prototype.detachSegs=function(){for(var n,e=this.rowStructs||[];n=e.pop();)z(n.tbodyEl);this.rowStructs=null},t.prototype.renderSegRows=function(e){var i,a,n=[];for(i=this.groupSegRows(e),a=0;a<i.length;a++)n.push(this.renderSegRow(a,i[a]));return n},t.prototype.renderSegRow=function(e,n){var h,g,m,y,E,w,D,i=this.context.isRtl,a=this.dayGrid,s=a.colCnt,l=this.buildSegLevels(n),d=Math.max(1,l.length),c=document.createElement("tbody"),f=[],p=[],v=[];function T(H){for(;m<H;)(D=(v[h-1]||[])[m])?D.rowSpan=(D.rowSpan||1)+1:(D=document.createElement("td"),y.appendChild(D)),p[h][m]=D,v[h][m]=D,m++}for(h=0;h<d;h++){if(g=l[h],m=0,y=document.createElement("tr"),f.push([]),p.push([]),v.push([]),g)for(E=0;E<g.length;E++){w=g[E];var N=i?s-1-w.lastCol:w.firstCol,k=i?s-1-w.firstCol:w.lastCol;for(T(N),D=L("td",{className:"fc-event-container"},w.el),N!==k?D.colSpan=k-N+1:v[h][m]=D;m<=k;)p[h][m]=D,f[h][m]=w,m++;y.appendChild(D)}T(s);var O=a.renderProps.renderIntroHtml();O&&(i?ee(y,O):st(y,O)),c.appendChild(y)}return{row:e,tbodyEl:c,cellMatrix:p,segMatrix:f,segLevels:l,segs:n}},t.prototype.buildSegLevels=function(e){var s,l,d,n=this.context.isRtl,i=this.dayGrid.colCnt,a=[];for(e=this.sortEventSegs(e),s=0;s<e.length;s++){for(l=e[s],d=0;d<a.length&&xl(l,a[d]);d++);l.level=d,l.leftCol=n?i-1-l.lastCol:l.firstCol,l.rightCol=n?i-1-l.firstCol:l.lastCol,(a[d]||(a[d]=[])).push(l)}for(d=0;d<a.length;d++)a[d].sort(Ml);return a},t.prototype.groupSegRows=function(e){var i,n=[];for(i=0;i<this.dayGrid.rowCnt;i++)n.push([]);for(i=0;i<e.length;i++)n[e[i].row].push(e[i]);return n},t.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},t}(fi);function xl(r,t){var e,n;for(e=0;e<t.length;e++)if((n=t[e]).firstCol<=r.lastCol&&n.lastCol>=r.firstCol)return!0;return!1}function Ml(r,t){return r.leftCol-t.leftCol}var kl=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $(t,r),t.prototype.attachSegs=function(e,n){var i=n.sourceSeg,a=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach(function(s,l){var c,f,d=_e('<div class="fc-mirror-skeleton"><table></table></div>');i&&i.row===l?c=i.el:(c=s.querySelector(".fc-content-skeleton tbody"))||(c=s.querySelector(".fc-content-skeleton table")),f=c.getBoundingClientRect().top-s.getBoundingClientRect().top,d.style.top=f+"px",d.querySelector("table").appendChild(a[l].tbodyEl),s.appendChild(d)})},t}(pi),hi='<td style="pointer-events:none"></td>',Ol=function(r){function t(e){var n=r.call(this)||this;return n.fillSegTag="td",n.dayGrid=e,n}return $(t,r),t.prototype.renderSegs=function(e,n,i){"bgEvent"===e&&(i=i.filter(function(a){return a.eventRange.def.allDay})),r.prototype.renderSegs.call(this,e,n,i)},t.prototype.attachSegs=function(e,n){var a,s,l,i=[];for(a=0;a<n.length;a++)l=this.renderFillRow(e,s=n[a]),this.dayGrid.rowEls[s.row].appendChild(l),i.push(l);return i},t.prototype.renderFillRow=function(e,n){var v,h,i=this.dayGrid,a=this.context.isRtl,s=i.colCnt,c=a?s-1-n.lastCol:n.firstCol,f=(a?s-1-n.firstCol:n.lastCol)+1;h=(v=_e('<div class="fc-'+("businessHours"===e?"bgevent":e.toLowerCase())+'-skeleton"><table><tr></tr></table></div>')).getElementsByTagName("tr")[0],c>0&&ee(h,new Array(c+1).join(hi)),n.el.colSpan=f-c,h.appendChild(n.el),f<s&&ee(h,new Array(s-f+1).join(hi));var g=i.renderProps.renderIntroHtml();return g&&(a?ee(h,g):st(h,g)),v},t}(ii),Al=function(r){function t(e){var n=r.call(this,e)||this,i=n.eventRenderer=new Pl(n),a=n.renderFrame=_(n._renderFrame);return n.renderFgEvents=_(i.renderSegs.bind(i),i.unrender.bind(i),[a]),n.renderEventSelection=_(i.selectByInstanceId.bind(i),i.unselectByInstanceId.bind(i),[n.renderFgEvents]),n.renderEventDrag=_(i.hideByHash.bind(i),i.showByHash.bind(i),[a]),n.renderEventResize=_(i.hideByHash.bind(i),i.showByHash.bind(i),[a]),n}return $(t,r),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.el,useEventCenter:!1})},t.prototype.render=function(e,n){this.renderFrame(e.date),this.renderFgEvents(n,e.fgSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDragInstances),this.renderEventResize(e.eventResizeInstances)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderFrame.unrender(),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype._renderFrame=function(e){var n=this.context,i=n.theme,l=n.dateEnv.format(e,V(n.options.dayPopoverFormat));this.el.innerHTML='<div class="fc-header '+i.getClass("popoverHeader")+'"><span class="fc-title">'+M(l)+'</span><span class="fc-close '+i.getIconClass("close")+'"></span></div><div class="fc-body '+i.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container")},t.prototype.queryHit=function(e,n,i,a){var s=this.props.date;if(e<i&&n<a)return{component:this,dateSpan:{allDay:!0,range:{start:s,end:q(s,1)}},dayEl:this.el,rect:{left:0,top:0,right:i,bottom:a},layer:1}},t}(me),Pl=function(r){function t(e){var n=r.call(this)||this;return n.dayTile=e,n}return $(t,r),t.prototype.attachSegs=function(e){for(var n=0,i=e;n<i.length;n++)this.dayTile.segContainerEl.appendChild(i[n].el)},t.prototype.detachSegs=function(e){for(var n=0,i=e;n<i.length;n++)z(i[n].el)},t}(fi),vi=function(){function r(t){this.context=t}return r.prototype.renderHtml=function(t){var e=[];t.renderIntroHtml&&e.push(t.renderIntroHtml());for(var n=0,i=t.cells;n<i.length;n++){var a=i[n];e.push(Fl(a.date,t.dateProfile,this.context,a.htmlAttrs))}return t.cells.length||e.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&e.reverse(),"<tr>"+e.join("")+"</tr>"},r}();function Fl(r,t,e,n){var i=e.dateEnv,a=e.theme,s=ge(t.activeRange,r),l=dn(r,t,e);return l.unshift("fc-day",a.getClass("widgetContent")),'<td class="'+l.join(" ")+'"'+(s?' data-date="'+i.formatIso(r,{omitTime:!0})+'"':"")+(n?" "+n:"")+"></td>"}var Nl=V({day:"numeric"}),Hl=V({week:"numeric"}),gi=function(r){function t(e,n){var i=r.call(this,e)||this;i.bottomCoordPadding=0,i.isCellSizesDirty=!1,i.renderProps=n;var a=i.eventRenderer=new pi(i),s=i.fillRenderer=new Ol(i);i.mirrorRenderer=new kl(i);var l=i.renderCells=_(i._renderCells,i._unrenderCells);return i.renderBusinessHours=_(s.renderSegs.bind(s,"businessHours"),s.unrender.bind(s,"businessHours"),[l]),i.renderDateSelection=_(s.renderSegs.bind(s,"highlight"),s.unrender.bind(s,"highlight"),[l]),i.renderBgEvents=_(s.renderSegs.bind(s,"bgEvent"),s.unrender.bind(s,"bgEvent"),[l]),i.renderFgEvents=_(a.renderSegs.bind(a),a.unrender.bind(a),[l]),i.renderEventSelection=_(a.selectByInstanceId.bind(a),a.unselectByInstanceId.bind(a),[i.renderFgEvents]),i.renderEventDrag=_(i._renderEventDrag,i._unrenderEventDrag,[l]),i.renderEventResize=_(i._renderEventResize,i._unrenderEventResize,[l]),i}return $(t,r),t.prototype.render=function(e,n){var i=e.cells;this.rowCnt=i.length,this.colCnt=i[0].length,this.renderCells(i,e.isRigid),this.renderBusinessHours(n,e.businessHourSegs),this.renderDateSelection(n,e.dateSelectionSegs),this.renderBgEvents(n,e.bgEventSegs),this.renderFgEvents(n,e.fgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderCells.unrender()},t.prototype.getCellRange=function(e,n){var i=this.props.cells[e][n].date;return{start:i,end:q(i,1)}},t.prototype.updateSegPopoverTile=function(e,n){var i=this.props;this.segPopoverTile.receiveProps({date:e||this.segPopoverTile.props.date,fgSegs:n||this.segPopoverTile.props.fgSegs,eventSelection:i.eventSelection,eventDragInstances:i.eventDrag?i.eventDrag.affectedInstances:null,eventResizeInstances:i.eventResize?i.eventResize.affectedInstances:null},this.context)},t.prototype._renderCells=function(e,n){var h,g,i=this.context,a=i.calendar,s=i.view,l=i.isRtl,d=i.dateEnv,f=this.rowCnt,p=this.colCnt,v="";for(h=0;h<f;h++)v+=this.renderDayRowHtml(h,n);for(this.el.innerHTML=v,this.rowEls=G(this.el,".fc-row"),this.cellEls=G(this.el,".fc-day, .fc-disabled-day"),l&&this.cellEls.reverse(),this.rowPositions=new Rt(this.el,this.rowEls,!1,!0),this.colPositions=new Rt(this.el,this.cellEls.slice(0,p),!0,!1),h=0;h<f;h++)for(g=0;g<p;g++)a.publiclyTrigger("dayRender",[{date:d.toDate(e[h][g].date),el:this.getCellEl(h,g),view:s}]);this.isCellSizesDirty=!0},t.prototype._unrenderCells=function(){this.removeSegPopover()},t.prototype.renderDayRowHtml=function(e,n){var i=this.context.theme,a=["fc-row","fc-week",i.getClass("dayRow")];n&&a.push("fc-rigid");var s=new vi(this.context);return'<div class="'+a.join(" ")+'"><div class="fc-bg"><table class="'+i.getClass("tableGrid")+'">'+s.renderHtml({cells:this.props.cells[e],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},t.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},t.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},t.prototype.renderNumberTrHtml=function(e){var n=this.context.isRtl,i=this.renderProps.renderNumberIntroHtml(e,this);return"<tr>"+(n?"":i)+this.renderNumberCellsHtml(e)+(n?i:"")+"</tr>"},t.prototype.renderNumberCellsHtml=function(e){var i,n=[];for(i=0;i<this.colCnt;i++)n.push(this.renderNumberCellHtml(this.props.cells[e][i].date));return this.context.isRtl&&n.reverse(),n.join("")},t.prototype.renderNumberCellHtml=function(e){var c,f,n=this.context,i=n.dateEnv,a=n.options,s="",l=ge(this.props.dateProfile.activeRange,e),d=this.getIsDayNumbersVisible()&&l;return d||this.renderProps.cellWeekNumbersVisible?((c=dn(e,this.props.dateProfile,this.context)).unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(f=i.weekDow),s+='<td class="'+c.join(" ")+'"'+(l?' data-date="'+i.formatIso(e,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&e.getUTCDay()===f&&(s+=Ie(a,i,{date:e,type:"week"},{class:"fc-week-number"},i.format(e,Hl))),d&&(s+=Ie(a,i,e,{class:"fc-day-number"},i.format(e,Nl))),s+="</td>"):"<td></td>"},t.prototype.updateSize=function(e){var i=this,a=i.fillRenderer,s=i.eventRenderer,l=i.mirrorRenderer;(e||this.isCellSizesDirty||this.context.calendar.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),a.computeSizes(e),s.computeSizes(e),l.computeSizes(e),a.assignSizes(e),s.assignSizes(e),l.assignSizes(e)},t.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},t.prototype.buildColPositions=function(){this.colPositions.build()},t.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},t.prototype.positionToHit=function(e,n){var a=this.colPositions,s=this.rowPositions,l=a.leftToIndex(e),d=s.topToIndex(n);if(null!=d&&null!=l)return{row:d,col:l,dateSpan:{range:this.getCellRange(d,l),allDay:!0},dayEl:this.getCellEl(d,l),relativeRect:{left:a.lefts[l],right:a.rights[l],top:s.tops[d],bottom:s.bottoms[d]}}},t.prototype.getCellEl=function(e,n){return this.cellEls[e*this.colCnt+n]},t.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,e.segs))},t.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context))},t.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,e.segs),this.mirrorRenderer.renderSegs(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context),this.mirrorRenderer.unrender(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},t.prototype.limitRows=function(e){var i,a,n=this.eventRenderer.rowStructs||[];for(i=0;i<n.length;i++)this.unlimitRow(i),!1!==(a=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(i)))&&this.limitRow(i,a)},t.prototype.computeRowLevelLimit=function(e){var s,l,i=this.rowEls[e].getBoundingClientRect().bottom,a=Zn(this.eventRenderer.rowStructs[e].tbodyEl);for(s=0;s<a.length;s++)if((l=a[s]).classList.remove("fc-limited"),l.getBoundingClientRect().bottom>i)return s;return!1},t.prototype.limitRow=function(e,n){var f,p,v,h,g,m,y,E,w,D,T,N,k,O,H,i=this,a=this.colCnt,s=this.context.isRtl,l=this.eventRenderer.rowStructs[e],d=[],c=0,Y=function(Se){for(;c<Se;)(m=i.getCellSegs(e,c,n)).length&&(w=p[n-1][c],H=i.renderMoreLink(e,c,m),O=L("div",null,H),w.appendChild(O),d.push(O)),c++};if(n&&n<l.segLevels.length){for(f=l.segLevels[n-1],p=l.cellMatrix,(v=Zn(l.tbodyEl).slice(n)).forEach(function(Se){Se.classList.add("fc-limited")}),h=0;h<f.length;h++){g=f[h];var W=s?a-1-g.lastCol:g.firstCol,Ee=s?a-1-g.firstCol:g.lastCol;for(Y(W),E=[],y=0;c<=Ee;)m=this.getCellSegs(e,c,n),E.push(m),y+=m.length,c++;if(y){for(D=(w=p[n-1][W]).rowSpan||1,T=[],N=0;N<E.length;N++)k=L("td",{className:"fc-more-cell",rowSpan:D}),H=this.renderMoreLink(e,W+N,[g].concat(m=E[N])),O=L("div",null,H),k.appendChild(O),T.push(k),d.push(k);w.classList.add("fc-limited"),Xi(w,T),v.push(w)}}Y(this.colCnt),l.moreEls=d,l.limitedEls=v}},t.prototype.unlimitRow=function(e){var n=this.eventRenderer.rowStructs[e];n.moreEls&&(n.moreEls.forEach(z),n.moreEls=null),n.limitedEls&&(n.limitedEls.forEach(function(i){i.classList.remove("fc-limited")}),n.limitedEls=null)},t.prototype.renderMoreLink=function(e,n,i){var a=this,s=this.context,l=s.calendar,d=s.view,c=s.dateEnv,f=s.options,p=s.isRtl,v=L("a",{className:"fc-more"});return v.innerText=this.getMoreLinkText(i.length),v.addEventListener("click",function(h){var g=f.eventLimitClick,y=a.props.cells[e][p?a.colCnt-n-1:n].date,E=h.currentTarget,w=a.getCellEl(e,n),D=a.getCellSegs(e,n),T=a.resliceDaySegs(D,y),N=a.resliceDaySegs(i,y);"function"==typeof g&&(g=l.publiclyTrigger("eventLimitClick",[{date:c.toDate(y),allDay:!0,dayEl:w,moreEl:E,segs:T,hiddenSegs:N,jsEvent:h,view:d}])),"popover"===g?a.showSegPopover(e,n,E,T):"string"==typeof g&&l.zoomTo(y,g)}),v},t.prototype.showSegPopover=function(e,n,i,a){var g,m,s=this,l=this.context,d=l.calendar,c=l.view,p=l.isRtl,v=p?this.colCnt-n-1:n,h=i.parentNode;g=1===this.rowCnt?c.el:this.rowEls[e],m={className:"fc-more-popover "+l.theme.getClass("popover"),parentEl:c.el,top:Te(g).top,autoHide:!0,content:function(y){s.segPopoverTile=new Al(y),s.updateSegPopoverTile(s.props.cells[e][v].date,a)},hide:function(){s.segPopoverTile.destroy(),s.segPopoverTile=null,s.segPopover.destroy(),s.segPopover=null}},p?m.right=Te(h).right+1:m.left=Te(h).left-1,this.segPopover=new Il(m),this.segPopover.show(),d.releaseAfterSizingTriggers()},t.prototype.resliceDaySegs=function(e,n){for(var s={start:n,end:q(n,1)},l=[],d=0,c=e;d<c.length;d++){var f=c[d],p=f.eventRange,v=p.range,h=Re(v,s);h&&l.push(et({},f,{eventRange:{def:p.def,ui:et({},p.ui,{durationEditable:!1}),instance:p.instance,range:h},isStart:f.isStart&&h.start.valueOf()===v.start.valueOf(),isEnd:f.isEnd&&h.end.valueOf()===v.end.valueOf()}))}return l},t.prototype.getMoreLinkText=function(e){var n=this.context.options.eventLimitText;return"function"==typeof n?n(e):"+"+e+" "+n},t.prototype.getCellSegs=function(e,n,i){for(var d,a=this.eventRenderer.rowStructs[e].segMatrix,s=i||0,l=[];s<a.length;)(d=a[s][n])&&l.push(d),s++;return l},t}(me),Bl=V({week:"numeric"}),mi=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.processOptions=I(e._processOptions),e.renderSkeleton=_(e._renderSkeleton,e._unrenderSkeleton),e.renderHeadIntroHtml=function(){var n=e.context,a=n.options;return e.colWeekNumbersVisible?'<th class="fc-week-number '+n.theme.getClass("widgetHeader")+'" '+e.weekNumberStyleAttr()+"><span>"+M(a.weekLabel)+"</span></th>":""},e.renderDayGridNumberIntroHtml=function(n,i){var a=e.context,s=a.options,l=a.dateEnv,d=i.props.cells[n][0].date;return e.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+">"+Ie(s,l,{date:d,type:"week",forceOff:1===i.colCnt},l.format(d,Bl))+"</td>":""},e.renderDayGridBgIntroHtml=function(){return e.colWeekNumbersVisible?'<td class="fc-week-number '+e.context.theme.getClass("widgetContent")+'" '+e.weekNumberStyleAttr()+"></td>":""},e.renderDayGridIntroHtml=function(){return e.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""},e}return $(t,r),t.prototype._processOptions=function(e){e.weekNumbers?e.weekNumbersWithinDays?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0):(this.colWeekNumbersVisible=!1,this.cellWeekNumbersVisible=!1)},t.prototype.render=function(e,n){r.prototype.render.call(this,e,n),this.processOptions(n.options),this.renderSkeleton(n)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderSkeleton.unrender()},t.prototype._renderSkeleton=function(e){this.el.classList.add("fc-dayGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new un("hidden","auto");var n=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(n),n.classList.add("fc-day-grid-container");var i=L("div",{className:"fc-day-grid"});n.appendChild(i),this.dayGrid=new gi(i,{renderNumberIntroHtml:this.renderDayGridNumberIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:this.colWeekNumbersVisible,cellWeekNumbersVisible:this.cellWeekNumbersVisible})},t.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-dayGrid-view"),this.dayGrid.destroy(),this.scroller.destroy()},t.prototype.renderSkeletonHtml=function(){var e=this.context,n=e.theme,i=e.options;return'<table class="'+n.getClass("tableGrid")+'">'+(i.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+n.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+n.getClass("widgetContent")+'"></td></tr></tbody></table>'},t.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},t.prototype.hasRigidRows=function(){var e=this.context.options.eventLimit;return e&&"number"!=typeof e},t.prototype.updateSize=function(e,n,i){r.prototype.updateSize.call(this,e,n,i),this.dayGrid.updateSize(e)},t.prototype.updateBaseSize=function(e,n,i){var d,c,a=this.dayGrid,s=this.context.options.eventLimit,l=this.header?this.header.el:null;a.rowEls?(this.colWeekNumbersVisible&&(this.weekNumberWidth=or(G(this.el,".fc-week-number"))),this.scroller.clear(),l&&rr(l),a.removeSegPopover(),s&&"number"==typeof s&&a.limitRows(s),d=this.computeScrollerHeight(n),this.setGridHeight(d,i),s&&"number"!=typeof s&&a.limitRows(s),i||(this.scroller.setHeight(d),((c=this.scroller.getScrollbarWidths()).left||c.right)&&(l&&nr(l,c),d=this.computeScrollerHeight(n),this.scroller.setHeight(d)),this.scroller.lockOverflow(c))):i||(d=this.computeScrollerHeight(n),this.scroller.setHeight(d))},t.prototype.computeScrollerHeight=function(e){return e-Wt(this.el,this.scroller.el)},t.prototype.setGridHeight=function(e,n){this.context.options.monthMode?(n&&(e*=this.dayGrid.rowCnt/6),ir(this.dayGrid.rowEls,e,!n)):n?ar(this.dayGrid.rowEls):ir(this.dayGrid.rowEls,e,!0)},t.prototype.computeDateScroll=function(e){return{top:0}},t.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},t.prototype.applyDateScroll=function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},t}(Ze);mi.prototype.dateProfileGeneratorClass=Rl;var yi=function(r){function t(e){var n=r.call(this,e.el)||this;return n.slicer=new Zl,n.dayGrid=e,n}return $(t,r),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.dayGrid.el})},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype.render=function(e,n){var i=this.dayGrid,a=e.dateProfile,s=e.dayTable;i.receiveContext(n),i.receiveProps(et({},this.slicer.sliceProps(e,a,e.nextDayThreshold,n.calendar,i,s),{dateProfile:a,cells:s.cells,isRigid:e.isRigid}),n)},t.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},t.prototype.queryHit=function(e,n){var i=this.dayGrid.positionToHit(e,n);if(i)return{component:this.dayGrid,dateSpan:i.dateSpan,dayEl:i.dayEl,rect:{left:i.relativeRect.left,right:i.relativeRect.right,top:i.relativeRect.top,bottom:i.relativeRect.bottom},layer:0}},t}(me),Zl=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $(t,r),t.prototype.sliceRange=function(e,n){return n.sliceRange(e)},t}(ci);function Ul(r,t){var e=new li(r.renderRange,t);return new di(e,/year|month|week/.test(r.currentRangeUnit))}const Gl=ne({defaultView:"dayGridMonth",views:{dayGrid:function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.buildDayTable=I(Ul),e}return $(t,r),t.prototype.render=function(e,n){r.prototype.render.call(this,e,n);var i=this.props.dateProfile,a=this.dayTable=this.buildDayTable(i,e.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:i,dates:a.headerDates,datesRepDistinctDays:1===a.rowCnt,renderIntroHtml:this.renderHeadIntroHtml},n),this.simpleDayGrid.receiveProps({dateProfile:i,dayTable:a,businessHours:e.businessHours,dateSelection:e.dateSelection,eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.context.nextDayThreshold},n)},t.prototype._renderSkeleton=function(e){r.prototype._renderSkeleton.call(this,e),e.options.columnHeader&&(this.header=new si(this.el.querySelector(".fc-head-container"))),this.simpleDayGrid=new yi(this.dayGrid)},t.prototype._unrenderSkeleton=function(){r.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},t}(mi),dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});var wn=function(r,t){return(wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])})(r,t)};function bi(r,t){function e(){this.constructor=r}wn(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Yl=function(r){function t(e){var n=r.call(this)||this;return n.listView=e,n}return bi(t,r),t.prototype.attachSegs=function(e){e.length?this.listView.renderSegList(e):this.listView.renderEmptyMessage()},t.prototype.detachSegs=function(){},t.prototype.renderSegHtml=function(e){var h,n=this.context,i=n.theme,a=n.options,s=e.eventRange,l=s.def,d=s.instance,c=s.ui,f=l.url,p=["fc-list-item"].concat(c.classNames),v=c.backgroundColor;return h=l.allDay?ln(a):ur(s.range)?e.isStart?M(this._getTimeText(d.range.start,e.end,!1)):e.isEnd?M(this._getTimeText(e.start,d.range.end,!1)):ln(a):M(this.getTimeText(s)),f&&p.push("fc-has-url"),'<tr class="'+p.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+i.getClass("widgetContent")+'">'+(h||"")+"</td>":"")+'<td class="fc-list-item-marker '+i.getClass("widgetContent")+'"><span class="fc-event-dot"'+(v?' style="background-color:'+v+'"':"")+'></span></td><td class="fc-list-item-title '+i.getClass("widgetContent")+'"><a'+(f?' href="'+M(f)+'"':"")+">"+M(l.title||"")+"</a></td></tr>"},t.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:"short"}},t}(mn),Ei=function(r){function t(e,n){var i=r.call(this,e,n)||this;i.computeDateVars=I(zl),i.eventStoreToSegs=I(i._eventStoreToSegs),i.renderSkeleton=_(i._renderSkeleton,i._unrenderSkeleton);var a=i.eventRenderer=new Yl(i);return i.renderContent=_(a.renderSegs.bind(a),a.unrender.bind(a),[i.renderSkeleton]),i}return bi(t,r),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.el})},t.prototype.render=function(e,n){r.prototype.render.call(this,e,n);var i=this.computeDateVars(e.dateProfile),s=i.dayRanges;this.dayDates=i.dayDates,this.renderSkeleton(n),this.renderContent(n,this.eventStoreToSegs(e.eventStore,e.eventUiBases,s))},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderSkeleton.unrender(),this.renderContent.unrender(),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype._renderSkeleton=function(e){var n=e.theme;this.el.classList.add("fc-list-view");for(var a=0,s=(n.getClass("listView")||"").split(" ");a<s.length;a++){var l=s[a];l&&this.el.classList.add(l)}this.scroller=new un("hidden","auto"),this.el.appendChild(this.scroller.el),this.contentEl=this.scroller.el},t.prototype._unrenderSkeleton=function(){this.scroller.destroy()},t.prototype.updateSize=function(e,n,i){r.prototype.updateSize.call(this,e,n,i),this.eventRenderer.computeSizes(e),this.eventRenderer.assignSizes(e),this.scroller.clear(),i||this.scroller.setHeight(this.computeScrollerHeight(n))},t.prototype.computeScrollerHeight=function(e){return e-Wt(this.el,this.scroller.el)},t.prototype._eventStoreToSegs=function(e,n,i){return this.eventRangesToSegs(wt(e,n,this.props.dateProfile.activeRange,this.context.nextDayThreshold).fg,i)},t.prototype.eventRangesToSegs=function(e,n){for(var i=[],a=0,s=e;a<s.length;a++)i.push.apply(i,this.eventRangeToSegs(s[a],n));return i},t.prototype.eventRangeToSegs=function(e,n){var c,f,p,i=this.context,a=i.dateEnv,s=i.nextDayThreshold,l=e.range,d=e.def.allDay,v=[];for(c=0;c<n.length;c++)if((f=Re(l,n[c]))&&(p={component:this,eventRange:e,start:f.start,end:f.end,isStart:e.isStart&&f.start.valueOf()===l.start.valueOf(),isEnd:e.isEnd&&f.end.valueOf()===l.end.valueOf(),dayIndex:c},v.push(p),!p.isEnd&&!d&&c+1<n.length&&l.end<a.add(n[c+1].start,s))){p.end=l.end,p.isEnd=!0;break}return v},t.prototype.renderEmptyMessage=function(){this.contentEl.innerHTML='<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+M(this.context.options.noEventsMessage)+"</div></div></div>"},t.prototype.renderSegList=function(e){var a,s,l,n=this.context.theme,i=this.groupSegsByDay(e),d=_e('<table class="fc-list-table '+n.getClass("tableList")+'"><tbody></tbody></table>'),c=d.querySelector("tbody");for(a=0;a<i.length;a++)if(s=i[a])for(c.appendChild(this.buildDayHeaderRow(this.dayDates[a])),s=this.eventRenderer.sortEventSegs(s),l=0;l<s.length;l++)c.appendChild(s[l].el);this.contentEl.innerHTML="",this.contentEl.appendChild(d)},t.prototype.groupSegsByDay=function(e){var i,a,n=[];for(i=0;i<e.length;i++)(n[(a=e[i]).dayIndex]||(n[a.dayIndex]=[])).push(a);return n},t.prototype.buildDayHeaderRow=function(e){var n=this.context,i=n.theme,a=n.dateEnv,s=n.options,l=V(s.listDayFormat),d=V(s.listDayAltFormat);return L("tr",{className:"fc-list-heading","data-date":a.formatIso(e,{omitTime:!0})},'<td class="'+(i.getClass("tableListHeading")||i.getClass("widgetHeader"))+'" colspan="3">'+(l?Ie(s,a,e,{class:"fc-list-heading-main"},M(a.format(e,l))):"")+(d?Ie(s,a,e,{class:"fc-list-heading-alt"},M(a.format(e,d))):"")+"</td>")},t}(Ze);function zl(r){for(var t=A(r.renderRange.start),e=r.renderRange.end,n=[],i=[];t<e;)n.push(t),i.push({start:t,end:q(t,1)}),t=q(t,1);return{dayDates:n,dayRanges:i}}Ei.prototype.fgSegSelector=".fc-list-item";const Wl=ne({views:{list:{class:Ei,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDayAltFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDayAltFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDayAltFormat:{weekday:"long"}}}});var Dn=function(r,t){return(Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])})(r,t)};function de(r,t){function e(){this.constructor=r}Dn(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var oe=function(){return(oe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};It.touchMouseIgnoreWait=500;var _n=0,Si=0,Tn=!1,Cn=function(){function r(t){var e=this;this.subjectEl=null,this.downEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(n){if(!e.shouldIgnoreMouse()&&function(r){return 0===r.button&&!r.ctrlKey}(n)&&e.tryStart(n)){var i=e.createEventFromMouse(n,!0);e.emitter.trigger("pointerdown",i),e.initScrollWatch(i),e.shouldIgnoreMove||document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp)}},this.handleMouseMove=function(n){var i=e.createEventFromMouse(n);e.recordCoords(i),e.emitter.trigger("pointermove",i)},this.handleMouseUp=function(n){document.removeEventListener("mousemove",e.handleMouseMove),document.removeEventListener("mouseup",e.handleMouseUp),e.emitter.trigger("pointerup",e.createEventFromMouse(n)),e.cleanup()},this.handleTouchStart=function(n){if(e.tryStart(n)){e.isTouchDragging=!0;var i=e.createEventFromTouch(n,!0);e.emitter.trigger("pointerdown",i),e.initScrollWatch(i);var a=n.target;e.shouldIgnoreMove||a.addEventListener("touchmove",e.handleTouchMove),a.addEventListener("touchend",e.handleTouchEnd),a.addEventListener("touchcancel",e.handleTouchEnd),window.addEventListener("scroll",e.handleTouchScroll,!0)}},this.handleTouchMove=function(n){var i=e.createEventFromTouch(n);e.recordCoords(i),e.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(n){if(e.isDragging){var i=n.target;i.removeEventListener("touchmove",e.handleTouchMove),i.removeEventListener("touchend",e.handleTouchEnd),i.removeEventListener("touchcancel",e.handleTouchEnd),window.removeEventListener("scroll",e.handleTouchScroll,!0),e.emitter.trigger("pointerup",e.createEventFromTouch(n)),e.cleanup(),e.isTouchDragging=!1,_n++,setTimeout(function(){_n--},It.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){e.wasTouchScroll=!0},this.handleScroll=function(n){if(!e.shouldIgnoreMove){var i=window.pageXOffset-e.prevScrollX+e.prevPageX,a=window.pageYOffset-e.prevScrollY+e.prevPageY;e.emitter.trigger("pointermove",{origEvent:n,isTouch:e.isTouchDragging,subjectEl:e.subjectEl,pageX:i,pageY:a,deltaX:i-e.origPageX,deltaY:a-e.origPageY})}},this.containerEl=t,this.emitter=new Xe,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Si++||window.addEventListener("touchmove",wi,{passive:!1})}return r.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),--Si||window.removeEventListener("touchmove",wi,{passive:!1})},r.prototype.tryStart=function(t){var e=this.querySubjectEl(t),n=t.target;return!(!e||this.handleSelector&&!J(n,this.handleSelector)||(this.subjectEl=e,this.downEl=n,this.isDragging=!0,this.wasTouchScroll=!1,0))},r.prototype.cleanup=function(){Tn=!1,this.isDragging=!1,this.subjectEl=null,this.downEl=null,this.destroyScrollWatch()},r.prototype.querySubjectEl=function(t){return this.selector?J(t.target,this.selector):this.containerEl},r.prototype.shouldIgnoreMouse=function(){return _n||this.isTouchDragging},r.prototype.cancelTouchScroll=function(){this.isDragging&&(Tn=!0)},r.prototype.initScrollWatch=function(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))},r.prototype.recordCoords=function(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},r.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},r.prototype.createEventFromMouse=function(t,e){var n=0,i=0;return e?(this.origPageX=t.pageX,this.origPageY=t.pageY):(n=t.pageX-this.origPageX,i=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:n,deltaY:i}},r.prototype.createEventFromTouch=function(t,e){var i,a,n=t.touches,s=0,l=0;return n&&n.length?(i=n[0].pageX,a=n[0].pageY):(i=t.pageX,a=t.pageY),e?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,l=a-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:l}},r}();function wi(r){Tn&&r.preventDefault()}var $l=function(){function r(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return r.prototype.start=function(t,e,n){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},r.prototype.handleMove=function(t,e){this.deltaX=t-window.pageXOffset-this.origScreenX,this.deltaY=e-window.pageYOffset-this.origScreenY,this.updateElPosition()},r.prototype.setIsVisible=function(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)},r.prototype.stop=function(t,e){var n=this,i=function(){n.cleanup(),e()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},r.prototype.doRevertAnimation=function(t,e){var n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+e+"ms,left "+e+"ms",Z(n,{left:i.left,top:i.top}),function(r,t){var e=function(n){t(),jn.forEach(function(i){r.removeEventListener(i,e)})};jn.forEach(function(n){r.addEventListener(n,e)})}(n,function(){n.style.transition="",t()})},r.prototype.cleanup=function(){this.mirrorEl&&(z(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},r.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Z(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},r.prototype.getMirrorEl=function(){var t=this.sourceElRect,e=this.mirrorEl;return e||((e=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),e.classList.add("fc-dragging"),Z(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e},r}(),Di=function(r){function t(e,n){var i=r.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=e,i.doesListening=n,i.scrollTop=i.origScrollTop=e.getScrollTop(),i.scrollLeft=i.origScrollLeft=e.getScrollLeft(),i.scrollWidth=e.getScrollWidth(),i.scrollHeight=e.getScrollHeight(),i.clientWidth=e.getClientWidth(),i.clientHeight=e.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return de(t,r),t.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},t.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},t.prototype.getClientWidth=function(){return this.clientWidth},t.prototype.getClientHeight=function(){return this.clientHeight},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.handleScrollChange=function(){},t}(cn),_i=function(r){function t(e,n){return r.call(this,new Ur(e),n)||this}return de(t,r),t.prototype.getEventTarget=function(){return this.scrollController.el},t.prototype.computeClientRect=function(){return Yn(this.scrollController.el)},t}(Di),Kl=function(r){function t(e){return r.call(this,new Zo,e)||this}return de(t,r),t.prototype.getEventTarget=function(){return window},t.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},t.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},t}(Di),Ti="function"==typeof performance?performance.now:Date.now,ed=function(){function r(){var t=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(t.isAnimating){var e=t.computeBestEdge(t.pointerScreenX+window.pageXOffset,t.pointerScreenY+window.pageYOffset);if(e){var n=Ti();t.handleSide(e,(n-t.msSinceRequest)/1e3),t.requestAnimation(n)}else t.isAnimating=!1}}}return r.prototype.start=function(t,e){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,e))},r.prototype.handleMove=function(t,e){if(this.isEnabled){var n=t-window.pageXOffset,i=e-window.pageYOffset,a=null===this.pointerScreenY?0:i-this.pointerScreenY,s=null===this.pointerScreenX?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ti()))}},r.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var t=0,e=this.scrollCaches;t<e.length;t++)e[t].destroy();this.scrollCaches=null}},r.prototype.requestAnimation=function(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)},r.prototype.handleSide=function(t,e){var n=t.scrollCache,i=this.edgeThreshold,a=i-t.distance,s=a*a/(i*i)*this.maxVelocity*e,l=1;switch(t.name){case"left":l=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*l);break;case"top":l=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*l)}},r.prototype.computeBestEdge=function(t,e){for(var n=this.edgeThreshold,i=null,a=0,s=this.scrollCaches;a<s.length;a++){var l=s[a],d=l.clientRect,c=t-d.left,f=d.right-t,p=e-d.top,v=d.bottom-e;c>=0&&f>=0&&p>=0&&v>=0&&(p<=n&&this.everMovedUp&&l.canScrollUp()&&(!i||i.distance>p)&&(i={scrollCache:l,name:"top",distance:p}),v<=n&&this.everMovedDown&&l.canScrollDown()&&(!i||i.distance>v)&&(i={scrollCache:l,name:"bottom",distance:v}),c<=n&&this.everMovedLeft&&l.canScrollLeft()&&(!i||i.distance>c)&&(i={scrollCache:l,name:"left",distance:c}),f<=n&&this.everMovedRight&&l.canScrollRight()&&(!i||i.distance>f)&&(i={scrollCache:l,name:"right",distance:f}))}return i},r.prototype.buildCaches=function(){return this.queryScrollEls().map(function(t){return t===window?new Kl(!1):new _i(t,!1)})},r.prototype.queryScrollEls=function(){for(var t=[],e=0,n=this.scrollQuery;e<n.length;e++){var i=n[e];"object"==typeof i?t.push(i):t.push.apply(t,Array.prototype.slice.call(document.querySelectorAll(i)))}return t},r}(),Le=function(r){function t(e){var n=r.call(this,e)||this;n.delay=null,n.minDistance=0,n.touchScrollAllowed=!0,n.mirrorNeedsRevert=!1,n.isInteracting=!1,n.isDragging=!1,n.isDelayEnded=!1,n.isDistanceSurpassed=!1,n.delayTimeoutId=null,n.onPointerDown=function(a){n.isDragging||(n.isInteracting=!0,n.isDelayEnded=!1,n.isDistanceSurpassed=!1,function(r){r.classList.add("fc-unselectable"),r.addEventListener("selectstart",dt)}(document.body),document.body.addEventListener("contextmenu",dt),a.isTouch||a.origEvent.preventDefault(),n.emitter.trigger("pointerdown",a),n.pointer.shouldIgnoreMove||(n.mirror.setIsVisible(!1),n.mirror.start(a.subjectEl,a.pageX,a.pageY),n.startDelay(a),n.minDistance||n.handleDistanceSurpassed(a)))},n.onPointerMove=function(a){if(n.isInteracting){if(n.emitter.trigger("pointermove",a),!n.isDistanceSurpassed){var s=n.minDistance,d=a.deltaX,c=a.deltaY;d*d+c*c>=s*s&&n.handleDistanceSurpassed(a)}n.isDragging&&("scroll"!==a.origEvent.type&&(n.mirror.handleMove(a.pageX,a.pageY),n.autoScroller.handleMove(a.pageX,a.pageY)),n.emitter.trigger("dragmove",a))}},n.onPointerUp=function(a){n.isInteracting&&(n.isInteracting=!1,function(r){r.classList.remove("fc-unselectable"),r.removeEventListener("selectstart",dt)}(document.body),document.body.removeEventListener("contextmenu",dt),n.emitter.trigger("pointerup",a),n.isDragging&&(n.autoScroller.stop(),n.tryStopDrag(a)),n.delayTimeoutId&&(clearTimeout(n.delayTimeoutId),n.delayTimeoutId=null))};var i=n.pointer=new Cn(e);return i.emitter.on("pointerdown",n.onPointerDown),i.emitter.on("pointermove",n.onPointerMove),i.emitter.on("pointerup",n.onPointerUp),n.mirror=new $l,n.autoScroller=new ed,n}return de(t,r),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.startDelay=function(e){var n=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){n.delayTimeoutId=null,n.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},t.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},t.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},t.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},t.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},t.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},t.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},t.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},t.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},t}(ai),td=function(){function r(t){this.origRect=Te(t),this.scrollCaches=Wn(t).map(function(e){return new _i(e,!0)})}return r.prototype.destroy=function(){for(var t=0,e=this.scrollCaches;t<e.length;t++)e[t].destroy()},r.prototype.computeLeft=function(){for(var t=this.origRect.left,e=0,n=this.scrollCaches;e<n.length;e++){var i=n[e];t+=i.origScrollLeft-i.getScrollLeft()}return t},r.prototype.computeTop=function(){for(var t=this.origRect.top,e=0,n=this.scrollCaches;e<n.length;e++){var i=n[e];t+=i.origScrollTop-i.getScrollTop()}return t},r.prototype.isWithinClipping=function(t,e){for(var n={left:t,top:e},i=0,a=this.scrollCaches;i<a.length;i++){var s=a[i];if(!nd(s.getEventTarget())&&!ta(n,s.clientRect))return!1}return!0},r}();function nd(r){var t=r.tagName;return"HTML"===t||"BODY"===t}var tt=function(){function r(t,e){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var a=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(i),n.initialHit||!n.requireInitial?(a.setIgnoreMove(!1),n.emitter.trigger("pointerdown",i)):a.setIgnoreMove(!0)},this.handleDragStart=function(i){n.emitter.trigger("dragstart",i),n.handleMove(i,!0)},this.handleDragMove=function(i){n.emitter.trigger("dragmove",i),n.handleMove(i)},this.handlePointerUp=function(i){n.releaseHits(),n.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,i),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",i)},this.droppableStore=e,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new Xe}return r.prototype.processFirstCoord=function(t){var a,e={left:t.pageX,top:t.pageY},n=e,i=t.subjectEl;i!==document&&(n=function(r,t){return{left:Math.min(Math.max(r.left,t.left),t.right),top:Math.min(Math.max(r.top,t.top),t.bottom)}}(n,a=Te(i)));var s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&a){var l=Un(a,s.rect);l&&(n=function(r){return{left:(r.left+r.right)/2,top:(r.top+r.bottom)/2}}(l))}this.coordAdjust=function(r,t){return{left:r.left-t.left,top:r.top-t.top}}(n,e)}else this.coordAdjust={left:0,top:0}},r.prototype.handleMove=function(t,e){var n=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(e||!kt(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,t))},r.prototype.prepareHits=function(){this.offsetTrackers=ae(this.droppableStore,function(t){return t.component.buildPositionCaches(),new td(t.el)})},r.prototype.releaseHits=function(){var t=this.offsetTrackers;for(var e in t)t[e].destroy();this.offsetTrackers={}},r.prototype.queryHitForOffset=function(t,e){var i=this.droppableStore,a=this.offsetTrackers,s=null;for(var l in i){var d=i[l].component,c=a[l];if(c.isWithinClipping(t,e)){var f=c.computeLeft(),p=c.computeTop(),v=t-f,h=e-p,g=c.origRect,m=g.right-g.left,y=g.bottom-g.top;if(v>=0&&v<m&&h>=0&&h<y){var E=d.queryHit(v,h,m,y);E&&(!d.props.dateProfile||yt(d.props.dateProfile.activeRange,E.dateSpan.range))&&(!s||E.layer>s.layer)&&(E.rect.left+=f,E.rect.right+=f,E.rect.top+=p,E.rect.bottom+=p,s=E)}}}return s},r}();function kt(r,t){return!r&&!t||Boolean(r)===Boolean(t)&&function(r,t){return mt(r.range,t.range)&&r.allDay===t.allDay&&function(r,t){for(var e in t)if("range"!==e&&"allDay"!==e&&r[e]!==t[e])return!1;for(var e in r)if(!(e in t))return!1;return!0}(r,t)}(r.dateSpan,t.dateSpan)}var rd=function(r){function t(e){var n=r.call(this,e)||this;n.handlePointerDown=function(s){var l=n.dragging;l.setIgnoreMove(!n.component.isValidDateDownEl(l.pointer.downEl))},n.handleDragEnd=function(s){var d=n.component.context,c=d.calendar,f=d.view;if(!n.dragging.pointer.wasTouchScroll){var v=n.hitDragging,h=v.initialHit,g=v.finalHit;h&&g&&kt(h,g)&&c.triggerDateClick(h.dateSpan,h.dayEl,f,s.origEvent)}},n.dragging=new Le(e.component.el),n.dragging.autoScroller.isEnabled=!1;var a=n.hitDragging=new tt(n.dragging,gn(e));return a.emitter.on("pointerdown",n.handlePointerDown),a.emitter.on("dragend",n.handleDragEnd),n}return de(t,r),t.prototype.destroy=function(){this.dragging.destroy()},t}(Be),id=function(r){function t(e){var n=r.call(this,e)||this;n.dragSelection=null,n.handlePointerDown=function(d){var f=n.component,p=n.dragging,h=f.context.options.selectable&&f.isValidDateDownEl(d.origEvent.target);p.setIgnoreMove(!h),p.delay=d.isTouch?function(r){var t=r.context.options,e=t.selectLongPressDelay;return null==e&&(e=t.longPressDelay),e}(f):null},n.handleDragStart=function(d){n.component.context.calendar.unselect(d)},n.handleHitUpdate=function(d,c){var f=n.component.context.calendar,p=null,v=!1;d&&(!(p=function(r,t,e){var n=r.dateSpan,i=t.dateSpan,a=[n.range.start,n.range.end,i.range.start,i.range.end];a.sort(Fa);for(var s={},l=0,d=e;l<d.length;l++){var f=(0,d[l])(r,t);if(!1===f)return null;f&&oe(s,f)}return s.range={start:a[0],end:a[3]},s.allDay=n.allDay,s}(n.hitDragging.initialHit,d,f.pluginSystem.hooks.dateSelectionTransformers))||!n.component.isDateSelectionValid(p))&&(v=!0,p=null),p?f.dispatch({type:"SELECT_DATES",selection:p}):c||f.dispatch({type:"UNSELECT_DATES"}),v?ft():pt(),c||(n.dragSelection=p)},n.handlePointerUp=function(d){n.dragSelection&&(n.component.context.calendar.triggerDateSelect(n.dragSelection,d),n.dragSelection=null)};var i=e.component,a=i.context.options,s=n.dragging=new Le(i.el);s.touchScrollAllowed=!1,s.minDistance=a.selectMinDistance||0,s.autoScroller.isEnabled=a.dragScroll;var l=n.hitDragging=new tt(n.dragging,gn(e));return l.emitter.on("pointerdown",n.handlePointerDown),l.emitter.on("dragstart",n.handleDragStart),l.emitter.on("hitupdate",n.handleHitUpdate),l.emitter.on("pointerup",n.handlePointerUp),n}return de(t,r),t.prototype.destroy=function(){this.dragging.destroy()},t}(Be),Ci=function(r){function t(e){var n=r.call(this,e)||this;n.subjectSeg=null,n.isDragging=!1,n.eventRange=null,n.relevantEvents=null,n.receivingCalendar=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(d){var c=d.origEvent.target,p=n.component,v=n.dragging,h=v.mirror,g=p.context.options,m=p.context.calendar,y=n.subjectSeg=Je(d.subjectEl),w=(n.eventRange=y.eventRange).instance.instanceId;n.relevantEvents=Kt(m.state.eventStore,w),v.minDistance=d.isTouch?0:g.eventDragMinDistance,v.delay=d.isTouch&&w!==p.props.eventSelection?function(r){var t=r.context.options,e=t.eventLongPressDelay;return null==e&&(e=t.longPressDelay),e}(p):null,h.parentNode=m.el,h.revertDuration=g.dragRevertDuration;var D=p.isValidSegDownEl(c)&&!J(c,".fc-resizer");v.setIgnoreMove(!D),n.isDragging=D&&d.subjectEl.classList.contains("fc-draggable")},n.handleDragStart=function(d){var c=n.component.context,f=c.calendar,p=n.eventRange,v=p.instance.instanceId;d.isTouch?v!==n.component.props.eventSelection&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:v}):f.dispatch({type:"UNSELECT_EVENT"}),n.isDragging&&(f.unselect(d),f.publiclyTrigger("eventDragStart",[{el:n.subjectSeg.el,event:new P(f,p.def,p.instance),jsEvent:d.origEvent,view:c.view}]))},n.handleHitUpdate=function(d,c){if(n.isDragging){var f=n.relevantEvents,p=n.hitDragging.initialHit,v=n.component.context.calendar,h=null,g=null,m=null,y=!1,E={affectedEvents:f,mutatedEvents:{defs:{},instances:{}},isEvent:!0,origSeg:n.subjectSeg};if(d){var w=d.component,D=w.context.options;v===(h=w.context.calendar)||D.editable&&D.droppable?(g=function(r,t,e){var n=r.dateSpan,i=t.dateSpan,a=n.range.start,s=i.range.start,l={};n.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=t.component.context.options.allDayMaintainDuration,i.allDay&&(a=A(a)));var d=Fe(a,s,r.component.context.dateEnv,r.component===t.component?r.component.largeUnit:null);d.milliseconds&&(l.allDay=!1);for(var c={datesDelta:d,standardProps:l},f=0,p=e;f<p.length;f++)(0,p[f])(c,r,t);return c}(p,d,h.pluginSystem.hooks.eventDragMutationMassagers))&&(m=nn(f,h.eventUiBases,g,h),E.mutatedEvents=m,w.isInteractionValid(E)||(y=!0,g=null,m=null,E.mutatedEvents={defs:{},instances:{}})):h=null}n.displayDrag(h,E),y?ft():pt(),c||(v===h&&kt(p,d)&&(g=null),n.dragging.setMirrorNeedsRevert(!g),n.dragging.setMirrorIsVisible(!d||!document.querySelector(".fc-mirror")),n.receivingCalendar=h,n.validMutation=g,n.mutatedRelevantEvents=m)}},n.handlePointerUp=function(){n.isDragging||n.cleanup()},n.handleDragEnd=function(d){if(n.isDragging){var c=n.component.context,f=c.calendar,p=c.view,h=n.receivingCalendar,g=n.validMutation,m=n.eventRange.def,y=n.eventRange.instance,E=new P(f,m,y),w=n.relevantEvents,D=n.mutatedRelevantEvents,T=n.hitDragging.finalHit;if(n.clearDrag(),f.publiclyTrigger("eventDragStop",[{el:n.subjectSeg.el,event:E,jsEvent:d.origEvent,view:p}]),g){if(h===f){f.dispatch({type:"MERGE_EVENTS",eventStore:D});for(var N={},k=0,O=f.pluginSystem.hooks.eventDropTransformers;k<O.length;k++)oe(N,(0,O[k])(g,f));var Y=oe({},N,{el:d.subjectEl,delta:g.datesDelta,oldEvent:E,event:new P(f,D.defs[m.defId],y?D.instances[y.instanceId]:null),revert:function(){f.dispatch({type:"MERGE_EVENTS",eventStore:w})},jsEvent:d.origEvent,view:p});f.publiclyTrigger("eventDrop",[Y])}else if(h){f.publiclyTrigger("eventLeave",[{draggedEl:d.subjectEl,event:E,view:p}]),f.dispatch({type:"REMOVE_EVENT_INSTANCES",instances:n.mutatedRelevantEvents.instances}),h.dispatch({type:"MERGE_EVENTS",eventStore:n.mutatedRelevantEvents}),d.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:y.instanceId});var W=oe({},h.buildDatePointApi(T.dateSpan),{draggedEl:d.subjectEl,jsEvent:d.origEvent,view:T.component});h.publiclyTrigger("drop",[W]),h.publiclyTrigger("eventReceive",[{draggedEl:d.subjectEl,event:new P(h,D.defs[m.defId],D.instances[y.instanceId]),view:T.component}])}}else f.publiclyTrigger("_noEventDrop")}n.cleanup()};var i=n.component,a=i.context.options,s=n.dragging=new Le(i.el);s.pointer.selector=t.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=a.dragScroll;var l=n.hitDragging=new tt(n.dragging,xt);return l.useSubjectCenter=e.useEventCenter,l.emitter.on("pointerdown",n.handlePointerDown),l.emitter.on("dragstart",n.handleDragStart),l.emitter.on("hitupdate",n.handleHitUpdate),l.emitter.on("pointerup",n.handlePointerUp),l.emitter.on("dragend",n.handleDragEnd),n}return de(t,r),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.displayDrag=function(e,n){var a=this.receivingCalendar;a&&a!==e&&a.dispatch(a===this.component.context.calendar?{type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0,origSeg:n.origSeg}}:{type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})},t.prototype.clearDrag=function(){var e=this.component.context.calendar,n=this.receivingCalendar;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingCalendar=null,this.validMutation=null,this.mutatedRelevantEvents=null},t.SELECTOR=".fc-draggable, .fc-resizable",t}(Be),dd=function(r){function t(e){var n=r.call(this,e)||this;n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(l){var d=n.component,c=n.querySeg(l),f=n.eventRange=c.eventRange;n.dragging.minDistance=d.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&n.component.props.eventSelection!==f.instance.instanceId)},n.handleDragStart=function(l){var d=n.component.context,c=d.calendar,f=d.view,p=n.eventRange;n.relevantEvents=Kt(c.state.eventStore,n.eventRange.instance.instanceId),n.draggingSeg=n.querySeg(l),c.unselect(),c.publiclyTrigger("eventResizeStart",[{el:n.draggingSeg.el,event:new P(c,p.def,p.instance),jsEvent:l.origEvent,view:f}])},n.handleHitUpdate=function(l,d,c){var f=n.component.context.calendar,p=n.relevantEvents,v=n.hitDragging.initialHit,h=n.eventRange.instance,g=null,m=null,y=!1,E={affectedEvents:p,mutatedEvents:{defs:{},instances:{}},isEvent:!0,origSeg:n.draggingSeg};l&&(g=function(r,t,e,n,i){for(var a=r.component.context.dateEnv,d=Fe(r.dateSpan.range.start,t.dateSpan.range.start,a,r.component.largeUnit),c={},f=0,p=i;f<p.length;f++){var h=(0,p[f])(r,t);if(!1===h)return null;h&&oe(c,h)}if(e){if(a.add(n.start,d)<n.end)return c.startDelta=d,c}else if(a.add(n.end,d)>n.start)return c.endDelta=d,c;return null}(v,l,c.subjectEl.classList.contains("fc-start-resizer"),h.range,f.pluginSystem.hooks.eventResizeJoinTransforms)),g&&(m=nn(p,f.eventUiBases,g,f),E.mutatedEvents=m,n.component.isInteractionValid(E)||(y=!0,g=null,m=null,E.mutatedEvents=null)),f.dispatch(m?{type:"SET_EVENT_RESIZE",state:E}:{type:"UNSET_EVENT_RESIZE"}),y?ft():pt(),d||(g&&kt(v,l)&&(g=null),n.validMutation=g,n.mutatedRelevantEvents=m)},n.handleDragEnd=function(l){var d=n.component.context,c=d.calendar,f=d.view,p=n.eventRange.def,v=n.eventRange.instance,h=new P(c,p,v),g=n.relevantEvents,m=n.mutatedRelevantEvents;c.publiclyTrigger("eventResizeStop",[{el:n.draggingSeg.el,event:h,jsEvent:l.origEvent,view:f}]),n.validMutation?(c.dispatch({type:"MERGE_EVENTS",eventStore:m}),c.publiclyTrigger("eventResize",[{el:n.draggingSeg.el,startDelta:n.validMutation.startDelta||C(0),endDelta:n.validMutation.endDelta||C(0),prevEvent:h,event:new P(c,m.defs[p.defId],v?m.instances[v.instanceId]:null),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:g})},jsEvent:l.origEvent,view:f}])):c.publiclyTrigger("_noEventResize"),n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var i=e.component,a=n.dragging=new Le(i.el);a.pointer.selector=".fc-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=i.context.options.dragScroll;var s=n.hitDragging=new tt(n.dragging,gn(e));return s.emitter.on("pointerdown",n.handlePointerDown),s.emitter.on("dragstart",n.handleDragStart),s.emitter.on("hitupdate",n.handleHitUpdate),s.emitter.on("dragend",n.handleDragEnd),n}return de(t,r),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.querySeg=function(e){return Je(J(e.subjectEl,this.component.fgSegSelector))},t}(Be),ud=function(){function r(t){var e=this;this.isRecentPointerDateSelect=!1,this.onSelect=function(i){i.jsEvent&&(e.isRecentPointerDateSelect=!0)},this.onDocumentPointerUp=function(i){var s=e.calendar,l=e.documentPointer,d=s.state;if(!l.wasTouchScroll){if(d.dateSelection&&!e.isRecentPointerDateSelect){var c=s.viewOpt("unselectAuto"),f=s.viewOpt("unselectCancel");c&&(!c||!J(l.downEl,f))&&s.unselect(i)}d.eventSelection&&!J(l.downEl,Ci.SELECTOR)&&s.dispatch({type:"UNSELECT_EVENT"})}e.isRecentPointerDateSelect=!1},this.calendar=t;var n=this.documentPointer=new Cn(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerup",this.onDocumentPointerUp),t.on("select",this.onSelect)}return r.prototype.destroy=function(){this.calendar.off("select",this.onSelect),this.documentPointer.destroy()},r}();!function(){function r(t,e){var n=this;this.receivingCalendar=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(a){n.dragMeta=n.buildDragMeta(a.subjectEl)},this.handleHitUpdate=function(a,s,l){var d=n.hitDragging.dragging,c=null,f=null,p=!1,v={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:n.dragMeta.create,origSeg:null};a&&n.canDropElOnCalendar(l.subjectEl,c=a.component.context.calendar)&&(f=function(r,t,e){for(var n=oe({},t.leftoverProps),i=0,a=e.pluginSystem.hooks.externalDefTransforms;i<a.length;i++)oe(n,(0,a[i])(r,t));var l=Tt(n,t.sourceId,r.allDay,e.opt("forceEventDuration")||Boolean(t.duration),e),d=r.range.start;r.allDay&&t.startTime&&(d=e.dateEnv.add(d,t.startTime));var c=t.duration?e.dateEnv.add(d,t.duration):e.getDefaultEventEnd(r.allDay,d);return{def:l,instance:Ct(l.defId,{start:d,end:c})}}(a.dateSpan,n.dragMeta,c),v.mutatedEvents=We(f),(p=!Mr(v,c))&&(v.mutatedEvents={defs:{},instances:{}},f=null)),n.displayDrag(c,v),d.setMirrorIsVisible(s||!f||!document.querySelector(".fc-mirror")),p?ft():pt(),s||(d.setMirrorNeedsRevert(!f),n.receivingCalendar=c,n.droppableEvent=f)},this.handleDragEnd=function(a){var l=n.receivingCalendar,d=n.droppableEvent;if(n.clearDrag(),l&&d){var c=n.hitDragging.finalHit,f=c.component.context.view,p=n.dragMeta,v=oe({},l.buildDatePointApi(c.dateSpan),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:f});l.publiclyTrigger("drop",[v]),p.create&&(l.dispatch({type:"MERGE_EVENTS",eventStore:We(d)}),a.isTouch&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d.instance.instanceId}),l.publiclyTrigger("eventReceive",[{draggedEl:a.subjectEl,event:new P(l,d.def,d.instance),view:f}]))}n.receivingCalendar=null,n.droppableEvent=null};var i=this.hitDragging=new tt(t,xt);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=e}r.prototype.buildDragMeta=function(t){return"object"==typeof this.suppliedDragMeta?yn(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?yn(this.suppliedDragMeta(t)):function(r){var t=function(r,t){var e=It.dataAttrPrefix;return r.getAttribute("data-"+(e?e+"-":"")+"event")||""}(r);return yn(t?JSON.parse(t):{create:!1})}(t)},r.prototype.displayDrag=function(t,e){var n=this.receivingCalendar;n&&n!==t&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:e})},r.prototype.clearDrag=function(){this.receivingCalendar&&this.receivingCalendar.dispatch({type:"UNSET_EVENT_DRAG"})},r.prototype.canDropElOnCalendar=function(t,e){var n=e.opt("dropAccept");return"function"==typeof n?n(t):"string"!=typeof n||!n||Boolean(lt(t,n))}}();It.dataAttrPrefix="";!function(r){function t(e){var n=r.call(this,e)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(a){n.emitter.trigger("pointerdown",a),n.shouldIgnoreMove||n.emitter.trigger("dragstart",a)},n.handlePointerMove=function(a){n.shouldIgnoreMove||n.emitter.trigger("dragmove",a)},n.handlePointerUp=function(a){n.emitter.trigger("pointerup",a),n.shouldIgnoreMove||n.emitter.trigger("dragend",a)};var i=n.pointer=new Cn(e);return i.emitter.on("pointerdown",n.handlePointerDown),i.emitter.on("pointermove",n.handlePointerMove),i.emitter.on("pointerup",n.handlePointerUp),n}de(t,r),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var n=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;n&&(this.currentMirrorEl=n,n.style.visibility="hidden")}}}(ai);const md=ne({componentInteractions:[rd,id,Ci,dd],calendarInteractions:[ud],elementDraggingImpl:Le});var Ue=R;function Ii(r){return function(t){return t?r.format(t):""}}function Ot(r,t,e,n){var i;return"local"===t?i=Ue(r):"UTC"===t?i=Ue.utc(r):Ue.tz?i=Ue.tz(r,t):(i=Ue.utc(r),null!=e&&i.utcOffset(e)),i.locale(n),i}function xi(r){var t=r.match(/^(.*?)\{(.*)\}(.*)$/);if(t){var e=xi(t[2]);return{head:t[1],middle:e,tail:t[3],whole:t[1]+e.whole+t[3]}}return{head:null,middle:null,tail:null,whole:r}}function Rn(r,t,e,n){if(r.middle){var i=t(r.head),a=Rn(r.middle,t,e,n),s=t(r.tail),l=e(r.head),d=Rn(r.middle,t,e,n),c=e(r.tail);if(i===l&&s===c)return i+(a===d?a:a+n+d)+s}var f=t(r.whole),p=e(r.whole);return f===p?f:f+n+p}const Ed=ne({cmdFormatter:function(r,t){var e=xi(r);if(t.end){var n=Ot(t.start.array,t.timeZone,t.start.timeZoneOffset,t.localeCodes[0]),i=Ot(t.end.array,t.timeZone,t.end.timeZoneOffset,t.localeCodes[0]);return Rn(e,Ii(n),Ii(i),t.separator)}return Ot(t.date.array,t.timeZone,t.date.timeZoneOffset,t.localeCodes[0]).format(e.whole)}});var At=b(8244),In=function(){return(In=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Sd={rrule:null,duration:C};function Pt(r){return"string"==typeof r?At.Ci[r.toUpperCase()]:r}const Cd=ne({recurringTypes:[{parse:function(r,t,e){if(null!=r.rrule){var n=se(r,Sd,{},t),i=function(r,t){var n,e=null;if("string"==typeof r)n=(0,At.SA)(r);else if("object"==typeof r&&r){var i=In({},r);if("string"==typeof i.dtstart){var a=t.createMarkerMeta(i.dtstart);a?(i.dtstart=a.marker,e=a.isTimeUnspecified):delete i.dtstart}"string"==typeof i.until&&(i.until=t.createMarker(i.until)),null!=i.freq&&(i.freq=Pt(i.freq)),i.wkst=null!=i.wkst?Pt(i.wkst):(t.weekDow-1+7)%7,null!=i.byweekday&&(i.byweekday=function(r){return Array.isArray(r)?r.map(Pt):Pt(r)}(i.byweekday)),n=new At.Ci(i)}return n?{rrule:n,allDayGuess:e}:null}(n.rrule,e);if(i)return{typeData:i.rrule,allDayGuess:i.allDayGuess,duration:n.duration}}return null},expand:function(r,t){return r.between(t.start,t.end,!0).filter(function(e){return e.valueOf()<t.end.valueOf()})}}]});var xn=function(r,t){return(xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])})(r,t)};function ce(r,t){function e(){this.constructor=r}xn(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var nt=function(){return(nt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Mi=function(r){function t(e){var n=r.call(this)||this;return n.timeGrid=e,n}return ce(t,r),t.prototype.renderSegs=function(e,n,i){r.prototype.renderSegs.call(this,e,n,i),this.fullTimeFormat=V({hour:"numeric",minute:"2-digit",separator:this.context.options.defaultRangeSeparator})},t.prototype.attachSegs=function(e,n){for(var i=this.timeGrid.groupSegsByCol(e),a=0;a<i.length;a++)i[a]=this.sortEventSegs(i[a]);this.segsByCol=i,this.timeGrid.attachSegsByCol(i,this.timeGrid.fgContainerEls)},t.prototype.detachSegs=function(e){e.forEach(function(n){z(n.el)}),this.segsByCol=null},t.prototype.computeSegSizes=function(e){var i=this.timeGrid,a=this.segsByCol,s=i.colCnt;if(i.computeSegVerticals(e),a)for(var l=0;l<s;l++)this.computeSegHorizontals(a[l])},t.prototype.assignSegSizes=function(e){var i=this.timeGrid,a=this.segsByCol,s=i.colCnt;if(i.assignSegVerticals(e),a)for(var l=0;l<s;l++)this.assignSegCss(a[l])},t.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},t.prototype.computeDisplayEventEnd=function(){return!0},t.prototype.renderSegHtml=function(e,n){var h,g,m,i=e.eventRange,a=i.def,s=i.ui,l=a.allDay,d=Tr(this.context,a,s),c=e.isStart&&Cr(this.context,0,s),f=e.isEnd&&Rr(0,0,s),p=this.getSegClasses(e,d,c||f,n),v=an(this.getSkinCss(s));if(p.unshift("fc-time-grid-event"),ur(i.range)){if(e.isStart||e.isEnd){var y=e.start,E=e.end;h=this._getTimeText(y,E,l),g=this._getTimeText(y,E,l,this.fullTimeFormat),m=this._getTimeText(y,E,l,null,!1)}}else h=this.getTimeText(i),g=this.getTimeText(i,this.fullTimeFormat),m=this.getTimeText(i,null,!1);return'<a class="'+p.join(" ")+'"'+(a.url?' href="'+M(a.url)+'"':"")+(v?' style="'+v+'"':"")+'><div class="fc-content">'+(h?'<div class="fc-time" data-start="'+M(m)+'" data-full="'+M(g)+'"><span>'+M(h)+"</span></div>":"")+(a.title?'<div class="fc-title">'+M(a.title)+"</div>":"")+"</div>"+(f?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},t.prototype.computeSegHorizontals=function(e){var n,i,a;if(function(r){var t,e,n,i,a;for(t=0;t<r.length;t++)for(e=r[t],n=0;n<e.length;n++)for((i=e[n]).forwardSegs=[],a=t+1;a<r.length;a++)Oi(i,r[a],i.forwardSegs)}(n=function(r){var e,n,i,t=[];for(e=0;e<r.length;e++){for(n=r[e],i=0;i<t.length&&Oi(n,t[i]).length;i++);n.level=i,(t[i]||(t[i]=[])).push(n)}return t}(e)),i=n[0]){for(a=0;a<i.length;a++)ki(i[a]);for(a=0;a<i.length;a++)this.computeSegForwardBack(i[a],0,0)}},t.prototype.computeSegForwardBack=function(e,n,i){var s,a=e.forwardSegs;if(void 0===e.forwardCoord)for(a.length?(this.sortForwardSegs(a),this.computeSegForwardBack(a[0],n+1,i),e.forwardCoord=a[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-i)/(n+1),s=0;s<a.length;s++)this.computeSegForwardBack(a[s],0,e.forwardCoord)},t.prototype.sortForwardSegs=function(e){var n=e.map(Md),i=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.eventOrderSpecs);return n.sort(function(a,s){return sr(a,s,i)}),n.map(function(a){return a._seg})},t.prototype.assignSegCss=function(e){for(var n=0,i=e;n<i.length;n++){var a=i[n];Z(a.el,this.generateSegCss(a)),a.level>0&&a.el.classList.add("fc-time-grid-event-inset"),a.eventRange.def.title&&a.bottom-a.top<30&&a.el.classList.add("fc-short")}},t.prototype.generateSegCss=function(e){var d,c,n=this.context.options.slotEventOverlap,i=e.backwardCoord,a=e.forwardCoord,s=this.timeGrid.generateSegVerticalCss(e),l=this.context.isRtl;return n&&(a=Math.min(1,i+2*(a-i))),l?(d=1-a,c=i):(d=i,c=1-a),s.zIndex=e.level+1,s.left=100*d+"%",s.right=100*c+"%",n&&e.forwardPressure&&(s[l?"marginLeft":"marginRight"]=20),s},t}(mn);function ki(r){var n,i,t=r.forwardSegs,e=0;if(void 0===r.forwardPressure){for(n=0;n<t.length;n++)ki(i=t[n]),e=Math.max(e,1+i.forwardPressure);r.forwardPressure=e}}function Oi(r,t,e){void 0===e&&(e=[]);for(var n=0;n<t.length;n++)xd(r,t[n])&&e.push(t[n]);return e}function xd(r,t){return r.bottom>t.top&&r.top<t.bottom}function Md(r){var t=ri(r);return t.forwardPressure=r.forwardPressure,t.backwardCoord=r.backwardCoord,t}var kd=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ce(t,r),t.prototype.attachSegs=function(e,n){this.segsByCol=this.timeGrid.groupSegsByCol(e),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=n.sourceSeg},t.prototype.generateSegCss=function(e){var n=r.prototype.generateSegCss.call(this,e),i=this.sourceSeg;if(i&&i.col===e.col){var a=r.prototype.generateSegCss.call(this,i);n.left=a.left,n.right=a.right,n.marginLeft=a.marginLeft,n.marginRight=a.marginRight}return n},t}(Mi),Od=function(r){function t(e){var n=r.call(this)||this;return n.timeGrid=e,n}return ce(t,r),t.prototype.attachSegs=function(e,n){var a,i=this.timeGrid;return"bgEvent"===e?a=i.bgContainerEls:"businessHours"===e?a=i.businessContainerEls:"highlight"===e&&(a=i.highlightContainerEls),i.attachSegsByCol(i.groupSegsByCol(n),a),n.map(function(s){return s.el})},t.prototype.computeSegSizes=function(e){this.timeGrid.computeSegVerticals(e)},t.prototype.assignSegSizes=function(e){this.timeGrid.assignSegVerticals(e)},t}(ii),Ai=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],Ad=function(r){function t(e,n){var i=r.call(this,e)||this;i.isSlatSizesDirty=!1,i.isColSizesDirty=!1,i.processOptions=I(i._processOptions),i.renderSkeleton=_(i._renderSkeleton),i.renderSlats=_(i._renderSlats,null,[i.renderSkeleton]),i.renderColumns=_(i._renderColumns,i._unrenderColumns,[i.renderSkeleton]),i.renderProps=n;var a=i.renderColumns,s=i.eventRenderer=new Mi(i),l=i.fillRenderer=new Od(i);return i.mirrorRenderer=new kd(i),i.renderBusinessHours=_(l.renderSegs.bind(l,"businessHours"),l.unrender.bind(l,"businessHours"),[a]),i.renderDateSelection=_(i._renderDateSelection,i._unrenderDateSelection,[a]),i.renderFgEvents=_(s.renderSegs.bind(s),s.unrender.bind(s),[a]),i.renderBgEvents=_(l.renderSegs.bind(l,"bgEvent"),l.unrender.bind(l,"bgEvent"),[a]),i.renderEventSelection=_(s.selectByInstanceId.bind(s),s.unselectByInstanceId.bind(s),[i.renderFgEvents]),i.renderEventDrag=_(i._renderEventDrag,i._unrenderEventDrag,[a]),i.renderEventResize=_(i._renderEventResize,i._unrenderEventResize,[a]),i}return ce(t,r),t.prototype._processOptions=function(e){var a,s,n=e.slotDuration,i=e.snapDuration;null===(a=zt(n=C(n),i=i?C(i):n))&&(i=n,a=1),this.slotDuration=n,this.snapDuration=i,this.snapsPerSlot=a,s=e.slotLabelFormat,Array.isArray(s)&&(s=s[s.length-1]),this.labelFormat=V(s||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),this.labelInterval=(s=e.slotLabelInterval)?C(s):this.computeLabelInterval(n)},t.prototype.computeLabelInterval=function(e){var n,i,a;for(n=Ai.length-1;n>=0;n--)if(null!==(a=zt(i=C(Ai[n]),e))&&a>1)return i;return e},t.prototype.render=function(e,n){this.processOptions(n.options),this.colCnt=e.cells.length,this.renderSkeleton(n.theme),this.renderSlats(e.dateProfile),this.renderColumns(e.cells,e.dateProfile),this.renderBusinessHours(n,e.businessHourSegs),this.renderDateSelection(e.dateSelectionSegs),this.renderFgEvents(n,e.fgEventSegs),this.renderBgEvents(n,e.bgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender(),this.renderSkeleton.unrender()},t.prototype.updateSize=function(e){var n=this,i=n.fillRenderer,a=n.eventRenderer,s=n.mirrorRenderer;(e||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(e||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),i.computeSizes(e),a.computeSizes(e),s.computeSizes(e),i.assignSizes(e),a.assignSizes(e),s.assignSizes(e)},t.prototype._renderSkeleton=function(e){var n=this.el;n.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+e.getClass("widgetHeader")+'" style="display:none" />',this.rootBgContainerEl=n.querySelector(".fc-bg"),this.slatContainerEl=n.querySelector(".fc-slats"),this.bottomRuleEl=n.querySelector(".fc-divider")},t.prototype._renderSlats=function(e){this.slatContainerEl.innerHTML='<table class="'+this.context.theme.getClass("tableGrid")+'">'+this.renderSlatRowHtml(e)+"</table>",this.slatEls=G(this.slatContainerEl,"tr"),this.slatPositions=new Rt(this.el,this.slatEls,!1,!0),this.isSlatSizesDirty=!0},t.prototype.renderSlatRowHtml=function(e){for(var p,v,h,n=this.context,i=n.dateEnv,a=n.theme,s=n.isRtl,l="",d=A(e.renderRange.start),c=e.minTime,f=C(0);te(c)<te(e.maxTime);)p=i.add(d,c),v=null!==zt(f,this.labelInterval),h='<td class="fc-axis fc-time '+a.getClass("widgetContent")+'">'+(v?"<span>"+M(i.format(p,this.labelFormat))+"</span>":"")+"</td>",l+='<tr data-time="'+so(p)+'"'+(v?"":' class="fc-minor"')+">"+(s?"":h)+'<td class="'+a.getClass("widgetContent")+'"></td>'+(s?h:"")+"</tr>",c=Yt(c,this.slotDuration),f=Yt(f,this.slotDuration);return l},t.prototype._renderColumns=function(e,n){var i=this.context,a=i.calendar,s=i.view,l=i.isRtl,d=i.theme,c=i.dateEnv,f=new vi(this.context);this.rootBgContainerEl.innerHTML='<table class="'+d.getClass("tableGrid")+'">'+f.renderHtml({cells:e,dateProfile:n,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=G(this.el,".fc-day, .fc-disabled-day");for(var p=0;p<this.colCnt;p++)a.publiclyTrigger("dayRender",[{date:c.toDate(e[p].date),el:this.colEls[p],view:s}]);l&&this.colEls.reverse(),this.colPositions=new Rt(this.el,this.colEls,!0,!1),this.renderContentSkeleton(),this.isColSizesDirty=!0},t.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},t.prototype.renderContentSkeleton=function(){var i,e=this.context.isRtl,n=[];n.push(this.renderProps.renderIntroHtml());for(var a=0;a<this.colCnt;a++)n.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');e&&n.reverse(),i=this.contentSkeletonEl=_e('<div class="fc-content-skeleton"><table><tr>'+n.join("")+"</tr></table></div>"),this.colContainerEls=G(i,".fc-content-col"),this.mirrorContainerEls=G(i,".fc-mirror-container"),this.fgContainerEls=G(i,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=G(i,".fc-bgevent-container"),this.highlightContainerEls=G(i,".fc-highlight-container"),this.businessContainerEls=G(i,".fc-business-container"),e&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(i)},t.prototype.unrenderContentSkeleton=function(){z(this.contentSkeletonEl)},t.prototype.groupSegsByCol=function(e){var i,n=[];for(i=0;i<this.colCnt;i++)n.push([]);for(i=0;i<e.length;i++)n[e[i].col].push(e[i]);return n},t.prototype.attachSegsByCol=function(e,n){var i,a,s;for(i=0;i<this.colCnt;i++)for(a=e[i],s=0;s<a.length;s++)n[i].appendChild(a[s].el)},t.prototype.getNowIndicatorUnit=function(){return"minute"},t.prototype.renderNowIndicator=function(e,n){if(this.colContainerEls){var s,i=this.computeDateTop(n),a=[];for(s=0;s<e.length;s++){var l=L("div",{className:"fc-now-indicator fc-now-indicator-line"});l.style.top=i+"px",this.colContainerEls[e[s].col].appendChild(l),a.push(l)}if(e.length>0){var d=L("div",{className:"fc-now-indicator fc-now-indicator-arrow"});d.style.top=i+"px",this.contentSkeletonEl.appendChild(d),a.push(d)}this.nowIndicatorEls=a}},t.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(z),this.nowIndicatorEls=null)},t.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.getBoundingClientRect().height},t.prototype.computeDateTop=function(e,n){return n||(n=A(e)),this.computeTimeTop(C(e.valueOf()-n.valueOf()))},t.prototype.computeTimeTop=function(e){var s,l,n=this.slatEls.length,a=(e.milliseconds-te(this.props.dateProfile.minTime))/te(this.slotDuration);return a=Math.max(0,a),a=Math.min(n,a),s=Math.floor(a),l=a-(s=Math.min(s,n-1)),this.slatPositions.tops[s]+this.slatPositions.getHeight(s)*l},t.prototype.computeSegVerticals=function(e){var a,s,l,i=this.context.options.timeGridEventMinHeight;for(a=0;a<e.length;a++)(s=e[a]).top=this.computeDateTop(s.start,l=this.props.cells[s.col].date),s.bottom=Math.max(s.top+i,this.computeDateTop(s.end,l))},t.prototype.assignSegVerticals=function(e){var n,i;for(n=0;n<e.length;n++)Z((i=e[n]).el,this.generateSegVerticalCss(i))},t.prototype.generateSegVerticalCss=function(e){return{top:e.top,bottom:-e.bottom}},t.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},t.prototype.buildColPositions=function(){this.colPositions.build()},t.prototype.buildSlatPositions=function(){this.slatPositions.build()},t.prototype.positionToHit=function(e,n){var i=this.context.dateEnv,a=this,s=a.snapsPerSlot,l=a.slatPositions,d=a.colPositions,c=d.leftToIndex(e),f=l.topToIndex(n);if(null!=c&&null!=f){var p=l.tops[f],v=l.getHeight(f),g=Math.floor((n-p)/v*s),y=this.props.cells[c].date,E=Yt(this.props.dateProfile.minTime,function(r,t){return{years:r.years*t,months:r.months*t,days:r.days*t,milliseconds:r.milliseconds*t}}(this.snapDuration,f*s+g)),w=i.add(y,E);return{col:c,dateSpan:{range:{start:w,end:i.add(w,this.snapDuration)},allDay:!1},dayEl:this.colEls[c],relativeRect:{left:d.lefts[c],right:d.rights[c],top:p,bottom:p+v}}}},t.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),e.isEvent?this.mirrorRenderer.renderSegs(this.context,e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}):this.fillRenderer.renderSegs("highlight",this.context,e.segs))},t.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),e.isEvent?this.mirrorRenderer.unrender(this.context,e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}):this.fillRenderer.unrender("highlight",this.context))},t.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.mirrorRenderer.renderSegs(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype._renderDateSelection=function(e){e&&(this.context.options.selectMirror?this.mirrorRenderer.renderSegs(this.context,e,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",this.context,e))},t.prototype._unrenderDateSelection=function(e){e&&(this.context.options.selectMirror?this.mirrorRenderer.unrender(this.context,e,{isSelecting:!0}):this.fillRenderer.unrender("highlight",this.context))},t}(me),Pd=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ce(t,r),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?function(r){return"background"===r.rendering||"inverse-background"===r.rendering}(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(Fo),Nd=V({week:"short"}),Pi=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.splitter=new Pd,e.renderSkeleton=_(e._renderSkeleton,e._unrenderSkeleton),e.renderHeadIntroHtml=function(){var c,n=e.context,i=n.theme,a=n.dateEnv,s=n.options,l=e.props.dateProfile.renderRange,d=pe(l.start,l.end);return s.weekNumbers?(c=a.format(l.start,Nd),'<th class="fc-axis fc-week-number '+i.getClass("widgetHeader")+'" '+e.axisStyleAttr()+">"+Ie(s,a,{date:l.start,type:"week",forceOff:d>1},M(c))+"</th>"):'<th class="fc-axis '+i.getClass("widgetHeader")+'" '+e.axisStyleAttr()+"></th>"},e.renderTimeGridBgIntroHtml=function(){return'<td class="fc-axis '+e.context.theme.getClass("widgetContent")+'" '+e.axisStyleAttr()+"></td>"},e.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"},e.renderDayGridBgIntroHtml=function(){var n=e.context,a=n.options;return'<td class="fc-axis '+n.theme.getClass("widgetContent")+'" '+e.axisStyleAttr()+"><span>"+ln(a)+"</span></td>"},e.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"},e}return ce(t,r),t.prototype.render=function(e,n){r.prototype.render.call(this,e,n),this.renderSkeleton(n)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderSkeleton.unrender()},t.prototype._renderSkeleton=function(e){this.el.classList.add("fc-timeGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new un("hidden","auto");var n=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(n),n.classList.add("fc-time-grid-container");var i=L("div",{className:"fc-time-grid"});if(n.appendChild(i),this.timeGrid=new Ad(i,{renderBgIntroHtml:this.renderTimeGridBgIntroHtml,renderIntroHtml:this.renderTimeGridIntroHtml}),e.options.allDaySlot){this.dayGrid=new gi(this.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:this.renderDayGridIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1});var a=this.el.querySelector(".fc-divider");this.dayGrid.bottomCoordPadding=a.getBoundingClientRect().height}},t.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-timeGrid-view"),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},t.prototype.renderSkeletonHtml=function(){var e=this.context,n=e.theme,i=e.options;return'<table class="'+n.getClass("tableGrid")+'">'+(i.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+n.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+n.getClass("widgetContent")+'">'+(i.allDaySlot?'<div class="fc-day-grid"></div><hr class="fc-divider '+n.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},t.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},t.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},t.prototype.updateSize=function(e,n,i){r.prototype.updateSize.call(this,e,n,i),this.timeGrid.updateSize(e),this.dayGrid&&this.dayGrid.updateSize(e)},t.prototype.updateBaseSize=function(e,n,i){var s,l,d,a=this;if(this.axisWidth=or(G(this.el,".fc-axis")),this.timeGrid.colEls){var c=G(this.el,".fc-row").filter(function(f){return!a.scroller.el.contains(f)});this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),c.forEach(rr),this.dayGrid&&(this.dayGrid.removeSegPopover(),(s=this.context.options.eventLimit)&&"number"!=typeof s&&(s=5),s&&this.dayGrid.limitRows(s)),i||(l=this.computeScrollerHeight(n),this.scroller.setHeight(l),((d=this.scroller.getScrollbarWidths()).left||d.right)&&(c.forEach(function(f){nr(f,d)}),l=this.computeScrollerHeight(n),this.scroller.setHeight(l)),this.scroller.lockOverflow(d),this.timeGrid.getTotalSlatHeight()<l&&(this.timeGrid.bottomRuleEl.style.display=""))}else i||(l=this.computeScrollerHeight(n),this.scroller.setHeight(l))},t.prototype.computeScrollerHeight=function(e){return e-Wt(this.el,this.scroller.el)},t.prototype.computeDateScroll=function(e){var n=this.timeGrid.computeTimeTop(e);return(n=Math.ceil(n))&&n++,{top:n}},t.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},t.prototype.applyDateScroll=function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},t.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},t}(Ze);Pi.prototype.usesMinMaxTime=!0;var Hd=function(r){function t(e){var n=r.call(this,e.el)||this;return n.buildDayRanges=I(Bd),n.slicer=new Zd,n.timeGrid=e,n}return ce(t,r),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.timeGrid.el})},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype.render=function(e,n){var a=e.dateProfile,s=e.dayTable,l=this.dayRanges=this.buildDayRanges(s,a,this.context.dateEnv),d=this.timeGrid;d.receiveContext(n),d.receiveProps(nt({},this.slicer.sliceProps(e,a,null,n.calendar,d,l),{dateProfile:a,cells:s.cells[0]}),n)},t.prototype.renderNowIndicator=function(e){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(e,this.timeGrid,this.dayRanges),e)},t.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},t.prototype.queryHit=function(e,n){var i=this.timeGrid.positionToHit(e,n);if(i)return{component:this.timeGrid,dateSpan:i.dateSpan,dayEl:i.dayEl,rect:{left:i.relativeRect.left,right:i.relativeRect.right,top:i.relativeRect.top,bottom:i.relativeRect.bottom},layer:0}},t}(me);function Bd(r,t,e){for(var n=[],i=0,a=r.headerDates;i<a.length;i++){var s=a[i];n.push({start:e.add(s,t.minTime),end:e.add(s,t.maxTime)})}return n}var Zd=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ce(t,r),t.prototype.sliceRange=function(e,n){for(var i=[],a=0;a<n.length;a++){var s=Re(e,n[a]);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:a})}return i},t}(ci);function Ud(r,t){var e=new li(r.renderRange,t);return new di(e,!1)}const Gd=ne({defaultView:"timeGridWeek",views:{timeGrid:{class:function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.buildDayTable=I(Ud),e}return ce(t,r),t.prototype.render=function(e,n){r.prototype.render.call(this,e,n);var i=this.props,a=i.dateProfile,s=i.dateProfileGenerator,l=n.nextDayThreshold,d=this.buildDayTable(a,s),c=this.splitter.splitProps(e);this.header&&this.header.receiveProps({dateProfile:a,dates:d.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml},n),this.simpleTimeGrid.receiveProps(nt({},c.timed,{dateProfile:a,dayTable:d}),n),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(nt({},c.allDay,{dateProfile:a,dayTable:d,nextDayThreshold:l,isRigid:!1}),n),this.startNowIndicator(a,s)},t.prototype._renderSkeleton=function(e){r.prototype._renderSkeleton.call(this,e),e.options.columnHeader&&(this.header=new si(this.el.querySelector(".fc-head-container"))),this.simpleTimeGrid=new Hd(this.timeGrid),this.dayGrid&&(this.simpleDayGrid=new yi(this.dayGrid))},t.prototype._unrenderSkeleton=function(){r.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},t.prototype.renderNowIndicator=function(e){this.simpleTimeGrid.renderNowIndicator(e)},t}(Pi),allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});var Ft=b(1177),Yd=b(1522);var jd=b(5345);var Xd=b(1947),Nt=b(9765),ue=b(6782),Ht=b(6215),Fi=b(5917),Mn=b(3342),ye=b(5257),be=b(3190),fe=b(8002),rt=b(2340),$d=b(1841);let Me=(()=>{class r{constructor(e){this._httpClient=e,this._calendars=new Ht.X(null),this._events=new Ht.X(null),this._loadedEventsRange={start:null,end:null},this._numberOfDaysToPrefetch=60,this._settings=new Ht.X(null),this._weekdays=new Ht.X(null)}get calendars$(){return this._calendars.asObservable()}get events$(){return this._events.asObservable()}get settings$(){return this._settings.asObservable()}get weekdays$(){return this._weekdays.asObservable()}getCalendars(){return this._httpClient.get(`${rt.N.url}/catalog/REQUESTSTATUS`).pipe((0,Mn.b)(e=>{let n=[];console.log(e.catalog.detailCatalog),e.catalog.detailCatalog.forEach(i=>{let a="";a="amarillo"===i.description?"bg-yellow-500":"verde"===i.description?"bg-green-500":"rojo"===i.description?"bg-red-500":"bg-blue-500";const s={id:i.id,title:i.name,color:a,visible:!0};n=[...n,s]}),this._calendars.next(n)}))}addCalendar(e){return this.calendars$.pipe((0,ye.q)(1),(0,be.w)(n=>this._httpClient.post("api/apps/calendar/calendars",{calendar:e}).pipe((0,fe.U)(i=>(n.push(i),this._calendars.next(n),i)))))}updateCalendar(e,n){return this.calendars$.pipe((0,ye.q)(1),(0,be.w)(i=>this._httpClient.patch("api/apps/calendar/calendars",{id:e,calendar:n}).pipe((0,fe.U)(a=>{const s=i.findIndex(l=>l.id===e);return i[s]=a,this._calendars.next(i),a}))))}deleteCalendar(e){return this.calendars$.pipe((0,ye.q)(1),(0,be.w)(n=>this._httpClient.delete("api/apps/calendar/calendars",{params:{id:e}}).pipe((0,fe.U)(i=>{const a=n.findIndex(l=>l.id===e);n.splice(a,1),this._calendars.next(n);const s=this._events.value.filter(l=>l.calendarId!==e);return this._events.next(s),i}))))}getEvents(e,n,i=!1){(i||!this._loadedEventsRange.start||e.isBefore(this._loadedEventsRange.start))&&(this._loadedEventsRange.start=e),(i||!this._loadedEventsRange.end||n.isAfter(this._loadedEventsRange.end))&&(this._loadedEventsRange.end=n);let a=[];return this._httpClient.get(`${rt.N.url}/request`).pipe((0,be.w)(s=>this._events.pipe((0,ye.q)(1),(0,fe.U)(l=>{let c;return s.requests.filter(f=>"SOLICITADO"!==f.status.name).forEach(f=>{var p,v;c=f.withdrawalTime.split(" ")[0].split(":");const g={title:`${null===(p=f.vehicle)||void 0===p?void 0:p.plate}-${f.proforma}-${null===(v=f.driver)||void 0===v?void 0:v.fullName}`,calendarId:f.status.id,description:f.customer.businessName,id:f.id,start:An()(f.withdrawalDate).hour(c[0]).minute(c[1]).second(0).millisecond(0).toISOString()};a=[...a,g]}),i||(l=l||[]),this._events.next(a),a}))))}reloadEvents(){return this._httpClient.get("api/apps/calendar/events",{params:{start:this._loadedEventsRange.start.toISOString(),end:this._loadedEventsRange.end.toISOString()}}).pipe((0,fe.U)(e=>(this._events.next(e),e)))}prefetchFutureEvents(e){const n=this._loadedEventsRange.end.diff(e,"days");if(n>=this._numberOfDaysToPrefetch)return(0,Fi.of)([]);const i=this._loadedEventsRange.end.clone().add(1,"day");return e=this._loadedEventsRange.end.clone().add(this._numberOfDaysToPrefetch-n,"days"),this.getEvents(i,e)}prefetchPastEvents(e){const n=e.diff(this._loadedEventsRange.start,"days");if(n>=this._numberOfDaysToPrefetch)return(0,Fi.of)([]);e=this._loadedEventsRange.start.clone().subtract(this._numberOfDaysToPrefetch-n,"days");const i=this._loadedEventsRange.start.clone().subtract(1,"day");return this.getEvents(e,i)}addEvent(e){return this.events$.pipe((0,ye.q)(1),(0,be.w)(n=>this._httpClient.post("api/apps/calendar/event",{event:e}).pipe((0,fe.U)(i=>(this._events.next(n),i)))))}updateEvent(e,n){return this.events$.pipe((0,ye.q)(1),(0,be.w)(i=>this._httpClient.patch("api/apps/calendar/event",{id:e,event:n}).pipe((0,fe.U)(a=>{const s=i.findIndex(l=>l.id===e);return i[s]=a,this._events.next(i),a}))))}updateRecurringEvent(e,n,i){return this._httpClient.patch("api/apps/calendar/recurring-event",{event:e,originalEvent:n,mode:i})}deleteEvent(e){return this.events$.pipe((0,ye.q)(1),(0,be.w)(n=>this._httpClient.delete("api/apps/calendar/event",{params:{id:e}}).pipe((0,fe.U)(i=>{const a=n.findIndex(s=>s.id===e);return n.splice(a,1),this._events.next(n),i}))))}deleteRecurringEvent(e,n){return this._httpClient.delete("api/apps/calendar/recurring-event",{params:{event:JSON.stringify(e),mode:n}})}getSettings(){return this._httpClient.get("api/apps/calendar/settings").pipe((0,Mn.b)(e=>{this._settings.next(e)}))}updateSettings(e){return this.events$.pipe((0,ye.q)(1),(0,be.w)(n=>this._httpClient.patch("api/apps/calendar/settings",{settings:e}).pipe((0,fe.U)(i=>(this._settings.next(e),this.getWeekdays().subscribe(),i)))))}getWeekdays(){return this._httpClient.get("api/apps/calendar/weekdays").pipe((0,Mn.b)(e=>{this._weekdays.next(e)}))}getRequestSoli(){return this._httpClient.get(`${rt.N.url}/request`)}getStatus(){return this._httpClient.get(`${rt.N.url}/catalog/REQUESTSTATUS`)}getPlate(){return this._httpClient.get(`${rt.N.url}/vehicle`)}}return r.\u0275fac=function(e){return new(e||r)(o.LFG($d.eN))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Kd(r,t){if(1&r&&(o.ynx(0),o.TgZ(1,"mat-button-toggle",20),o._uU(2),o.qZA(),o.BQk()),2&r){const e=t.$implicit;o.xp6(1),o.Q6J("disableRipple",!0)("value",e.value)("matTooltip",e.label),o.xp6(1),o.hij(" ",e.abbr," ")}}function ec(r,t){if(1&r&&(o.TgZ(0,"div",16),o.TgZ(1,"div",17),o._uU(2,"Repeat on"),o.qZA(),o.TgZ(3,"mat-button-toggle-group",18),o.YNc(4,Kd,3,4,"ng-container",19),o.qZA(),o.qZA()),2&r){const e=o.oxw();o.Q6J("formGroupName","weekly"),o.xp6(3),o.Q6J("formControlName","byDay")("multiple",!0),o.xp6(1),o.Q6J("ngForOf",e.weekdays)}}function tc(r,t){if(1&r&&(o.TgZ(0,"div",21),o.TgZ(1,"mat-form-field",22),o.TgZ(2,"mat-label"),o._uU(3,"Repeat on"),o.qZA(),o.TgZ(4,"mat-select",6),o.TgZ(5,"mat-option",7),o._uU(6),o.qZA(),o.TgZ(7,"mat-option",7),o._uU(8),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const e=o.oxw();o.Q6J("formGroupName","monthly"),o.xp6(4),o.Q6J("formControlName","repeatOn"),o.xp6(1),o.Q6J("value","date"),o.xp6(1),o.hij("Monthly on day ",e.recurrenceForm.get("monthly.date").value,""),o.xp6(1),o.Q6J("value","nthWeekday"),o.xp6(1),o.hij("Monthly on the ",e.nthWeekdayText,"")}}function nc(r,t){if(1&r&&(o.TgZ(0,"mat-form-field",5),o._UZ(1,"input",23),o._UZ(2,"mat-datepicker-toggle",24),o._UZ(3,"mat-datepicker",null,25),o.qZA()),2&r){const e=o.MAs(4);o.xp6(1),o.Q6J("matDatepicker",e)("formControlName","until"),o.xp6(1),o.Q6J("for",e)}}function rc(r,t){1&r&&(o.TgZ(0,"mat-form-field",5),o._UZ(1,"input",4),o.TgZ(2,"span",26),o._uU(3,"occurrence(s)"),o.qZA(),o.qZA()),2&r&&(o.xp6(1),o.Q6J("autocomplete","off")("formControlName","count")("min",1))}let ic=(()=>{class r{constructor(e,n,i,a){this.data=e,this.matDialogRef=n,this._calendarService=i,this._formBuilder=a,this._unsubscribeAll=new Nt.xQ}ngOnInit(){this._calendarService.weekdays$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(e=>{this.weekdays=e}),this._init(),this.recurrenceForm=this._formBuilder.group({freq:[null],interval:[null,x.kI.required],weekly:this._formBuilder.group({byDay:[[]]}),monthly:this._formBuilder.group({repeatOn:[null],date:[null],nthWeekday:[null]}),end:this._formBuilder.group({type:[null],until:[null],count:[null]})}),this.recurrenceForm.get("freq").valueChanges.subscribe(e=>{this._setEndValues(e)}),this.recurrenceForm.get("weekly.byDay").valueChanges.subscribe(e=>{const n=R(this.data.event.start);if(!e||!e.length){const i=n.format("dd").toUpperCase();this.recurrenceForm.get("weekly.byDay").setValue([i],{emitEvent:!1})}}),this.recurrenceForm.patchValue(this.recurrenceFormValues),this._setEndValues(this.recurrenceForm.get("freq").value)}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}clear(){this.matDialogRef.close({recurrence:"cleared"})}done(){const e=this.recurrenceForm.value,n=["FREQ="+e.freq,"INTERVAL="+e.interval];"MONTHLY"===e.freq&&"nthWeekday"===e.monthly.repeatOn&&n.push("BYDAY="+e.monthly.nthWeekday),"WEEKLY"===e.freq&&(Array.isArray(e.weekly.byDay)?n.push("BYDAY="+e.weekly.byDay.join(",")):n.push("BYDAY="+e.weekly.byDay)),"until"===e.end.type&&n.push("UNTIL="+R(e.end.until).endOf("day").utc().format("YYYYMMDD[T]HHmmss[Z]")),"count"===e.end.type&&n.push("COUNT="+e.end.count);const i=n.join(";");this.matDialogRef.close({recurrence:i})}_init(){const e=R(this.data.event.start),n=R(this.data.event.start).format("dd").toUpperCase();let i=1;for(;e.clone().isSame(e.clone().subtract(i,"week"),"month");)i++;const a=i+n;if(this.nthWeekdayText=a.slice(0,1)+{1:"st",2:"nd",3:"rd",4:"th",5:"th"}[a.slice(0,1)]+" "+this.weekdays.find(l=>l.value===a.slice(-2)).label,this.recurrenceFormValues={freq:"DAILY",interval:1,weekly:{byDay:n},monthly:{repeatOn:"date",date:R(this.data.event.start).date(),nthWeekday:a},end:{type:"never",until:null,count:null}},this.data.event.recurrence){const l={};this.data.event.recurrence.split(";").forEach(d=>{l[d.split("=")[0]]=d.split("=")[1]}),this.recurrenceFormValues.freq=l.FREQ,this.recurrenceFormValues.interval=l.INTERVAL,"WEEKLY"===l.FREQ&&(this.recurrenceFormValues.weekly.byDay=l.BYDAY.split(",")),"MONTHLY"===l.FREQ&&(this.recurrenceFormValues.monthly.repeatOn=l.BYDAY?"nthWeekday":"date"),this.recurrenceFormValues.end.type=l.UNTIL?"until":l.COUNT?"count":"never",this.recurrenceFormValues.end.until=l.UNTIL||null,this.recurrenceFormValues.end.count=l.COUNT||null}}_setEndValues(e){if(!e)return;const n=R(this.data.event.startDate),i=this.recurrenceForm.get("end.type").value;if("until"!==i){let a;"DAILY"===e&&(a=n.clone().add(1,"month").toISOString()),"WEEKLY"===e&&(a=n.clone().add(12,"weeks").toISOString()),"MONTHLY"===e&&(a=n.clone().add(12,"months").toISOString()),"YEARLY"===e&&(a=n.clone().add(5,"years").toISOString()),this.recurrenceForm.get("end.until").setValue(a)}if("count"!==i){let a;"DAILY"===e&&(a=30),("WEEKLY"===e||"MONTHLY"===e)&&(a=12),"YEARLY"===e&&(a=5),this.recurrenceForm.get("end.count").setValue(a)}}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(it.WI),o.Y36(it.so),o.Y36(Me),o.Y36(x.qu))},r.\u0275cmp=o.Xpm({type:r,selectors:[["calendar-recurrence"]],decls:39,vars:21,consts:[[1,"flex","flex-col","w-full",3,"formGroup"],[1,"text-2xl","font-semibold","tracking-tight"],[1,"flex","mt-12"],[1,"fuse-mat-no-subscript","w-24","-mt-6"],["type","number","matInput","",3,"autocomplete","formControlName","min"],[1,"fuse-mat-no-subscript","w-40","ml-4"],[3,"formControlName"],[3,"value"],["class","flex flex-col mt-6",3,"formGroupName",4,"ngIf"],["class","flex mt-6",3,"formGroupName",4,"ngIf"],[1,"flex","flex-col","mt-12",3,"formGroupName"],[1,"flex","items-center"],["class","fuse-mat-no-subscript w-40 ml-4",4,"ngIf"],[1,"ml-auto","mt-8"],["mat-button","",1,"clear",3,"color","click"],["mat-flat-button","",3,"disabled","color","click"],[1,"flex","flex-col","mt-6",3,"formGroupName"],[1,"font-medium"],[1,"mt-1.5","border-0","space-x-1",3,"formControlName","multiple"],[4,"ngFor","ngForOf"],[1,"w-10","h-10","border-0","rounded-full",3,"disableRipple","value","matTooltip"],[1,"flex","mt-6",3,"formGroupName"],[1,"fuse-mat-no-subscript","w-full"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["untilDatePicker",""],["matSuffix",""]],template:function(e,n){1&e&&(o.TgZ(0,"form",0),o.TgZ(1,"div",1),o._uU(2,"Recurrence rules"),o.qZA(),o.TgZ(3,"div",2),o.TgZ(4,"mat-form-field",3),o.TgZ(5,"mat-label"),o._uU(6,"Repeat every"),o.qZA(),o._UZ(7,"input",4),o.qZA(),o.TgZ(8,"mat-form-field",5),o.TgZ(9,"mat-select",6),o.TgZ(10,"mat-option",7),o._uU(11,"day(s)"),o.qZA(),o.TgZ(12,"mat-option",7),o._uU(13,"week(s)"),o.qZA(),o.TgZ(14,"mat-option",7),o._uU(15,"month(s)"),o.qZA(),o.TgZ(16,"mat-option",7),o._uU(17,"year(s)"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(18,ec,5,4,"div",8),o.YNc(19,tc,9,6,"div",9),o.TgZ(20,"div",10),o.TgZ(21,"div",11),o.TgZ(22,"mat-form-field",3),o.TgZ(23,"mat-label"),o._uU(24,"Ends"),o.qZA(),o.TgZ(25,"mat-select",6),o.TgZ(26,"mat-option",7),o._uU(27,"Never"),o.qZA(),o.TgZ(28,"mat-option",7),o._uU(29,"On"),o.qZA(),o.TgZ(30,"mat-option",7),o._uU(31,"After"),o.qZA(),o.qZA(),o.qZA(),o.YNc(32,nc,5,3,"mat-form-field",12),o.YNc(33,rc,4,3,"mat-form-field",12),o.qZA(),o.qZA(),o.TgZ(34,"div",13),o.TgZ(35,"button",14),o.NdJ("click",function(){return n.clear()}),o._uU(36," Clear "),o.qZA(),o.TgZ(37,"button",15),o.NdJ("click",function(){return n.done()}),o._uU(38," Done "),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("formGroup",n.recurrenceForm),o.xp6(7),o.Q6J("autocomplete","off")("formControlName","interval")("min",1),o.xp6(2),o.Q6J("formControlName","freq"),o.xp6(1),o.Q6J("value","DAILY"),o.xp6(2),o.Q6J("value","WEEKLY"),o.xp6(2),o.Q6J("value","MONTHLY"),o.xp6(2),o.Q6J("value","YEARLY"),o.xp6(2),o.Q6J("ngIf","WEEKLY"===n.recurrenceForm.get("freq").value),o.xp6(1),o.Q6J("ngIf","MONTHLY"===n.recurrenceForm.get("freq").value),o.xp6(1),o.Q6J("formGroupName","end"),o.xp6(5),o.Q6J("formControlName","type"),o.xp6(1),o.Q6J("value","never"),o.xp6(2),o.Q6J("value","until"),o.xp6(2),o.Q6J("value","count"),o.xp6(2),o.Q6J("ngIf","until"===n.recurrenceForm.get("end.type").value),o.xp6(1),o.Q6J("ngIf","count"===n.recurrenceForm.get("end.type").value),o.xp6(2),o.Q6J("color","primary"),o.xp6(2),o.Q6J("disabled",n.recurrenceForm.invalid)("color","primary"))},directives:[x._Y,x.JL,x.sg,K.KE,K.hX,x.wV,x.qQ,ze.Nt,x.Fj,x.JJ,x.u,Oe.gD,F.ey,re.O5,x.x0,Q.lW,ke.A9,re.sg,ke.Yi,Nn.gM,Ge.hl,Ge.nW,K.R9,Ge.Mq],encapsulation:2}),r})();var Ni=b(8203),ac=b(1812),oc=b(2927);const sc=["bg-gray-500","bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-teal-500","bg-blue-500","bg-indigo-500","bg-purple-500","bg-pink-500"],lc=["editPanel"];function dc(r,t){if(1&r){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",7),o.TgZ(2,"div",8),o.NdJ("click",function(){const a=o.CHM(e).$implicit;return o.oxw().toggleCalendarVisibility(a)}),o._UZ(3,"span",9),o.TgZ(4,"span",10),o._uU(5),o.qZA(),o.qZA(),o.qZA(),o.BQk()}if(2&r){const e=t.$implicit;o.xp6(3),o.Q6J("ngClass",e.color),o.xp6(2),o.Oqu(e.title)}}function cc(r,t){1&r&&(o.ynx(0),o._uU(1,"Add calendar"),o.BQk())}function uc(r,t){1&r&&(o.ynx(0),o._uU(1,"Edit calendar"),o.BQk())}function fc(r,t){1&r&&o._UZ(0,"mat-icon",29),2&r&&o.Q6J("svgIcon","heroicons_outline:check")}function pc(r,t){if(1&r&&(o.ynx(0),o.TgZ(1,"mat-option",25,26),o.YNc(3,fc,1,1,"mat-icon",27),o._UZ(4,"span",28),o.qZA(),o.BQk()),2&r){const e=t.$implicit,n=o.MAs(2);o.xp6(1),o.Q6J("value",e),o.xp6(2),o.Q6J("ngIf",n.selected),o.xp6(1),o.Q6J("ngClass",e)}}function hc(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"button",30),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(2);return i.deleteCalendar(i.calendar)}),o._uU(1," Delete "),o.qZA()}}function vc(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(2);return i.saveCalendar(i.calendar)}),o._uU(1," Update "),o.qZA()}if(2&r){const e=o.oxw(2);o.Q6J("color","primary")("disabled",!e.calendar.title)}}function gc(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"button",30),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).closeEditPanel()}),o._uU(1," Cancel "),o.qZA()}}function mc(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(2);return i.saveCalendar(i.calendar)}),o._uU(1," Add11 "),o.qZA()}if(2&r){const e=o.oxw(2);o.Q6J("color","primary")("disabled",!e.calendar.title)}}function yc(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"div",11),o.TgZ(1,"div",12),o.YNc(2,cc,2,0,"ng-container",13),o.YNc(3,uc,2,0,"ng-container",13),o.qZA(),o.TgZ(4,"div",14),o.TgZ(5,"mat-form-field",15),o.TgZ(6,"input",16),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().calendar.title=i}),o.qZA(),o.TgZ(7,"mat-select",17),o.NdJ("valueChange",function(i){return o.CHM(e),o.oxw().calendar.color=i}),o.TgZ(8,"mat-select-trigger",18),o._UZ(9,"mat-icon",19),o.qZA(),o.TgZ(10,"div",20),o._uU(11,"Calendar color"),o.qZA(),o.TgZ(12,"div",21),o.YNc(13,pc,5,3,"ng-container",5),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",22),o.YNc(15,hc,2,0,"button",23),o.YNc(16,vc,2,2,"button",24),o.YNc(17,gc,2,0,"button",23),o.YNc(18,mc,2,2,"button",24),o.qZA(),o.qZA()}if(2&r){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",!e.calendar.id),o.xp6(1),o.Q6J("ngIf",e.calendar.id),o.xp6(3),o.Q6J("ngModel",e.calendar.title)("placeholder","Title"),o.xp6(1),o.Q6J("value",e.calendar.color)("disableOptionCentering",!0),o.xp6(2),o.Q6J("svgIcon","heroicons_outline:color-swatch"),o.xp6(4),o.Q6J("ngForOf",e.calendarColors),o.xp6(2),o.Q6J("ngIf",e.calendar.id),o.xp6(1),o.Q6J("ngIf",e.calendar.id),o.xp6(1),o.Q6J("ngIf",!e.calendar.id),o.xp6(1),o.Q6J("ngIf",!e.calendar.id)}}let bc=(()=>{class r{constructor(e,n,i){this._calendarService=e,this._overlay=n,this._viewContainerRef=i,this.calendarUpdated=new o.vpe,this.calendarColors=sc,this._unsubscribeAll=new Nt.xQ}ngOnInit(){this._calendarService.calendars$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(e=>{this.calendars=e})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete(),this._editPanelOverlayRef&&this._editPanelOverlayRef.dispose()}openEditPanel(e){this.calendar=(0,Ft.Z)(e),this._editPanelOverlayRef||this._createEditPanelOverlay(),this._editPanelOverlayRef.attach(new ui.UE(this._editPanel,this._viewContainerRef))}closeEditPanel(){this._editPanelOverlayRef&&this._editPanelOverlayRef.detach()}toggleCalendarVisibility(e){e.visible=!e.visible,this.saveCalendar(e)}addCalendar(){this.openEditPanel({id:null,title:"",color:"bg-blue-500",visible:!0})}saveCalendar(e){e.id?this._calendarService.updateCalendar(e.id,e).subscribe(()=>{this.closeEditPanel(),this.calendarUpdated.emit()}):this._calendarService.addCalendar(e).subscribe(()=>{this.closeEditPanel(),this.calendarUpdated.emit()})}deleteCalendar(e){this._calendarService.deleteCalendar(e.id).subscribe(()=>{this.closeEditPanel(),this.calendarUpdated.emit()})}_createEditPanelOverlay(){this._editPanelOverlayRef=this._overlay.create({hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically()}),this._editPanelOverlayRef.backdropClick().subscribe(()=>{this.closeEditPanel(),this.calendar=null})}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(Me),o.Y36(Ni.aV),o.Y36(o.s_b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["calendar-sidebar"]],viewQuery:function(e,n){if(1&e&&o.Gf(lc,5),2&e){let i;o.iGM(i=o.CRH())&&(n._editPanel=i.first)}},outputs:{calendarUpdated:"calendarUpdated"},decls:10,vars:2,consts:[[1,"flex","flex-col","flex-auto","min-h-full","p-8"],[1,"pb-6","text-4xl","font-extrabold","tracking-tight"],[1,"group","flex","items-center","justify-between","mb-3"],[1,"text-lg","font-medium"],[1,"hidden","group-hover:inline-flex","icon-size-5","cursor-pointer",3,"svgIcon","click"],[4,"ngFor","ngForOf"],["editPanel",""],[1,"group","flex","items-center","justify-between","mt-2"],[1,"flex","items-center",3,"click"],[1,"w-3","h-3","ml-2","rounded-full",3,"ngClass"],[1,"ml-2","leading-none"],[1,"flex","flex-col","w-80","p-8","shadow-2xl","rounded-lg","bg-card"],[1,"text-2xl","font-semibold","tracking-tight"],[4,"ngIf"],[1,"flex","items-center","mt-8"],[1,"fuse-mat-no-subscript","w-full"],["matInput","","required","",3,"ngModel","placeholder","ngModelChange"],["matPrefix","",3,"value","disableOptionCentering","valueChange"],[1,"h-6"],[3,"svgIcon"],[1,"px-4","pt-5","text-xl","font-semibold"],[1,"flex","flex-wrap","w-48","my-4","mx-3","-mr-5"],[1,"ml-auto","mt-8","space-x-2"],["mat-button","",3,"click",4,"ngIf"],["mat-flat-button","",3,"color","disabled","click",4,"ngIf"],[1,"relative","flex","w-12","h-12","p-0","cursor-pointer","rounded-full","bg-transparent",3,"value"],["matOption","matOption"],["class","absolute m-3 text-white",3,"svgIcon",4,"ngIf"],[1,"flex","w-10","h-10","m-1","rounded-full",3,"ngClass"],[1,"absolute","m-3","text-white",3,"svgIcon"],["mat-button","",3,"click"],["mat-flat-button","",3,"color","disabled","click"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._uU(2,"Calendario"),o.qZA(),o.TgZ(3,"div",2),o.TgZ(4,"span",3),o._uU(5,"Estados"),o.qZA(),o.TgZ(6,"mat-icon",4),o.NdJ("click",function(){return n.addCalendar()}),o.qZA(),o.qZA(),o.YNc(7,dc,6,2,"ng-container",5),o.YNc(8,yc,19,12,"ng-template",null,6,o.W1O),o.qZA()),2&e&&(o.xp6(6),o.Q6J("svgIcon","heroicons_solid:plus-circle"),o.xp6(1),o.Q6J("ngForOf",n.calendars))},directives:[Ye.Hw,re.sg,re.mk,re.O5,K.KE,ze.Nt,x.Fj,x.Q7,x.JJ,x.On,Oe.gD,K.qo,Oe.$L,F.ey,Q.lW],encapsulation:2}),r})();var Ec=b(1769),Hi=b(4885);const Sc=["eventPanel"],wc=["fullCalendar"],Dc=["drawer"],_c=["newEventForm"];function Tc(r,t){if(1&r&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&r){const e=t.$implicit;o.Q6J("value",e.plate),o.xp6(1),o.Oqu(e.plate)}}const Cc=function(r){return["/request/edit",r]};function Rc(r,t){if(1&r&&(o.ynx(0),o.TgZ(1,"button",45),o._UZ(2,"mat-icon",9),o.qZA(),o.BQk()),2&r){const e=o.oxw(3);o.xp6(1),o.Q6J("routerLink",o.VKq(2,Cc,e.event.id)),o.xp6(1),o.Q6J("svgIcon","heroicons_outline:pencil-alt")}}function Ic(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"button",26),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).changeEventPanelMode("edit","future")}),o._uU(1," This and following events "),o.qZA()}}function xc(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"button",26),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(4);return i.deleteEvent(i.event,"future")}),o._uU(1," This and following events "),o.qZA()}}function Mc(r,t){if(1&r){const e=o.EpF();o.ynx(0),o.TgZ(1,"button",46),o._UZ(2,"mat-icon",9),o.qZA(),o.TgZ(3,"mat-menu",null,47),o.TgZ(5,"button",26),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).changeEventPanelMode("edit","single")}),o._uU(6," This event "),o.qZA(),o.YNc(7,Ic,2,0,"button",48),o.TgZ(8,"button",26),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).changeEventPanelMode("edit","all")}),o._uU(9," All events "),o.qZA(),o.qZA(),o.TgZ(10,"button",46),o._UZ(11,"mat-icon",9),o.qZA(),o.TgZ(12,"mat-menu",null,49),o.TgZ(14,"button",26),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(3);return i.deleteEvent(i.event,"single")}),o._uU(15," This event "),o.qZA(),o.YNc(16,xc,2,0,"button",48),o.TgZ(17,"button",26),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(3);return i.deleteEvent(i.event,"all")}),o._uU(18," All events "),o.qZA(),o.qZA(),o.BQk()}if(2&r){const e=o.MAs(4),n=o.MAs(13),i=o.oxw(3);o.xp6(1),o.Q6J("matMenuTriggerFor",e),o.xp6(1),o.Q6J("svgIcon","heroicons_outline:pencil-alt"),o.xp6(5),o.Q6J("ngIf",!i.event.isFirstInstance),o.xp6(3),o.Q6J("matMenuTriggerFor",n),o.xp6(1),o.Q6J("svgIcon","heroicons_outline:trash"),o.xp6(5),o.Q6J("ngIf",!i.event.isFirstInstance)}}function kc(r,t){if(1&r&&(o.TgZ(0,"div",41),o._UZ(1,"mat-icon",9),o.TgZ(2,"div",50),o._uU(3),o.qZA(),o.qZA()),2&r){const e=o.oxw(3);o.xp6(1),o.Q6J("svgIcon","heroicons_outline:menu-alt-2"),o.xp6(2),o.Oqu(e.event.description)}}function Oc(r,t){if(1&r&&(o.ynx(0),o.TgZ(1,"div",34),o.TgZ(2,"div",5),o._UZ(3,"mat-icon",9),o.TgZ(4,"div",35),o.TgZ(5,"div"),o.TgZ(6,"div",36),o._uU(7),o.qZA(),o.TgZ(8,"div",37),o._uU(9),o.ALo(10,"date"),o.qZA(),o.TgZ(11,"div",38),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"div",39),o.YNc(14,Rc,3,4,"ng-container",33),o.YNc(15,Mc,19,6,"ng-container",33),o.qZA(),o.qZA(),o.qZA(),o.YNc(16,kc,4,2,"div",40),o.TgZ(17,"div",41),o._UZ(18,"mat-icon",9),o.TgZ(19,"div",42),o._UZ(20,"div",43),o.TgZ(21,"div",44),o._uU(22),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.BQk()),2&r){const e=o.oxw(2);o.xp6(3),o.Q6J("svgIcon","heroicons_outline:information-circle"),o.xp6(4),o.Oqu(e.event.title||"(No title)"),o.xp6(2),o.Oqu(o.xi3(10,10,e.event.start,"d/MM/yyyy H:mm")),o.xp6(3),o.Oqu(e.recurrenceStatus),o.xp6(2),o.Q6J("ngIf",!e.event.recurrence),o.xp6(1),o.Q6J("ngIf",e.event.recurrence),o.xp6(1),o.Q6J("ngIf",e.event.description),o.xp6(2),o.Q6J("svgIcon","heroicons_outline:calendar"),o.xp6(2),o.Q6J("ngClass",e.getCalendar(e.event.calendarId).color),o.xp6(2),o.Oqu(e.getCalendar(e.event.calendarId).title)}}function Ac(r,t){if(1&r&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&r){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.proforma+"-"+e.customer.businessName)}}function Pc(r,t){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"El campo el obligatorio "),o.qZA())}function Fc(r,t){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"El campo el obligatorio "),o.qZA())}function Nc(r,t){1&r&&(o.TgZ(0,"span"),o._uU(1," Agendar "),o.qZA())}function Hc(r,t){1&r&&o._UZ(0,"mat-progress-spinner",66),2&r&&o.Q6J("diameter",24)("mode","indeterminate")}function Bc(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"button",64),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).addEvent()}),o.YNc(1,Nc,2,0,"span",33),o.YNc(2,Hc,1,2,"mat-progress-spinner",65),o.qZA()}if(2&r){const e=o.oxw(3);o.Q6J("color","primary")("disabled",e.eventForm.disabled),o.xp6(1),o.Q6J("ngIf",!e.eventForm.disabled),o.xp6(1),o.Q6J("ngIf",e.eventForm.disabled)}}function Zc(r,t){if(1&r){const e=o.EpF();o.TgZ(0,"button",67),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).updateEvent()}),o._uU(1," Save "),o.qZA()}2&r&&o.Q6J("color","primary")}function Lc(r,t){if(1&r&&(o.ynx(0),o.TgZ(1,"form",51,52),o.TgZ(3,"div",53),o._uU(4,"Agendar solicitud"),o.qZA(),o._UZ(5,"mat-divider"),o.TgZ(6,"div",54),o._UZ(7,"mat-icon",55),o.TgZ(8,"mat-form-field",56),o.TgZ(9,"mat-select",57),o.YNc(10,Ac,2,2,"mat-option",19),o.qZA(),o.YNc(11,Pc,2,0,"mat-error",33),o.qZA(),o.qZA(),o.TgZ(12,"div",58),o._UZ(13,"mat-icon",59),o.TgZ(14,"mat-form-field",56),o._UZ(15,"input",60),o.YNc(16,Fc,2,0,"mat-error",33),o.qZA(),o.qZA(),o.TgZ(17,"div",61),o.YNc(18,Bc,3,4,"button",62),o.YNc(19,Zc,2,1,"button",63),o.qZA(),o.qZA(),o.BQk()),2&r){const e=o.oxw(2);o.xp6(1),o.Q6J("formGroup",e.eventForm),o.xp6(6),o.Q6J("svgIcon","heroicons_outline:pencil-alt"),o.xp6(3),o.Q6J("ngForOf",e.requestSoli),o.xp6(1),o.Q6J("ngIf",e.eventForm.get("id").hasError("required")),o.xp6(2),o.Q6J("svgIcon","heroicons_outline:calendar"),o.xp6(2),o.Q6J("formControlName","withdrawalTime"),o.xp6(1),o.Q6J("ngIf",e.eventForm.get("withdrawalTime").hasError("required")),o.xp6(2),o.Q6J("ngIf","add"===e.panelMode),o.xp6(1),o.Q6J("ngIf","edit"===e.panelMode)}}function Uc(r,t){if(1&r&&(o.YNc(0,Oc,23,13,"ng-container",33),o.YNc(1,Lc,20,9,"ng-container",33)),2&r){const e=o.oxw();o.Q6J("ngIf","view"===e.panelMode),o.xp6(1),o.Q6J("ngIf","add"===e.panelMode||"edit"===e.panelMode)}}let Vc=(()=>{class r{constructor(e,n,i,a,s,l,d,c,f,p){this._calendarService=e,this._changeDetectorRef=n,this._document=i,this._formBuilder=a,this._matDialog=s,this._overlay=l,this._fuseMediaWatcherService=d,this._viewContainerRef=c,this._requestService=f,this.router=p,this.calendarPlugins=[Gl,md,Wl,Ed,Cd,Gd],this.drawerMode="side",this.drawerOpened=!0,this.eventEditMode="single",this.events=[],this.panelMode="view",this.view="dayGridMonth",this._unsubscribeAll=new Nt.xQ,this.locale="es",this.loading=!0,this.plate="todos"}ngOnInit(){this._calendarService.getRequestSoli().subscribe(e=>{const n=e.requests.filter(i=>"SOLICITADO"===i.status.name);this.requestSoli=n}),this._calendarService.getPlate().subscribe(e=>{console.log(e.vehicles),this.vehicle=e.vehicles}),this.eventForm=this._formBuilder.group({id:["",x.kI.required],withdrawalDate:[null],withdrawalTime:["",x.kI.required]}),this._calendarService.calendars$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(e=>{this.calendars=e,this._changeDetectorRef.markForCheck()}),this._calendarService.events$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(e=>{this.events=(0,Ft.Z)(e),this._changeDetectorRef.markForCheck()}),this._calendarService.settings$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(e=>{this.settings=e,this.eventTimeFormat={hour:"12"===e.timeFormat?"numeric":"2-digit",hour12:"12"===e.timeFormat,minute:"2-digit",meridiem:"12"===e.timeFormat&&"short"},this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{e.includes("md")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()}),this.views={dayGridMonth:{eventLimit:3,eventTimeFormat:this.eventTimeFormat,fixedWeekCount:!1},timeGrid:{allDayText:"",columnHeaderFormat:{weekday:"short",day:"numeric",omitCommas:!0},columnHeaderHtml:e=>`<span class="fc-weekday">${R(e).format("ddd")}</span>\n                                                       <span class="fc-date">${R(e).format("D")}</span>`,slotDuration:"01:00:00",slotLabelFormat:this.eventTimeFormat},timeGridWeek:{},timeGridDay:{},listYear:{allDayText:"All day",eventTimeFormat:this.eventTimeFormat,listDayFormat:!1,listDayAltFormat:!1}}}selectPlate(e){"todos"===e?this._calendarService.events$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(n=>{this.events=(0,Ft.Z)(n),this._changeDetectorRef.markForCheck()}):this._calendarService.events$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(n=>{let i=[];n.map(a=>{a.title.includes(e)&&(i=[...i,a])}),this.events=i,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._fullCalendarApi=this._fullCalendar.getApi(),this.viewTitle=this._fullCalendarApi.view.title;const e=R(this._fullCalendarApi.view.currentStart).subtract(60,"days"),n=R(this._fullCalendarApi.view.currentEnd).add(60,"days");this._calendarService.getEvents(e,n,!0).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete(),this._eventPanelOverlayRef&&this._eventPanelOverlayRef.dispose()}toggleDrawer(){this._drawer.toggle()}openRecurrenceDialog(){this._matDialog.open(ic,{panelClass:"calendar-event-recurrence-dialog",data:{event:this.eventForm.value}}).afterClosed().subscribe(n=>{!n||!n.recurrence||this.eventForm.get("recurrence").value!==n.recurrence&&("cleared"===n.recurrence?this.eventForm.get("recurrence").setValue(null):this.eventForm.get("recurrence").setValue(n.recurrence))})}changeEventPanelMode(e,n="single"){this.panelMode=e,this.eventEditMode=n,setTimeout(()=>{this._eventPanelOverlayRef.updatePosition()})}getCalendar(e){if(e)return this.calendars.find(n=>n.id===e)}changeView(e){this.view=e,this.locale="es",this._fullCalendarApi&&(this._fullCalendarApi.changeView(e),this.viewTitle=this._fullCalendarApi.view.title)}previous(){this._fullCalendarApi.prev(),this.viewTitle=this._fullCalendarApi.view.title;const e=R(this._fullCalendarApi.view.currentStart);this._calendarService.prefetchPastEvents(e).subscribe()}today(){this._fullCalendarApi.today(),this.viewTitle=this._fullCalendarApi.view.title}next(){this._fullCalendarApi.next(),this.viewTitle=this._fullCalendarApi.view.title;const e=R(this._fullCalendarApi.view.currentEnd);this._calendarService.prefetchFutureEvents(e).subscribe()}onDateClick(e){if(R(e.date).format("YYYY-MM-DD")<R(new Date).format("YYYY-MM-DD"))return;this.dateSave=e.date;const n={id:null,calendarId:this.calendars[0].id,recurringEventId:null,isFirstInstance:!1,title:"",description:"",start:R(e.date).startOf("day").toISOString(),end:R(e.date).endOf("day").toISOString(),duration:null,allDay:!0,recurrence:null,range:{start:R(e.date).startOf("day").toISOString(),end:R(e.date).endOf("day").toISOString()}};this.event=n,e.el=e.dayEl,this.eventForm.reset(),this.eventForm.patchValue(n),this._openEventPanel(e),this.changeEventPanelMode("add")}onEventClick(e){const n=(0,Ft.Z)(this.events.find(a=>a.id===e.event.id));let i;console.log(n),this.event=n,i=n.recuringEventId?R(n.start).add(n.duration,"minutes").toISOString():n.end,n.range={start:n.start,end:i},this.eventForm.reset(),this.eventForm.patchValue(n),this._openEventPanel(e)}onEventRender(e){const n=this.calendars.find(i=>i.id===e.event.extendedProps.calendarId);if(n){if("listYear"===this.view){const i=`<td class="fc-list-item-date">\n                                            <span>\n                                                <span>${R(e.event.start).format("D")}</span>\n                                                <span>${R(e.event.start).format("MMM")}, ${R(e.event.start).format("ddd")}</span>\n                                            </span>\n                                        </td>`;e.el.insertAdjacentHTML("afterbegin",i),e.el.getElementsByClassName("fc-event-dot")[0].classList.add(n.color),e.event.title||(e.el.querySelector(".fc-list-item-title").innerText="(No title)")}else e.el.classList.add(n.color),e.event.title||(e.el.querySelector(".fc-title").innerText="(No title)");e.el.style.display=n.visible?"flex":"none"}}onCalendarUpdated(e){this._fullCalendarApi.rerenderEvents()}addEvent(){!this.eventForm.valid||(this.eventForm.disable(),this._calendarService.getStatus().subscribe(e=>{this._requestService.updateRequest(this.eventForm.value.id,{withdrawalDate:this.dateSave,withdrawalTime:this.eventForm.value.withdrawalTime}).subscribe(i=>{console.log(i),this.router.navigate([`/request/edit/${this.eventForm.value.id}`])})}))}updateEvent(){let e=function(r){return(0,Yd.Z)(r,4)}(this.eventForm.value);const i=(0,u._T)(e,["range"]),a=this.events.find(s=>s.id===e.id);if(function(r,t){return(0,jd.Z)(r,t)}(i,a))this._closeEventPanel();else if(e.recurrence&&e.recurringEventId)this._calendarService.updateRecurringEvent(e,a,this.eventEditMode).subscribe(()=>{this._calendarService.reloadEvents().subscribe(),this._closeEventPanel()});else{if(e.recurrence||e.recurringEventId)return e.recurrence&&!e.recurringEventId?(e.duration=R(e.range.end).diff(R(e.range.start),"minutes"),e=(0,Xd.Z)(e,["range","recurringEventId"]),void this._calendarService.updateEvent(e.id,e).subscribe(()=>{this._calendarService.reloadEvents().subscribe(),this._closeEventPanel()})):void(!e.recurrence&&e.recurringEventId&&(e.end=R(e.start).add(e.duration,"minutes").toISOString(),e.duration=null,this._calendarService.updateRecurringEvent(e,a,this.eventEditMode).subscribe(()=>{this._calendarService.reloadEvents().subscribe(),this._closeEventPanel()})));this._calendarService.updateEvent(e.id,e).subscribe(()=>{this._closeEventPanel()})}}deleteEvent(e,n="single"){e.recurrence?this._calendarService.deleteRecurringEvent(e,n).subscribe(()=>{this._calendarService.reloadEvents().subscribe(),this._closeEventPanel()}):this._calendarService.deleteEvent(e.id).subscribe(()=>{this._closeEventPanel()})}_createEventPanelOverlay(e){this._eventPanelOverlayRef=this._overlay.create({panelClass:["calendar-event-panel"],backdropClass:"",hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:e}),this._eventPanelOverlayRef.backdropClick().subscribe(()=>{this._closeEventPanel()})}_openEventPanel(e){console.log(e);const n=this._overlay.position().flexibleConnectedTo(e.el).withFlexibleDimensions(!1).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:8},{originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:-8},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom",offsetX:-8},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom",offsetX:8}]);this._eventPanelOverlayRef?this._eventPanelOverlayRef.updatePositionStrategy(n):this._createEventPanelOverlay(n),this._eventPanelOverlayRef.attach(new ui.UE(this._eventPanel,this._viewContainerRef)),this._changeDetectorRef.markForCheck()}_closeEventPanel(){this._eventPanelOverlayRef.detach(),this.panelMode="view",this.eventEditMode="single",this._changeDetectorRef.markForCheck()}_updateRecurrenceRule(){const e=this.eventForm.value;if(!e.recurrence)return;const n={};if(e.recurrence.split(";").forEach(s=>{const l=s.split("=");n[l[0]]=l[1]}),n.BYDAY&&(n.BYDAY=n.BYDAY.split(",")),"DAILY"===n.FREQ||"WEEKLY"===n.FREQ&&n.BYDAY.length>1||"MONTHLY"===n.FREQ&&!n.BYDAY||"YEARLY"===n.FREQ)return;if("WEEKLY"===n.FREQ&&(n.BYDAY=[R(e.start).format("dd").toUpperCase()]),"MONTHLY"===n.FREQ){const s=R(e.start).format("dd").toUpperCase();let l=1;for(;R(e.start).isSame(R(e.start).subtract(l,"week"),"month");)l++;n.BYDAY=[l+s]}const i=[];Object.keys(n).forEach(s=>{i.push(s+"="+(Array.isArray(n[s])?n[s].join(","):n[s]))});const a=i.join(";");this.eventForm.get("recurrence").setValue(a)}_updateEndValue(){const e=this.eventForm.get("recurrence").value;if(!e)return;const n={};if(e.split(";").forEach(i=>{const a=i.split("=");n[a[0]]=a[1]}),n.UNTIL)this.eventForm.get("end").setValue(n.UNTIL);else if(n.COUNT){const i="DTSTART="+R(this.eventForm.get("start").value).utc().format("YYYYMMDD[T]HHmmss[Z]")+"\nRRULE:"+e,a=At.Ci.fromString(i).all();this.eventForm.get("end").setValue(R(a[a.length-1]).toISOString())}else this.eventForm.get("end").setValue(R().year(9999).endOf("year").toISOString())}handleSelect(e){console.log(e)}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(Me),o.Y36(o.sBO),o.Y36(re.K0),o.Y36(x.qu),o.Y36(it.uw),o.Y36(Ni.aV),o.Y36(ac.T),o.Y36(o.s_b),o.Y36(oc.s),o.Y36(B.F0))},r.\u0275cmp=o.Xpm({type:r,selectors:[["calendar"]],viewQuery:function(e,n){if(1&e&&(o.Gf(Sc,5),o.Gf(wc,5),o.Gf(Dc,5),o.Gf(_c,5)),2&e){let i;o.iGM(i=o.CRH())&&(n._eventPanel=i.first),o.iGM(i=o.CRH())&&(n._fullCalendar=i.first),o.iGM(i=o.CRH())&&(n._drawer=i.first),o.iGM(i=o.CRH())&&(n.newEventForm=i.first)}},decls:71,vars:34,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden","dark:bg-gray-900"],[1,"flex-auto","h-full","bg-transparent"],[1,"w-60","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[3,"calendarUpdated"],[1,"flex"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-0","flex-wrap","items-center","p-4","border-b","bg-card"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"ml-4","text-2xl","font-semibold","tracking-tight","whitespace-nowrap"],["mat-icon-button","",1,"ml-5",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-icon-button","",1,"hidden","md:inline-flex",3,"click"],[1,"hidden","md:block","ml-auto"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-60","ml-2"],[3,"value","selectionChange","valueChange"],["viewPlate","matSelect"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-30","ml-2"],[3,"value","selectionChange"],["viewChanger","matSelect"],[1,"md:hidden","ml-auto"],["mat-icon-button","",1,"",3,"matMenuTriggerFor"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["actionsViewsMenu","matMenu"],["mat-menu-item","",3,"disabled","click"],[3,"defaultView","events","firstDay","handleWindowResize","header","height","plugins","views","locale","dateClick","eventClick","eventRender"],["fullCalendar",""],["eventPanel",""],[4,"ngIf"],[1,"flex-auto","p-8"],[1,"flex","flex-auto","justify-between","ml-6"],[1,"text-3xl","font-semibold","tracking-tight","leading-none"],[1,"mt-0.5","text-secondary"],[1,"text-secondary"],[1,"flex","-mt-2","-mr-2","ml-10"],["class","flex mt-6",4,"ngIf"],[1,"flex","mt-6"],[1,"flex","flex-auto","items-center","ml-6"],[1,"w-2","h-2","rounded-full",3,"ngClass"],[1,"ml-3","leading-none"],["mat-icon-button","",3,"routerLink"],["mat-icon-button","",3,"matMenuTriggerFor"],["editMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["deleteMenu","matMenu"],[1,"flex-auto","ml-6"],[1,"flex","flex-col","w-80","p-6","pt-8","sm:pt-10","sm:pr-8",3,"formGroup"],["newEventForm","ngForm"],[1,"pb-6","text-2xl","font-extrabold","tracking-tight"],[1,"flex","items-center"],[1,"hidden","sm:inline-flex","mr-6",3,"svgIcon"],[1,"fuse-mat-no-subscript","flex-auto","w-full"],["formControlName","id"],[1,"flex","items-start","mt-6"],[1,"hidden","sm:inline-flex","mt-3","mr-6",3,"svgIcon"],["type","time","matInput","","placeholder","Hora de retiro",3,"formControlName"],[1,"ml-auto","mt-6"],["class","add","mat-flat-button","","type","button",3,"color","disabled","click",4,"ngIf"],["class","save","mat-flat-button","","type","button",3,"color","click",4,"ngIf"],["mat-flat-button","","type","button",1,"add",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"],["mat-flat-button","","type","button",1,"save",3,"color","click"]],template:function(e,n){if(1&e){const i=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"mat-drawer-container",1),o.TgZ(2,"mat-drawer",2,3),o.TgZ(4,"calendar-sidebar",4),o.NdJ("calendarUpdated",function(s){return n.onCalendarUpdated(s)}),o.qZA(),o.qZA(),o.TgZ(5,"mat-drawer-content",5),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.TgZ(8,"button",8),o.NdJ("click",function(){return n.toggleDrawer()}),o._UZ(9,"mat-icon",9),o.qZA(),o.TgZ(10,"div",10),o._uU(11),o.qZA(),o.TgZ(12,"button",11),o.NdJ("click",function(){return n.previous()}),o._UZ(13,"mat-icon",12),o.qZA(),o.TgZ(14,"button",8),o.NdJ("click",function(){return n.next()}),o._UZ(15,"mat-icon",12),o.qZA(),o.TgZ(16,"button",13),o.NdJ("click",function(){return n.today()}),o._UZ(17,"mat-icon",9),o.qZA(),o.TgZ(18,"div",14),o.TgZ(19,"b"),o._uU(20,"Placa"),o.qZA(),o.TgZ(21,"mat-form-field",15),o.TgZ(22,"mat-select",16,17),o.NdJ("selectionChange",function(){o.CHM(i);const s=o.MAs(23);return n.selectPlate(s.value)})("valueChange",function(s){return n.plate=s}),o.TgZ(24,"mat-option",18),o._uU(25,"Todos"),o.qZA(),o.YNc(26,Tc,2,2,"mat-option",19),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",14),o.TgZ(28,"mat-form-field",20),o.TgZ(29,"mat-select",21,22),o.NdJ("selectionChange",function(){o.CHM(i);const s=o.MAs(30);return n.changeView(s.value)}),o.TgZ(31,"mat-option",18),o._uU(32,"Mes"),o.qZA(),o.TgZ(33,"mat-option",18),o._uU(34,"Semana"),o.qZA(),o.TgZ(35,"mat-option",18),o._uU(36,"Dia"),o.qZA(),o.TgZ(37,"mat-option",18),o._uU(38,"Agendamietos"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(39,"div",23),o.TgZ(40,"button",24),o._UZ(41,"mat-icon",9),o.TgZ(42,"mat-menu",null,25),o.TgZ(44,"button",26),o.NdJ("click",function(){return n.today()}),o._UZ(45,"mat-icon",9),o.TgZ(46,"span"),o._uU(47,"Ir a hoy"),o.qZA(),o.qZA(),o.TgZ(48,"button",27),o._UZ(49,"mat-icon",9),o.TgZ(50,"span"),o._uU(51,"Ver"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(52,"mat-menu",null,28),o.TgZ(54,"button",29),o.NdJ("click",function(){return n.changeView("dayGridMonth")}),o.TgZ(55,"span"),o._uU(56,"Mes"),o.qZA(),o.qZA(),o.TgZ(57,"button",29),o.NdJ("click",function(){return n.changeView("timeGridWeek")}),o.TgZ(58,"span"),o._uU(59,"Semana"),o.qZA(),o.qZA(),o.TgZ(60,"button",29),o.NdJ("click",function(){return n.changeView("timeGridDay")}),o.TgZ(61,"span"),o._uU(62,"Dia"),o.qZA(),o.qZA(),o.TgZ(63,"button",29),o.NdJ("click",function(){return n.changeView("listYear")}),o.TgZ(64,"span"),o._uU(65,"Agendado"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(66,"div",6),o.TgZ(67,"full-calendar",30,31),o.NdJ("dateClick",function(s){return n.onDateClick(s)})("eventClick",function(s){return n.onEventClick(s)})("eventRender",function(s){return n.onEventRender(s)}),o.qZA(),o.qZA(),o.YNc(69,Uc,2,2,"ng-template",null,32,o.W1O),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const i=o.MAs(43),a=o.MAs(53);o.xp6(2),o.Q6J("autoFocus",!1)("mode",n.drawerMode)("opened",n.drawerOpened),o.xp6(7),o.Q6J("svgIcon","heroicons_outline:menu"),o.xp6(2),o.hij(" ",n.viewTitle," "),o.xp6(2),o.Q6J("svgIcon","heroicons_solid:chevron-left"),o.xp6(2),o.Q6J("svgIcon","heroicons_solid:chevron-right"),o.xp6(2),o.Q6J("svgIcon","heroicons_outline:calendar"),o.xp6(5),o.Q6J("value",n.plate),o.xp6(2),o.Q6J("value","todos"),o.xp6(2),o.Q6J("ngForOf",n.vehicle),o.xp6(3),o.Q6J("value",n.view),o.xp6(2),o.Q6J("value","dayGridMonth"),o.xp6(2),o.Q6J("value","timeGridWeek"),o.xp6(2),o.Q6J("value","timeGridDay"),o.xp6(2),o.Q6J("value","listYear"),o.xp6(3),o.Q6J("matMenuTriggerFor",i),o.xp6(1),o.Q6J("svgIcon","heroicons_outline:dots-vertical"),o.xp6(4),o.Q6J("svgIcon","heroicons_outline:calendar"),o.xp6(3),o.Q6J("matMenuTriggerFor",a),o.xp6(1),o.Q6J("svgIcon","heroicons_outline:view-grid"),o.xp6(5),o.Q6J("disabled","dayGridMonth"===n.view),o.xp6(3),o.Q6J("disabled","timeGridWeek"===n.view),o.xp6(3),o.Q6J("disabled","timeGridDay"===n.view),o.xp6(3),o.Q6J("disabled","listYear"===n.view),o.xp6(4),o.Q6J("defaultView",n.view)("events",n.events)("firstDay",n.settings.startWeekOn)("handleWindowResize",!1)("header",!1)("height","parent")("plugins",n.calendarPlugins)("views",n.views)("locale",n.locale)}},directives:[ot.kh,ot.jA,bc,ot.LW,Q.lW,Ye.Hw,K.KE,Oe.gD,F.ey,re.sg,at.p6,at.VK,at.OP,Sl,re.O5,re.mk,B.rH,x._Y,x.JL,x.sg,Ec.d,x.JJ,x.u,ze.Nt,x.Fj,K.TO,Hi.Ou],pipes:[re.uU],styles:["calendar full-calendar{display:flex;flex-direction:column;flex:1 0 auto;width:100%;height:100%}calendar full-calendar .fc-view-container{display:flex;flex-direction:column;flex:1 0 auto;width:100%;height:100%}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view,calendar full-calendar .fc-view-container .fc-view.fc-timeGridWeek-view,calendar full-calendar .fc-view-container .fc-view.fc-timeGridDay-view{display:flex;flex-direction:column;flex:1 0 auto;width:100%;height:100%}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table,calendar full-calendar .fc-view-container .fc-view.fc-timeGridWeek-view>table,calendar full-calendar .fc-view-container .fc-view.fc-timeGridDay-view>table{display:flex;flex-direction:column;flex:1 0 auto;height:100%}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table>thead,calendar full-calendar .fc-view-container .fc-view.fc-timeGridWeek-view>table>thead,calendar full-calendar .fc-view-container .fc-view.fc-timeGridDay-view>table>thead{display:flex}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table>tbody,calendar full-calendar .fc-view-container .fc-view.fc-timeGridWeek-view>table>tbody,calendar full-calendar .fc-view-container .fc-view.fc-timeGridDay-view>table>tbody{display:flex;flex:1 1 auto;overflow:hidden}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table>tbody>tr,calendar full-calendar .fc-view-container .fc-view.fc-timeGridWeek-view>table>tbody>tr,calendar full-calendar .fc-view-container .fc-view.fc-timeGridDay-view>table>tbody>tr{display:flex}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table>tbody>tr>td,calendar full-calendar .fc-view-container .fc-view.fc-timeGridWeek-view>table>tbody>tr>td,calendar full-calendar .fc-view-container .fc-view.fc-timeGridDay-view>table>tbody>tr>td{display:flex;flex-direction:column}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table>tbody>tr>td .fc-scroller,calendar full-calendar .fc-view-container .fc-view.fc-timeGridWeek-view>table>tbody>tr>td .fc-scroller,calendar full-calendar .fc-view-container .fc-view.fc-timeGridDay-view>table>tbody>tr>td .fc-scroller{flex:1 1 auto;overflow:hidden scroll!important;height:auto!important}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table>tbody>tr>td .fc-scroller{display:flex}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table>tbody>tr>td .fc-scroller>.fc-day-grid{display:flex;flex-direction:column;min-height:580px}calendar full-calendar .fc-view-container .fc-view.fc-dayGridMonth-view>table>tbody>tr>td .fc-scroller>.fc-day-grid>.fc-row{flex:1 0 0;height:auto!important}calendar full-calendar .fc-view-container .fc-view.fc-listYear-view{width:100%;height:100%}calendar full-calendar .fc-view-container .fc-view.fc-listYear-view .fc-scroller{width:100%;height:100%!important;overflow:hidden!important}.calendar-event-panel{border-radius:8px;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));--tw-shadow: 0 25px 50px -12px rgba(0, 0, 0, .25);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}\n"],encapsulation:2,changeDetection:0}),r})();const Gc=function(){return[".."]};let Yc=(()=>{class r{constructor(e,n,i){this._calendarService=e,this._changeDetectorRef=n,this._formBuilder=i,this._unsubscribeAll=new Nt.xQ}get year(){return(new Date).getFullYear().toString()}ngOnInit(){this.settingsForm=this._formBuilder.group({dateFormat:[""],timeFormat:[""],startWeekOn:[""]}),this._calendarService.settings$.pipe((0,ue.R)(this._unsubscribeAll)).subscribe(e=>{this.settingsForm.patchValue(e),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}updateSettings(){this._calendarService.updateSettings(this.settingsForm.value).subscribe(n=>{this.settingsForm.reset(n)})}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(Me),o.Y36(o.sBO),o.Y36(x.qu))},r.\u0275cmp=o.Xpm({type:r,selectors:[["calendar-settings"]],decls:41,vars:22,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","h-16","px-4","sm:px-6","py-2","border-b"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"ml-1","text-lg","font-medium"],[1,"flex","flex-auto","p-6","sm:p-8"],[1,"flex","flex-col","w-full","max-w-xs",3,"formGroup"],[1,"w-full"],[3,"formControlName"],[3,"value"],["mat-flat-button","",1,"mt-4",3,"color","disabled","click"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"a",3),o._UZ(4,"mat-icon",4),o.qZA(),o.TgZ(5,"div",5),o._uU(6,"Settings"),o.qZA(),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"form",7),o.TgZ(9,"mat-form-field",8),o.TgZ(10,"mat-label"),o._uU(11,"Date format"),o.qZA(),o.TgZ(12,"mat-select",9),o.TgZ(13,"mat-option",10),o._uU(14),o.qZA(),o.TgZ(15,"mat-option",10),o._uU(16),o.qZA(),o.TgZ(17,"mat-option",10),o._uU(18),o.qZA(),o.TgZ(19,"mat-option",10),o._uU(20),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"mat-form-field",8),o.TgZ(22,"mat-label"),o._uU(23,"Time format"),o.qZA(),o.TgZ(24,"mat-select",9),o.TgZ(25,"mat-option",10),o._uU(26,"1:00pm"),o.qZA(),o.TgZ(27,"mat-option",10),o._uU(28,"13:30"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"mat-form-field",8),o.TgZ(30,"mat-label"),o._uU(31,"Start week on"),o.qZA(),o.TgZ(32,"mat-select",9),o.TgZ(33,"mat-option",10),o._uU(34,"Saturday"),o.qZA(),o.TgZ(35,"mat-option",10),o._uU(36,"Sunday"),o.qZA(),o.TgZ(37,"mat-option",10),o._uU(38,"Monday"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(39,"button",11),o.NdJ("click",function(){return n.updateSettings()}),o._uU(40," Save "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("routerLink",o.DdM(21,Gc)),o.xp6(1),o.Q6J("svgIcon","heroicons_outline:arrow-narrow-left"),o.xp6(4),o.Q6J("formGroup",n.settingsForm),o.xp6(4),o.Q6J("formControlName","dateFormat"),o.xp6(1),o.Q6J("value","ll"),o.xp6(1),o.hij("Aug 20, ",n.year,""),o.xp6(1),o.Q6J("value","MM/DD/YYYY"),o.xp6(1),o.hij("12/31/",n.year,""),o.xp6(1),o.Q6J("value","DD/MM/YYYY"),o.xp6(1),o.hij("31/12/",n.year,""),o.xp6(1),o.Q6J("value","YYYY-MM-DD"),o.xp6(1),o.hij("",n.year,"-12-31"),o.xp6(4),o.Q6J("formControlName","timeFormat"),o.xp6(1),o.Q6J("value","12"),o.xp6(2),o.Q6J("value","24"),o.xp6(5),o.Q6J("formControlName","startWeekOn"),o.xp6(1),o.Q6J("value",6),o.xp6(2),o.Q6J("value",0),o.xp6(2),o.Q6J("value",1),o.xp6(2),o.Q6J("color","primary")("disabled",n.settingsForm.invalid||n.settingsForm.pristine))},directives:[ie.PQ,Q.zs,B.yS,Ye.Hw,x._Y,x.JL,x.sg,K.KE,K.hX,Oe.gD,x.JJ,x.u,F.ey,Q.lW],encapsulation:2,changeDetection:0}),r})(),zc=(()=>{class r{constructor(e){this._calendarService=e}resolve(e,n){return this._calendarService.getCalendars()}}return r.\u0275fac=function(e){return new(e||r)(o.LFG(Me))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Bi=(()=>{class r{constructor(e){this._calendarService=e}resolve(e,n){return this._calendarService.getSettings()}}return r.\u0275fac=function(e){return new(e||r)(o.LFG(Me))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const qc=[{path:"",component:Vc,resolve:{calendars:zc,settings:Bi,weekdays:(()=>{class r{constructor(e){this._calendarService=e}resolve(e,n){return this._calendarService.getWeekdays()}}return r.\u0275fac=function(e){return new(e||r)(o.LFG(Me))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}},{path:"settings",component:Yc,resolve:{settings:Bi}}];var Wc=b(7648);let jc=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:F.sG,useValue:{parse:{dateInput:"DD.MM.YYYY"},display:{dateInput:"DD.MM.YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"DD.MM.YYYY",monthYearA11yLabel:"MMMM YYYY"}}}],imports:[[B.Bz.forChild(qc),ie.Cl,Q.ot,ke.vV,Zi.p9,Ge.FA,it.Is,K.lN,Ye.Ps,ze.c,at.Tx,Fn,qi.Fk,Oe.LD,ot.SJ,Nn.AV,wl,Tl,Cl.m,Hi.Cq,Wc.ie]]}),r})()}}]);